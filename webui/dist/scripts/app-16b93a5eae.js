/******/!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),n(4),n(5),n(6),n(58),n(59),n(61),n(62),n(60),n(63),n(64),n(65),n(14),n(17),n(16),n(15),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(79),n(80),n(78),t.exports=n(81)},function(t,e,n){var i,o;/**!
	 * easy-pie-chart
	 * Lightweight plugin to render simple, animated and retina optimized pie charts
	 *
	 * @license 
	 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
	 * @version 2.1.7
	 **/
!function(s,a){i=[n(2)],o=function(t){return a(t)}.apply(e,i),!(void 0!==o&&(t.exports=o))}(this,function(t){!function(t){"use strict";return t.module("easypiechart",[]).directive("easypiechart",[function(){return{restrict:"AE",require:"?ngModel",scope:{percent:"=",options:"="},link:function(e,i,o){e.percent=e.percent||0;var s={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0}};e.options=t.extend(s,e.options);var a=new n(i[0],s);e.$watch("percent",function(t,e){a.update(t)})}}}])}(t);var e=function(t,e){var n,i=document.createElement("canvas");t.appendChild(i),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var o=i.getContext("2d");i.width=i.height=e.size;var s=1;window.devicePixelRatio>1&&(s=window.devicePixelRatio,i.style.width=i.style.height=[e.size,"px"].join(""),i.width=i.height=e.size*s,o.scale(s,s)),o.translate(e.size/2,e.size/2),o.rotate((-0.5+e.rotate/180)*Math.PI);var a=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(a-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var r=function(t,e,n){n=Math.min(Math.max(-1,n||0),1);var i=0>=n?!0:!1;o.beginPath(),o.arc(0,0,a,0,2*Math.PI*n,i),o.strokeStyle=t,o.lineWidth=e,o.stroke()},l=function(){var t,n;o.lineWidth=1,o.fillStyle=e.scaleColor,o.save();for(var i=24;i>0;--i)i%6===0?(n=e.scaleLength,t=0):(n=.6*e.scaleLength,t=e.scaleLength-n),o.fillRect(-e.size/2+t,0,n,1),o.rotate(Math.PI/12);o.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),d=function(){e.scaleColor&&l(),e.trackColor&&r(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return o},this.clear=function(){o.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){e.scaleColor||e.trackColor?o.getImageData&&o.putImageData?n?o.putImageData(n,0,0):(d(),n=o.getImageData(0,0,e.size*s,e.size*s)):(this.clear(),d()):this.clear(),o.lineCap=e.lineCap;var i;i="function"==typeof e.barColor?e.barColor(t):e.barColor,r(i,e.lineWidth,t/100)}.bind(this),this.animate=function(t,n){var i=Date.now();e.onStart(t,n);var o=function(){var s=Math.min(Date.now()-i,e.animate.duration),a=e.easing(this,s,t,n-t,e.animate.duration);this.draw(a),e.onStep(t,n,a),s>=e.animate.duration?e.onStop(t,n):c(o)}.bind(this);c(o)}.bind(this)},n=function(t,n){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,i,o){return e/=o/2,1>e?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(t,e){},onStep:function(t,e,n){},onStop:function(t,e){}};if("undefined"!=typeof e)i.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var o={},s=0,a=function(){this.el=t,this.options=o;for(var e in i)i.hasOwnProperty(e)&&(o[e]=n&&"undefined"!=typeof n[e]?n[e]:i[e],"function"==typeof o[e]&&(o[e]=o[e].bind(this)));"string"==typeof o.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[o.easing])?o.easing=jQuery.easing[o.easing]:o.easing=i.easing,"number"==typeof o.animate&&(o.animate={duration:o.animate,enabled:!0}),"boolean"!=typeof o.animate||o.animate||(o.animate={duration:1e3,enabled:o.animate}),this.renderer=new o.renderer(t,o),this.renderer.draw(s),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),o.animate.enabled?this.renderer.animate(s,t):this.renderer.draw(t),s=t,this}.bind(this),this.disableAnimation=function(){return o.animate.enabled=!1,this},this.enableAnimation=function(){return o.animate.enabled=!0,this},a()}})},function(t,e,n){n(3),t.exports=angular},function(t,e){/**
	 * @license AngularJS v1.5.11
	 * (c) 2010-2017 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,o=2,s=arguments,a=s[0],r="["+(t?t+":":"")+a+"] ",l=s[1];for(r+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+o;return n<s.length?yt(s[n]):t}),r+="\nhttp://errors.angularjs.org/1.5.11/"+(t?t+"/":"")+a,i=o,n="?";i<s.length;i++,n="&")r+=n+"p"+(i-o)+"="+encodeURIComponent(yt(s[i]));return new e(r)}}function n(t){if(null==t||w(t))return!1;if(io(t)||S(t)||Hi&&t instanceof Hi)return!0;var e="length"in Object(t)&&t.length;return C(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,o){var s,a;if(t)if(E(t))for(s in t)"prototype"===s||"length"===s||"name"===s||t.hasOwnProperty&&!t.hasOwnProperty(s)||e.call(o,t[s],s,t);else if(io(t)||n(t)){var r="object"!=typeof t;for(s=0,a=t.length;a>s;s++)(r||s in t)&&e.call(o,t[s],s,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,o,t);else if($(t))for(s in t)e.call(o,t[s],s,t);else if("function"==typeof t.hasOwnProperty)for(s in t)t.hasOwnProperty(s)&&e.call(o,t[s],s,t);else for(s in t)Gi.call(t,s)&&e.call(o,t[s],s,t);return t}function o(t,e,n){for(var i=Object.keys(t).sort(),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function s(t){return function(e,n){t(n,e)}}function a(){return++eo}function r(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var i=t.$$hashKey,o=0,s=e.length;s>o;++o){var a=e[o];if(y(a)||E(a))for(var c=Object.keys(a),d=0,u=c.length;u>d;d++){var p=c[d],f=a[p];n&&y(f)?T(f)?t[p]=new Date(f.valueOf()):A(f)?t[p]=new RegExp(f):f.nodeName?t[p]=f.cloneNode(!0):P(f)?t[p]=f.clone():(y(t[p])||(t[p]=io(f)?[]:{}),l(t[p],[f],!0)):t[p]=f}}return r(t,i),t}function c(t){return l(t,Yi.call(arguments,1),!1)}function d(t){return l(t,Yi.call(arguments,1),!0)}function u(t){return parseInt(t,10)}function p(t,e){return c(Object.create(t),e)}function f(){}function h(t){return t}function m(t){return function(){return t}}function v(t){return E(t.toString)&&t.toString!==Qi}function g(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function $(t){return null!==t&&"object"==typeof t&&!Xi(t)}function S(t){return"string"==typeof t}function C(t){return"number"==typeof t}function T(t){return"[object Date]"===Qi.call(t)}function E(t){return"function"==typeof t}function A(t){return"[object RegExp]"===Qi.call(t)}function w(t){return t&&t.window===t}function I(t){return t&&t.$evalAsync&&t.$watch}function x(t){return"[object File]"===Qi.call(t)}function N(t){return"[object FormData]"===Qi.call(t)}function R(t){return"[object Blob]"===Qi.call(t)}function O(t){return"boolean"==typeof t}function M(t){return t&&E(t.then)}function D(t){return t&&C(t.length)&&oo.test(Qi.call(t))}function k(t){return"[object ArrayBuffer]"===Qi.call(t)}function P(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function _(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function L(t){return Fi(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function G(t,e){function n(t,e){var n,i=e.$$hashKey;if(io(t))for(var s=0,a=t.length;a>s;s++)e.push(o(t[s]));else if($(t))for(n in t)e[n]=o(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=o(t[n]));else for(n in t)Gi.call(t,n)&&(e[n]=o(t[n]));return r(e,i),e}function o(t){if(!y(t))return t;var e=a.indexOf(t);if(-1!==e)return l[e];if(w(t)||I(t))throw Zi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=s(t);return void 0===o&&(o=io(t)?[]:Object.create(Xi(t)),i=!0),a.push(t),l.push(o),i?n(t,o):o}function s(t){switch(Qi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(o(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}return E(t.cloneNode)?t.cloneNode(!0):void 0}var a=[],l=[];if(e){if(D(e)||k(e))throw Zi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Zi("cpi","Can't copy! Source and destination are identical.");return io(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),l.push(e),n(t,e)}return o(t)}function F(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,o,s=typeof t,a=typeof e;if(s===a&&"object"===s){if(!io(t)){if(T(t))return T(e)?F(t.getTime(),e.getTime()):!1;if(A(t))return A(e)?t.toString()===e.toString():!1;if(I(t)||I(e)||w(t)||w(e)||io(e)||T(e)||A(e))return!1;o=mt();for(i in t)if("$"!==i.charAt(0)&&!E(t[i])){if(!F(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o)&&"$"!==i.charAt(0)&&b(e[i])&&!E(e[i]))return!1;return!0}if(!io(e))return!1;if((n=t.length)===e.length){for(i=0;n>i;i++)if(!F(t[i],e[i]))return!1;return!0}}return!1}function j(t,e,n){return t.concat(Yi.call(e,n))}function V(t,e){return Yi.call(t,e||0)}function B(t,e){var n=arguments.length>2?V(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,j(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function W(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:w(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":I(n)&&(i="$SCOPE"),i}function H(t,e){return g(t)?void 0:(C(e)||(e=e?2:null),JSON.stringify(t,W,e))}function q(t){return S(t)?JSON.parse(t):t}function z(t,e){t=t.replace(co,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return no(n)?e:n}function Y(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),o=z(e,i);return Y(t,n*(o-i))}function J(t){t=Hi(t).clone();try{t.empty()}catch(e){}var n=Hi("<div>").append(t).html();try{return t[0].nodeType===go?Fi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Fi(e)})}catch(e){return Fi(n)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function X(t){var e={};return i((t||"").split("&"),function(t){var n,i,o;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),o=t.substring(n+1)),i=Q(i),b(i)&&(o=b(o)?Q(o):!0,Gi.call(e,i)?io(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o))}),e}function Z(t){var e=[];return i(t,function(t,n){io(t)?i(t,function(t){e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}):e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}),e.length?e.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function nt(t,e){var n,i,o=uo.length;for(i=0;o>i;++i)if(n=uo[i]+e,S(n=t.getAttribute(n)))return n;return null}function it(t){var e=t.currentScript,n=e&&e.getAttribute("src");if(!n)return!0;var i=t.createElement("a");if(i.href=n,t.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function ot(e,n){var o,s,a={};if(i(uo,function(t){var n=t+"app";!o&&e.hasAttribute&&e.hasAttribute(n)&&(o=e,s=e.getAttribute(n))}),i(uo,function(t){var n,i=t+"app";!o&&(n=e.querySelector("["+i.replace(":","\\:")+"]"))&&(o=n,s=n.getAttribute(i))}),o){if(!po)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==nt(o,"strict-di"),n(o,s?[s]:[],a)}}function st(e,n,o){y(o)||(o={});var s={strictDi:!1};o=c(s,o);var a=function(){if(e=Hi(e),e.injector()){var i=e[0]===t.document?"document":J(e);throw Zi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),o.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var s=oe(n,o.strictDi);return s.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),s},r=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&r.test(t.name)&&(o.debugInfoEnabled=!0,t.name=t.name.replace(r,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),to.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),a()},void(E(to.resumeDeferredBootstrap)&&to.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function rt(t){var e=to.element(t).injector();if(!e)throw Zi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(fo,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!ho){var n=lo();qi=g(n)?t.jQuery:n?t[n]:void 0,qi&&qi.fn.on?(Hi=qi,c(qi.fn,{scope:_o.scope,isolateScope:_o.isolateScope,controller:_o.controller,injector:_o.injector,inheritedData:_o.inheritedData}),e=qi.cleanData,qi.cleanData=function(t){for(var n,i,o=0;null!=(i=t[o]);o++)n=qi._data(i,"events"),n&&n.$destroy&&qi(i).triggerHandler("$destroy");e(t)}):Hi=Rt,to.element=Hi,ho=!0}}function dt(t,e,n){if(!t)throw Zi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ut(t,e,n){return n&&io(t)&&(t=t[t.length-1]),dt(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function pt(t,e){if("hasOwnProperty"===t)throw Zi("badname","hasOwnProperty is not a valid {0} name",e)}function ft(t,e,n){if(!e)return t;for(var i,o=e.split("."),s=t,a=o.length,r=0;a>r;r++)i=o[r],t&&(t=(s=t)[i]);return!n&&E(t)?B(s,t):t}function ht(t){for(var e,n=t[0],i=t[t.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(e||t[o]!==n)&&(e||(e=Hi(Yi.call(t,0,o))),e.push(n));return e||t}function mt(){return Object.create(null)}function vt(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),o=e("ng"),s=n(t,"angular",Object);return s.$$minErr=s.$$minErr||e,n(s,"module",function(){var t={};return function(e,s,a){var r=function(t,e){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid {0} name",e)};return r(e,"module"),s&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=o),function(){return i[n||"push"]([t,e,arguments]),d}}function n(t,n){return function(i,s){return s&&E(s)&&(s.$$moduleName=e),o.push([t,n,arguments]),d}}if(!s)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var o=[],r=[],l=[],c=t("$injector","invoke","push",r),d={_invokeQueue:o,_configBlocks:r,_runBlocks:l,requires:s,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(t){return l.push(t),this}};return a&&c(a),d})}})}function gt(t,e){if(io(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var o in t)("$"!==o.charAt(0)||"$"!==o.charAt(1))&&(e[o]=t[o])}return e||t}function bt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=W(t,n),y(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):g(t)?"undefined":"string"!=typeof t?bt(t):t}function $t(n){c(n,{bootstrap:st,copy:G,extend:c,merge:d,equals:F,element:Hi,forEach:i,injector:oe,noop:f,bind:B,toJson:H,fromJson:q,identity:h,isUndefined:g,isDefined:b,isString:S,isFunction:E,isObject:y,isNumber:C,isElement:P,isArray:io,version:So,isDate:T,lowercase:Fi,uppercase:ji,callbacks:{$$counter:0},getTestability:rt,$$minErr:e,$$csp:ro,reloadWithDebugInfo:at}),(zi=vt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:wn}),t.provider("$compile",me).directive({a:ia,input:Ca,textarea:Ca,form:la,script:gr,select:$r,option:Sr,ngBind:Aa,ngBindHtml:Ia,ngBindTemplate:wa,ngClass:Na,ngClassEven:Oa,ngClassOdd:Ra,ngCloak:Ma,ngController:Da,ngForm:ca,ngHide:dr,ngIf:_a,ngInclude:La,ngInit:Ga,ngNonBindable:er,ngPluralize:sr,ngRepeat:ar,ngShow:cr,ngStyle:ur,ngSwitch:pr,ngSwitchWhen:fr,ngSwitchDefault:hr,ngOptions:or,ngTransclude:vr,ngModel:Xa,ngList:Fa,ngChange:xa,pattern:Tr,ngPattern:Tr,required:Cr,ngRequired:Cr,minlength:Ar,ngMinlength:Ar,maxlength:Er,ngMaxlength:Er,ngValue:Ea,ngModelOptions:tr}).directive({ngInclude:Ua}).directive(oa).directive(ka),t.provider({$anchorScroll:se,$animate:Xo,$animateCss:es,$$animateJs:Jo,$$animateQueue:Qo,$$AnimateRunner:ts,$$animateAsyncRun:Zo,$browser:ue,$cacheFactory:pe,$controller:Se,$document:Ce,$exceptionHandler:Te,$filter:Fn,$$forceReflow:rs,$interpolate:Le,$interval:Ue,$http:De,$httpParamSerializer:Ae,$httpParamSerializerJQLike:we,$httpBackend:Pe,$xhrFactory:ke,$jsonpCallbacks:vs,$location:Ze,$log:tn,$parse:$n,$rootScope:An,$q:Sn,$$q:Cn,$sce:Rn,$sceDelegate:Nn,$sniffer:On,$templateCache:fe,$templateRequest:Mn,$$testability:Dn,$timeout:kn,$window:Ln,$$rAF:En,$$jqLite:Qt,$$HashMap:Fo,$$cookieReader:Gn})}])}function St(){return++To}function Ct(t){return t.replace(wo,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Io,"Moz$1")}function Tt(t){return!Oo.test(t)}function Et(t){var e=t.nodeType;return e===mo||!e||e===yo}function At(t){for(var e in Co[t.ng339])return!0;return!1}function wt(t){for(var e=0,n=t.length;n>e;e++)kt(t[e])}function It(t,e){var n,o,s,a,r=e.createDocumentFragment(),l=[];if(Tt(t))l.push(e.createTextNode(t));else{for(n=r.appendChild(e.createElement("div")),o=(Mo.exec(t)||["",""])[1].toLowerCase(),s=ko[o]||ko._default,n.innerHTML=s[1]+t.replace(Do,"<$1></$2>")+s[2],a=s[0];a--;)n=n.lastChild;l=j(l,n.childNodes),n=r.firstChild,n.textContent=""}return r.textContent="",r.innerHTML="",i(l,function(t){r.appendChild(t)}),r}function xt(e,n){n=n||t.document;var i;return(i=Ro.exec(e))?[n.createElement(i[1])]:(i=It(e,n))?i.childNodes:[]}function Nt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Rt(t){if(t instanceof Rt)return t;var e;if(S(t)&&(t=so(t),e=!0),!(this instanceof Rt)){if(e&&"<"!==t.charAt(0))throw No("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Rt(t)}e?Ft(this,xt(t)):Ft(this,t)}function Ot(t){return t.cloneNode(!0)}function Mt(t,e){if(e||kt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,o=n.length;o>i;i++)kt(n[i])}function Dt(t,e,n,o){if(b(o))throw No("offargs","jqLite#off() does not support the `selector` argument");var s=Pt(t),a=s&&s.events,r=s&&s.handle;if(r)if(e){var l=function(e){var i=a[e];b(n)&&U(i||[],n),b(n)&&i&&i.length>0||(Ao(t,e,r),delete a[e])};i(e.split(" "),function(t){l(t),xo[t]&&l(xo[t])})}else for(e in a)"$destroy"!==e&&Ao(t,e,r),delete a[e]}function kt(t,e){var n=t.ng339,i=n&&Co[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Dt(t)),delete Co[n],t.ng339=void 0}}function Pt(t,e){var n=t.ng339,i=n&&Co[n];return e&&!i&&(t.ng339=n=St(),i=Co[n]={events:{},data:{},handle:void 0}),i}function _t(t,e,n){if(Et(t)){var i=b(n),o=!i&&e&&!y(e),s=!e,a=Pt(t,!o),r=a&&a.data;if(i)r[e]=n;else{if(s)return r;if(o)return r&&r[e];c(r,e)}}}function Lt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ut(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",so((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+so(e)+" "," ")))})}function Gt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=so(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",so(n))}}function Ft(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function jt(t,e){return Vt(t,"$"+(e||"ngController")+"Controller")}function Vt(t,e,n){t.nodeType===yo&&(t=t.documentElement);for(var i=io(e)?e:[e];t;){for(var o=0,s=i.length;s>o;o++)if(b(n=Hi.data(t,i[o])))return n;t=t.parentNode||t.nodeType===$o&&t.host}}function Bt(t){for(Mt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Wt(t,e){e||Mt(t);var n=t.parentNode;n&&n.removeChild(t)}function Ht(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Hi(n).on("load",e)}function qt(t,e){var n=Lo[e.toLowerCase()];return n&&Uo[L(t)]&&n}function zt(t){return Go[t]}function Yt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=e[i||n.type],s=o?o.length:0;if(s){if(g(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var r=o.specialHandlerWrapper||Kt;s>1&&(o=gt(o));for(var l=0;s>l;l++)n.isImmediatePropagationStopped()||r(t,n,o[l])}};return n.elem=t,n}function Kt(t,e,n){n.call(t,e)}function Jt(t,e,n){var i=e.relatedTarget;(!i||i!==t&&!Po.call(t,i))&&n.call(t,e)}function Qt(){this.$get=function(){return c(Rt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Gt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)}})}}function Xt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||a)():i+":"+t}function Zt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function te(t){return Function.prototype.toString.call(t)+" "}function ee(t){var e=te(t).replace(Ho,""),n=e.match(jo)||e.match(Vo);return n}function ne(t){var e=ee(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ie(t,e,n){var o,s,a;if("function"==typeof t){if(!(o=t.$inject)){if(o=[],t.length){if(e)throw S(n)&&n||(n=t.name||ne(t)),qo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);s=ee(t),i(s[1].split(Bo),function(t){t.replace(Wo,function(t,e,n){o.push(n)})})}t.$inject=o}}else io(t)?(a=t.length-1,ut(t[a],"fn"),o=t.slice(0,a)):ut(t,"fn",!0);return o}function oe(t,e){function n(t){return function(e,n){return y(e)?void i(e,s(t)):t(e,n)}}function o(t,e){if(pt(t,"service"),(E(e)||io(e))&&(e=T.instantiate(e)),!e.$get)throw qo("pget","Provider '{0}' must define $get factory method.",t);return C[t+v]=e}function a(t,e){return function(){var n=I.invoke(e,this);if(g(n))throw qo("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function r(t,e,n){return o(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return r(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return r(t,m(e),!1)}function d(t,e){pt(t,"constant"),C[t]=e,A[t]=e}function u(t,e){var n=T.get(t+v),i=n.$get;n.$get=function(){var t=I.invoke(i,n);return I.invoke(e,null,{$delegate:t})}}function p(t){dt(g(t)||io(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],o=T.get(i[0]);o[i[1]].apply(o,i[2])}}if(!$.get(t)){$.put(t,!0);try{S(t)?(e=zi(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):E(t)?n.push(T.invoke(t)):io(t)?n.push(T.invoke(t)):ut(t,"module")}catch(o){throw io(t)&&(t=t[t.length-1]),o.message&&o.stack&&-1===o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),qo("modulerr","Failed to instantiate module {0} due to:\n{1}",t,o.stack||o.message||o)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===h)throw qo("cdep","Circular dependency found: {0}",e+" <- "+b.join(" <- "));return t[e]}try{return b.unshift(e),t[e]=h,t[e]=n(e,i),t[e]}catch(o){throw t[e]===h&&delete t[e],o}finally{b.shift()}}function o(t,n,o){for(var s=[],a=oe.$$annotate(t,e,o),r=0,l=a.length;l>r;r++){var c=a[r];if("string"!=typeof c)throw qo("itkn","Incorrect injection token! Expected service name as string, got {0}",c);s.push(n&&n.hasOwnProperty(c)?n[c]:i(c,o))}return s}function s(t){return 11>=Wi?!1:"function"==typeof t&&/^(?:class\b|constructor\()/.test(te(t))}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=o(t,n,i);return io(t)&&(t=t[t.length-1]),s(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function r(t,e,n){var i=io(t)?t[t.length-1]:t,s=o(t,e,n);return s.unshift(null),new(Function.prototype.bind.apply(i,s))}return{invoke:a,instantiate:r,get:i,annotate:oe.$$annotate,has:function(e){return C.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var h={},v="Provider",b=[],$=new Zt([],!0),C={$provide:{provider:n(o),factory:n(r),service:n(l),value:n(c),constant:n(d),decorator:u}},T=C.$injector=f(C,function(t,e){throw to.isString(e)&&b.push(e),qo("unpr","Unknown provider: {0}",b.join(" <- "))}),A={},w=f(A,function(t,e){var n=T.get(t+v,e);return I.invoke(n.$get,n,void 0,t)}),I=w;C["$injector"+v]={$get:m(w)};var x=p(t);return I=w.get("$injector"),I.strictDi=e,i(x,function(t){t&&I.invoke(t)}),I}function se(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function o(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===L(t)?(e=t,!0):void 0}),e}function s(){var t=r.yOffset;if(E(t))t=t();else if(P(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=s();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function r(t){t=S(t)?t:C(t)?t.toString():n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=o(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Ht(function(){i.$evalAsync(r)})}),r}]}function ae(t,e){return t||e?t?e?(io(t)&&(t=t.join(" ")),io(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function re(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Yo)return n}}function le(t){S(t)&&(t=t.split(" "));var e=mt();return i(t,function(t){t.length&&(e[t]=!0)}),e}function ce(t){return y(t)?t:{}}function de(t,e,n,o){function s(t){try{t.apply(null,V(arguments,1))}finally{if(b--,0===b)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function r(){E=null,l(),c()}function l(){$=A(),$=g($)?null:$,F($,x)&&($=x),x=$}function c(){(C!==d.url()||S!==$)&&(C=d.url(),S=$,i(w,function(t){t(d.url(),$)}))}var d=this,u=t.location,p=t.history,h=t.setTimeout,m=t.clearTimeout,v={};d.isMock=!1;var b=0,y=[];d.$$completeOutstandingRequest=s,d.$$incOutstandingRequestCount=function(){b++},d.notifyWhenNoOutstandingRequests=function(t){0===b?t():y.push(t)};var $,S,C=u.href,T=e.find("base"),E=null,A=o.history?function(){try{return p.state}catch(t){}}:f;l(),S=$,d.url=function(e,n,i){if(g(i)&&(i=null),u!==t.location&&(u=t.location),p!==t.history&&(p=t.history),e){var s=S===i;if(C===e&&(!o.history||s))return d;var r=C&&We(C)===We(e);return C=e,S=i,!o.history||r&&s?(r||(E=e),n?u.replace(e):r?u.hash=a(e):u.href=e,u.href!==e&&(E=e)):(p[n?"replaceState":"pushState"](i,"",e),l(),S=$),E&&(E=e),d}return E||u.href.replace(/%27/g,"'")},d.state=function(){return $};var w=[],I=!1,x=null;d.onUrlChange=function(e){return I||(o.history&&Hi(t).on("popstate",r),Hi(t).on("hashchange",r),I=!0),w.push(e),e},d.$$applicationDestroyed=function(){Hi(t).off("hashchange popstate",r)},d.$$checkUrlChange=c,d.baseHref=function(){var t=T.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},d.defer=function(t,e){var n;return b++,n=h(function(){delete v[n],s(t)},e||0),v[n]=!0,n},d.defer.cancel=function(t){return v[t]?(delete v[t],m(t),s(f),!0):!1}}function ue(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new de(t,i,e,n)}]}function pe(){this.$get=function(){function t(t,i){function o(t){t!==p&&(f?f===t&&(f=t.n):f=t,s(t.n,t.p),s(t,p),p=t,p.n=null)}function s(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,r=c({},i,{id:t}),l=mt(),d=i&&i.capacity||Number.MAX_VALUE,u=mt(),p=null,f=null;return n[t]={put:function(t,e){if(!g(e)){if(d<Number.MAX_VALUE){var n=u[t]||(u[t]={key:t});o(n)}return t in l||a++,l[t]=e,a>d&&this.remove(f.key),e}},get:function(t){if(d<Number.MAX_VALUE){var e=u[t];if(!e)return;o(e)}return l[t]},remove:function(t){if(d<Number.MAX_VALUE){var e=u[t];if(!e)return;e===p&&(p=e.p),e===f&&(f=e.n),s(e.n,e.p),delete u[t]}t in l&&(delete l[t],a--)},removeAll:function(){l=mt(),a=0,u=mt(),p=f=null},destroy:function(){l=null,r=null,u=null,delete n[t]},info:function(){return c({},r,{size:a})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function fe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function he(){}function me(e,n){function o(t,e,n){var o=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,s=mt();return i(t,function(t,i){if(t in x)return void(s[i]=x[t]);var a=t.match(o);if(!a)throw ns("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");s[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(x[t]=s[i])}),s}function a(t,e){var n={isolateScope:null,bindToController:null};if(y(t.scope)&&(t.bindToController===!0?(n.bindToController=o(t.scope,e,!0),n.isolateScope={}):n.isolateScope=o(t.scope,e,!1)),y(t.bindToController)&&(n.bindToController=o(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw ns("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function r(t){var e=t.charAt(0);if(!e||e!==Fi(e))throw ns("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw ns("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function l(t){var e=t.require||t.controller&&t.name;return!io(e)&&y(e)&&i(e,function(t,n){var i=t.match(A),o=t.substring(i[0].length);o||(e[n]=i[0]+n)}),e}function d(t,e){if(t&&(!S(t)||!/[EACM]/.test(t)))throw ns("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var u={},v="Directive",$=/^\s*directive:\s*([\w-]+)\s+(.*)$/,C=/(([\w-]+)(?::([^;]+))?;?)/,T=_("ngSrc,ngSrcset,src,srcset"),A=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,x=mt();this.directive=function P(t,n){return dt(t,"name"),pt(t,"directive"),S(t)?(r(t),dt(n,"directiveFactory"),u.hasOwnProperty(t)||(u[t]=[],e.factory(t+v,["$injector","$exceptionHandler",function(e,n){var o=[];return i(u[t],function(i,s){try{var a=e.invoke(i);E(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=l(a),a.restrict=d(a.restrict,t),a.$$moduleName=i.$$moduleName,o.push(a)}catch(r){n(r)}}),o}])),u[t].push(n)):i(t,s(P)),this},this.component=function(t,e){function n(t){function n(e){return E(e)||io(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var s=e.template||e.templateUrl?e.template:"",a={controller:o,controllerAs:$e(e.controller)||e.controllerAs||"$ctrl",template:n(s),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var o=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,E(o)&&(o[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var N=!0;this.debugInfoEnabled=function(t){return b(t)?(N=t,this):N};var R=!0;this.preAssignBindingsEnabled=function(t){return b(t)?(R=t,this):R};var M=10;this.onChangesTtl=function(t){return arguments.length?(M=t,this):M};var D=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(D=t,this):D};var k=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(k=t,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,o,s,r,l,d,m,x,P){function _(){try{if(!--xt)throw Ct=void 0,ns("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);d.$apply(function(){for(var t=[],e=0,n=Ct.length;n>e;++e)try{Ct[e]()}catch(i){t.push(i)}if(Ct=void 0,t.length)throw t})}finally{xt++}}function G(t,e){if(e){var n,i,o,s=Object.keys(e);for(n=0,i=s.length;i>n;n++)o=s[n],this[o]=e[o]}else this.$attr={};this.$$element=t}function j(t,e,n){At.innerHTML="<span "+e+">";var i=At.firstChild.attributes,o=i[0];i.removeNamedItem(o.name),o.value=n,t.attributes.setNamedItem(o)}function W(t,e){try{t.addClass(e)}catch(n){}}function H(e,n,i,o,s){e instanceof Hi||(e=Hi(e));for(var a=/\S+/,r=0,l=e.length;l>r;r++){var c=e[r];c.nodeType===go&&c.nodeValue.match(a)&&Nt(c,e[r]=t.document.createElement("span"))}var d=z(e,n,e,i,o,s);H.$$addScopeClass(e);var u=null;return function(t,n,i){dt(t,"scope"),s&&s.needsNewScope&&(t=t.$parent.$new()),i=i||{};var o=i.parentBoundTranscludeFn,a=i.transcludeControllers,r=i.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),u||(u=q(r));var l;if(l="html"!==u?Hi(ht(u,Hi("<div>").append(e).html())):n?_o.clone.call(e):e,a)for(var c in a)l.data("$"+c+"Controller",a[c].instance);return H.$$addScopeInfo(l,t),n&&n(l,t),d&&d(t,l,l,o),l}}function q(t){var e=t&&t[0];return e&&"foreignobject"!==L(e)&&Qi.call(e).match(/SVG/)?"svg":"html"}function z(t,e,n,i,o,s){function a(t,n,i,o){var s,a,r,l,c,d,u,p,m;if(f){var v=n.length;for(m=new Array(v),c=0;c<h.length;c+=3)u=h[c],m[u]=n[u]}else m=n;for(c=0,d=h.length;d>c;)r=m[h[c++]],s=h[c++],a=h[c++],s?(s.scope?(l=t.$new(),H.$$addScopeInfo(Hi(r),l)):l=t,p=s.transcludeOnThisElement?Y(t,s.transclude,o):!s.templateOnThisElement&&o?o:!o&&e?Y(t,e):null,s(a,l,r,i,p)):a&&a(t,r.childNodes,void 0,o)}for(var r,l,c,d,u,p,f,h=[],m=0;m<t.length;m++)r=new G,l=K(t[m],[],r,0===m?i:void 0,o),c=l.length?et(l,t[m],r,e,n,null,[],[],s):null,c&&c.scope&&H.$$addScopeClass(r.$$element),u=c&&c.terminal||!(d=t[m].childNodes)||!d.length?null:z(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||u)&&(h.push(m,c,u),p=!0,f=f||c),s=null;return p?a:null}function Y(t,e,n){function i(i,o,s,a,r){return i||(i=t.$new(!1,r),i.$$transcluded=!0),e(i,o,{parentBoundTranscludeFn:n,transcludeControllers:s,futureParentElement:a})}var o=i.$$slots=mt();for(var s in e.$$slots)e.$$slots[s]?o[s]=Y(t,e.$$slots[s],n):o[s]=null;return i}function K(t,e,n,i,o){var s,a,r,l=t.nodeType,c=n.$attr;switch(l){case mo:a=L(t),st(e,ge(a),"E",i,o);for(var d,u,p,f,h,m,v=t.attributes,g=0,b=v&&v.length;b>g;g++){var $=!1,T=!1;d=v[g],u=d.name,h=so(d.value),
f=ge(u),m=kt.test(f),m&&(u=u.replace(os,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=f.match(Pt);E&&at(E[1])&&($=u,T=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),p=ge(u.toLowerCase()),c[p]=u,(m||!n.hasOwnProperty(p))&&(n[p]=h,qt(t,p)&&(n[p]=!0)),gt(t,e,h,p,m),st(e,p,"A",i,o,$,T)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!It)break;if(r=t.className,y(r)&&(r=r.animVal),S(r)&&""!==r)for(;s=C.exec(r);)p=ge(s[2]),st(e,p,"C",i,o)&&(n[p]=so(s[3])),r=r.substr(s.index+s[0].length);break;case go:if(11===Wi)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===go;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);ft(e,t.nodeValue);break;case bo:if(!wt)break;Q(t,e,n,i,o)}return e.sort(ut),e}function Q(t,e,n,i,o){try{var s=$.exec(t.nodeValue);if(s){var a=ge(s[1]);st(e,a,"M",i,o)&&(n[a]=so(s[2]))}}catch(r){}}function X(t,e,n){var i=[],o=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw ns("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===mo&&(t.hasAttribute(e)&&o++,t.hasAttribute(n)&&o--),i.push(t),t=t.nextSibling}while(o>0)}else i.push(t);return Hi(i)}function Z(t,e,n){return function(i,o,s,a,r){return o=X(o[0],e,n),t(i,o,s,a,r)}}function tt(t,e,n,i,o,s){var a;return t?H(e,n,i,o,s):function(){return a||(a=H(e,n,i,o,s),e=n=s=null),a.apply(this,arguments)}}function et(t,e,n,s,a,r,l,d,u){function p(t,e,n,i){t&&(n&&(t=Z(t,n,i)),t.require=h.require,t.directiveName=m,(A===h||h.$$isolateScope)&&(t=yt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=Z(e,n,i)),e.require=h.require,e.directiveName=m,(A===h||h.$$isolateScope)&&(e=yt(e,{isolateScope:!0})),d.push(e))}function f(t,s,a,r,u){function p(t,e,n,i){var o;if(I(t)||(i=n,n=e,e=t,t=void 0),M&&(o=$),n||(n=M?x.parent():x),!i)return u(t,e,o,n,U);var s=u.$$slots[i];if(s)return s(t,e,o,n,U);if(g(s))throw ns("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,J(x))}var f,h,m,v,b,$,S,x,N,O;e===a?(N=n,x=n.$$element):(x=Hi(a),N=new G(x,n)),b=s,A?v=s.$new(!0):C&&(b=s.$parent),u&&(S=p,S.$$boundTransclude=u,S.isSlotFilled=function(t){return!!u.$$slots[t]}),T&&($=it(x,N,S,T,v,s,A)),A&&(H.$$addScopeInfo(x,v,!0,!(w&&(w===A||w===A.$$originalDirective))),H.$$addScopeClass(x,!0),v.$$isolateBindings=A.$$isolateBindings,O=St(s,N,v,v.$$isolateBindings,A),O.removeWatches&&v.$on("$destroy",O.removeWatches));for(var D in $){var k=T[D],P=$[D],_=k.$$bindings.bindToController;if(R){_?P.bindingInfo=St(b,N,P.instance,_,k):P.bindingInfo={};var L=P();L!==P.instance&&(P.instance=L,x.data("$"+k.name+"Controller",L),P.bindingInfo.removeWatches&&P.bindingInfo.removeWatches(),P.bindingInfo=St(b,N,P.instance,_,k))}else P.instance=P(),x.data("$"+k.name+"Controller",P.instance),P.bindingInfo=St(b,N,P.instance,_,k)}for(i(T,function(t,e){var n=t.require;t.bindToController&&!io(n)&&y(n)&&c($[e].instance,nt(e,n,x,$))}),i($,function(t){var e=t.instance;if(E(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){o(n)}if(E(e.$onInit))try{e.$onInit()}catch(n){o(n)}E(e.$doCheck)&&(b.$watch(function(){e.$doCheck()}),e.$doCheck()),E(e.$onDestroy)&&b.$on("$destroy",function(){e.$onDestroy()})}),f=0,h=l.length;h>f;f++)m=l[f],$t(m,m.isolateScope?v:s,x,N,m.require&&nt(m.directiveName,m.require,x,$),S);var U=s;for(A&&(A.template||null===A.templateUrl)&&(U=v),t&&t(U,a.childNodes,void 0,u),f=d.length-1;f>=0;f--)m=d[f],$t(m,m.isolateScope?v:s,x,N,m.require&&nt(m.directiveName,m.require,x,$),S);i($,function(t){var e=t.instance;E(e.$postLink)&&e.$postLink()})}u=u||{};for(var h,m,v,b,$,S=-Number.MAX_VALUE,C=u.newScopeDirective,T=u.controllerDirectives,A=u.newIsolateScopeDirective,w=u.templateDirective,x=u.nonTlbTranscludeDirective,N=!1,O=!1,M=u.hasElementTranscludeDirective,D=n.$$element=Hi(e),k=r,P=s,_=!1,U=!1,F=0,j=t.length;j>F;F++){h=t[F];var W=h.$$start,q=h.$$end;if(W&&(D=X(e,W,q)),v=void 0,S>h.priority)break;if($=h.scope,$&&(h.templateUrl||(y($)?(pt("new/isolated scope",A||C,h,D),A=h):pt("new/isolated scope",A,h,D)),C=C||h),m=h.name,!_&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var z,Y=F+1;z=t[Y++];)if(z.transclude&&!z.$$tlb||z.replace&&(z.templateUrl||z.template)){U=!0;break}_=!0}if(!h.templateUrl&&h.controller&&(T=T||mt(),pt("'"+m+"' controller",T[m],h,D),T[m]=h),$=h.transclude)if(N=!0,h.$$tlb||(pt("transclusion",x,h,D),x=h),"element"===$)M=!0,S=h.priority,v=D,D=n.$$element=Hi(H.$$createComment(m,n[m])),e=D[0],bt(a,V(v),e),v[0].$$parentNode=v[0].parentNode,P=tt(U,v,s,S,k&&k.name,{nonTlbTranscludeDirective:x});else{var Q=mt();if(v=Hi(Ot(e)).contents(),y($)){v=[];var et=mt(),st=mt();i($,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,et[t]=e,Q[e]=null,st[e]=n}),i(D.contents(),function(t){var e=et[ge(L(t))];e?(st[e]=!0,Q[e]=Q[e]||[],Q[e].push(t)):v.push(t)}),i(st,function(t,e){if(!t)throw ns("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var at in Q)Q[at]&&(Q[at]=tt(U,Q[at],s))}D.empty(),P=tt(U,v,s,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),P.$$slots=Q}if(h.template)if(O=!0,pt("template",w,h,D),w=h,$=E(h.template)?h.template(D,n):h.template,$=Dt($),h.replace){if(k=h,v=Tt($)?[]:ye(ht(h.templateNamespace,so($))),e=v[0],1!==v.length||e.nodeType!==mo)throw ns("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");bt(a,D,e);var lt={$attr:{}},dt=K(e,[],lt),ut=t.splice(F+1,t.length-(F+1));(A||C)&&ot(dt,A,C),t=t.concat(dt).concat(ut),rt(n,lt),j=t.length}else D.html($);if(h.templateUrl)O=!0,pt("template",w,h,D),w=h,h.replace&&(k=h),f=ct(t.splice(F,t.length-F),D,n,a,N&&P,l,d,{controllerDirectives:T,newScopeDirective:C!==h&&C,newIsolateScopeDirective:A,templateDirective:w,nonTlbTranscludeDirective:x}),j=t.length;else if(h.compile)try{b=h.compile(D,n,P);var ft=h.$$originalDirective||h;E(b)?p(null,B(ft,b),W,q):b&&p(B(ft,b.pre),B(ft,b.post),W,q)}catch(vt){o(vt,J(D))}h.terminal&&(f.terminal=!0,S=Math.max(S,h.priority))}return f.scope=C&&C.scope===!0,f.transcludeOnThisElement=N,f.templateOnThisElement=O,f.transclude=P,u.hasElementTranscludeDirective=M,f}function nt(t,e,n,o){var s;if(S(e)){var a=e.match(A),r=e.substring(a[0].length),l=a[1]||a[3],c="?"===a[2];if("^^"===l?n=n.parent():(s=o&&o[r],s=s&&s.instance),!s){var d="$"+r+"Controller";s=l?n.inheritedData(d):n.data(d)}if(!s&&!c)throw ns("ctreq","Controller '{0}', required by directive '{1}', can't be found!",r,t)}else if(io(e)){s=[];for(var u=0,p=e.length;p>u;u++)s[u]=nt(t,e[u],n,o)}else y(e)&&(s={},i(e,function(e,i){s[i]=nt(t,e,n,o)}));return s||null}function it(t,e,n,i,o,s,a){var r=mt();for(var c in i){var d=i[c],u={$scope:d===a||d.$$isolateScope?o:s,$element:t,$attrs:e,$transclude:n},p=d.controller;"@"===p&&(p=e[d.name]);var f=l(p,u,!0,d.controllerAs);r[d.name]=f,t.data("$"+d.name+"Controller",f.instance)}return r}function ot(t,e,n){for(var i=0,o=t.length;o>i;i++)t[i]=p(t[i],{$$isolateScope:e,$$newScope:n})}function st(t,n,i,o,s,r,l){if(n===s)return null;var c=null;if(u.hasOwnProperty(n))for(var d,f=e.get(n+v),h=0,m=f.length;m>h;h++)if(d=f[h],(g(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(r&&(d=p(d,{$$start:r,$$end:l})),!d.$$bindings){var b=d.$$bindings=a(d,d.name);y(b.isolateScope)&&(d.$$isolateBindings=b.isolateScope)}t.push(d),c=d}return c}function at(t){if(u.hasOwnProperty(t))for(var n,i=e.get(t+v),o=0,s=i.length;s>o;o++)if(n=i[o],n.multiElement)return!0;return!1}function rt(t,e){var n=e.$attr,o=t.$attr;i(t,function(i,o){"$"!==o.charAt(0)&&(e[o]&&e[o]!==i&&(i+=("style"===o?";":" ")+e[o]),t.$set(o,i,!0,n[o]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(o[i]=n[i]))})}function ct(t,e,n,o,a,r,l,c){var d,u,f=[],h=e[0],m=t.shift(),v=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=E(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),s(g).then(function(s){var p,$,S,C;if(s=Dt(s),m.replace){if(S=Tt(s)?[]:ye(ht(b,so(s))),p=S[0],1!==S.length||p.nodeType!==mo)throw ns("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,g);$={$attr:{}},bt(o,e,p);var T=K(p,[],$);y(m.scope)&&ot(T,!0),t=T.concat(t),rt(n,$)}else p=h,e.html(s);for(t.unshift(v),d=et(t,p,n,a,e,m,r,l,c),i(o,function(t,n){t===p&&(o[n]=e[0])}),u=z(e[0].childNodes,a);f.length;){var E=f.shift(),A=f.shift(),w=f.shift(),I=f.shift(),x=e[0];if(!E.$$destroyed){if(A!==h){var N=A.className;c.hasElementTranscludeDirective&&m.replace||(x=Ot(p)),bt(w,Hi(A),x),W(Hi(x),N)}C=d.transcludeOnThisElement?Y(E,d.transclude,I):I,d(u,E,x,o,C)}}f=null}),function(t,e,n,i,o){var s=o;e.$$destroyed||(f?f.push(e,n,i,s):(d.transcludeOnThisElement&&(s=Y(e,d.transclude,o)),d(u,e,n,i,s)))}}function ut(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function pt(t,e,n,i){function o(t){return t?" (module: "+t+")":""}if(e)throw ns("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,o(e.$$moduleName),n.name,o(n.$$moduleName),t,J(i))}function ft(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&H.$$addBindingClass(e),function(t,e){var o=e.parent();n||H.$$addBindingClass(o),H.$$addBindingInfo(o,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function ht(e,n){switch(e=Fi(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function vt(t,e){if("srcdoc"===e)return m.HTML;var n=L(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return m.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e)return m.RESOURCE_URL}function gt(t,e,i,o,s){var a=vt(t,o),r=!s,l=T[o]||s,c=n(i,r,a,l);if(c){if("multiple"===o&&"select"===L(t))throw ns("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(t));e.push({priority:100,compile:function(){return{pre:function(t,e,s){var r=s.$$observers||(s.$$observers=mt());if(w.test(o))throw ns("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var d=s[o];d!==i&&(c=d&&n(d,!0,a,l),i=d),c&&(s[o]=c(t),(r[o]||(r[o]=[])).$$inter=!0,(s.$$observers&&s.$$observers[o].$$scope||t).$watch(c,function(t,e){"class"===o&&t!==e?s.$updateClass(t,e):s.$set(o,t)}))}}}})}}function bt(e,n,i){var o,s,a=n[0],r=n.length,l=a.parentNode;if(e)for(o=0,s=e.length;s>o;o++)if(e[o]===a){e[o++]=i;for(var c=o,d=c+r-1,u=e.length;u>c;c++,d++)u>d?e[c]=e[d]:delete e[c];e.length-=r-1,e.context===a&&(e.context=i);break}l&&l.replaceChild(i,a);var p=t.document.createDocumentFragment();for(o=0;r>o;o++)p.appendChild(n[o]);for(Hi.hasData(a)&&(Hi.data(i,Hi.data(a)),Hi(a).off("$destroy")),Hi.cleanData(p.querySelectorAll("*")),o=1;r>o;o++)delete n[o];n[0]=i,n.length=1}function yt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function $t(t,e,n,i,s,a){try{t(e,n,i,s,a)}catch(r){o(r,J(n))}}function St(t,e,o,s,a){function l(e,n,i){!E(o.$onChanges)||n===i||n!==n&&i!==i||(Ct||(t.$$postDigest(_),Ct=[]),d||(d={},Ct.push(c)),d[e]&&(i=d[e].previousValue),d[e]=new ve(i,n))}function c(){o.$onChanges(d),d=void 0}var d,u=[],p={};return i(s,function(i,s){var c,d,h,m,v,g=i.attrName,b=i.optional,y=i.mode;switch(y){case"@":b||Gi.call(e,g)||(o[s]=e[g]=void 0),v=e.$observe(g,function(t){if(S(t)||O(t)){var e=o[s];l(s,t,e),o[s]=t}}),e.$$observers[g].$$scope=t,c=e[g],S(c)?o[s]=n(c)(t):O(c)&&(o[s]=c),p[s]=new ve(is,o[s]),u.push(v);break;case"=":if(!Gi.call(e,g)){if(b)break;e[g]=void 0}if(b&&!e[g])break;d=r(e[g]),m=d.literal?F:function(t,e){return t===e||t!==t&&e!==e},h=d.assign||function(){throw c=o[s]=d(t),ns("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,a.name)},c=o[s]=d(t);var $=function(e){return m(e,o[s])||(m(e,c)?h(t,e=o[s]):o[s]=e),c=e};$.$stateful=!0,v=i.collection?t.$watchCollection(e[g],$):t.$watch(r(e[g],$),null,d.literal),u.push(v);break;case"<":if(!Gi.call(e,g)){if(b)break;e[g]=void 0}if(b&&!e[g])break;d=r(e[g]);var C=d.literal,T=o[s]=d(t);p[s]=new ve(is,o[s]),v=t.$watch(d,function(t,e){if(e===t){if(e===T||C&&F(e,T))return;e=T}l(s,t,e),o[s]=t},C),u.push(v);break;case"&":if(d=e.hasOwnProperty(g)?r(e[g]):f,d===f&&b)break;o[s]=function(e){return d(t,e)}}}),{initialChanges:p,removeWatches:u.length&&function(){for(var t=0,e=u.length;e>t;++t)u[t]()}}}var Ct,Et=/^\w/,At=t.document.createElement("div"),wt=D,It=k,xt=M;G.prototype={$normalize:ge,$addClass:function(t){t&&t.length>0&&x.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&x.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=be(t,e);n&&n.length&&x.addClass(this.$$element,n);var i=be(e,t);i&&i.length&&x.removeClass(this.$$element,i)},$set:function(t,e,n,s){var a,r=this.$$element[0],l=qt(r,t),c=zt(t),d=t;if(l?(this.$$element.prop(t,e),s=l):c&&(this[c]=e,d=c),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t],s||(this.$attr[t]=s=lt(t,"-"))),a=L(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===a&&"srcset"===t&&b(e)){for(var u="",p=so(e),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,m=p.split(h),v=Math.floor(m.length/2),y=0;v>y;y++){var $=2*y;u+=P(so(m[$]),!0),u+=" "+so(m[$+1])}var S=so(m[2*y]).split(/\s/);u+=P(so(S[0]),!0),2===S.length&&(u+=" "+so(S[1])),this[t]=e=u}n!==!1&&(null===e||g(e)?this.$$element.removeAttr(s):Et.test(s)?this.$$element.attr(s,e):j(this.$$element[0],s,e));var C=this.$$observers;C&&i(C[d],function(t){try{t(e)}catch(n){o(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=mt()),o=i[t]||(i[t]=[]);return o.push(e),d.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(t)||g(n[t])||e(n[t])}),function(){U(o,e)}}};var Rt=n.startSymbol(),Mt=n.endSymbol(),Dt="{{"===Rt&&"}}"===Mt?h:function(t){return t.replace(/\{\{/g,Rt).replace(/}}/g,Mt)},kt=/^ngAttr[A-Z]/,Pt=/^(.+)Start$/;return H.$$addBindingInfo=N?function(t,e){var n=t.data("$binding")||[];io(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,H.$$addBindingClass=N?function(t){W(t,"ng-binding")}:f,H.$$addScopeInfo=N?function(t,e,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(o,e)}:f,H.$$addScopeClass=N?function(t,e){W(t,e?"ng-isolate-scope":"ng-scope")}:f,H.$$createComment=function(e,n){var i="";return N&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},H}]}function ve(t,e){this.previousValue=t,this.currentValue=e}function ge(t){return Ct(t.replace(os,""))}function be(t,e){var n="",i=t.split(/\s+/),o=e.split(/\s+/);t:for(var s=0;s<i.length;s++){for(var a=i[s],r=0;r<o.length;r++)if(a===o[r])continue t;n+=(n.length>0?" ":"")+a}return n}function ye(t){t=Hi(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];(n.nodeType===bo||n.nodeType===go&&""===n.nodeValue.trim())&&Ki.call(t,e,1)}return t}function $e(t,e){if(e&&S(e))return e;if(S(t)){var n=as.exec(t);if(n)return n[3]}}function Se(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){pt(e,"controller"),y(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,o){function s(t,n,i,o){if(!t||!y(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,n);t.$scope[n]=i}return function(e,a,r,l){var d,u,p,f;if(r=r===!0,l&&S(l)&&(f=l),S(e)){if(u=e.match(as),!u)throw ss("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(p=u[1],f=f||u[3],e=t.hasOwnProperty(p)?t[p]:ft(a.$scope,p,!0)||(n?ft(o,p,!0):void 0),!e)throw ss("ctrlreg","The controller with the name '{0}' is not registered.",p);ut(e,p,!0)}if(r){var h=(io(e)?e[e.length-1]:e).prototype;return d=Object.create(h||null),f&&s(a,f,d,p||e.name),c(function(){var t=i.invoke(e,d,a,p);return t!==d&&(y(t)||E(t))&&(d=t,f&&s(a,f,d,p||e.name)),d},{instance:d,identifier:f})}return d=i.instantiate(e,a,p),f&&s(a,f,d,p||e.name),d}}]}function Ce(){this.$get=["$window",function(t){return Hi(t.document)}]}function Te(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Ee(t){return y(t)?T(t)?t.toISOString():H(t):t}function Ae(){this.$get=function(){return function(t){if(!t)return"";var e=[];return o(t,function(t,n){null===t||g(t)||(io(t)?i(t,function(t){e.push(et(n)+"="+et(Ee(t)))}):e.push(et(n)+"="+et(Ee(t))))}),e.join("&")}}}function we(){this.$get=function(){return function(t){function e(t,s,a){null===t||g(t)||(io(t)?i(t,function(t,n){e(t,s+"["+(y(t)?n:"")+"]")}):y(t)&&!T(t)?o(t,function(t,n){e(t,s+(a?"":"[")+n+(a?"":"]"))}):n.push(et(s)+"="+et(Ee(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ie(t,e){if(S(t)){var n=t.replace(ps,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(ls)||xe(n))&&(t=q(n))}}return t}function xe(t){var e=t.match(ds);return e&&us[e[0]].test(t)}function Ne(t){function e(t,e){t&&(o[t]=o[t]?o[t]+", "+e:e)}var n,o=mt();return S(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Fi(so(t.substr(0,n))),so(t.substr(n+1)))}):y(t)&&i(t,function(t,n){e(Fi(n),so(t))}),o}function Re(t){var e;return function(n){if(e||(e=Ne(t)),n){var i=e[Fi(n)];return void 0===i&&(i=null),i}return e}}function Oe(t,e,n,o){return E(o)?o(t,e,n):(i(o,function(i){t=i(t,e,n)}),t)}function Me(t){return t>=200&&300>t}function De(){var t=this.defaults={transformResponse:[Ie],transformRequest:[function(t){return!y(t)||x(t)||R(t)||N(t)?t:H(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:gt(cs),put:gt(cs),patch:gt(cs)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return b(t)?(n=!!t,this):n};var o=!0;this.useLegacyPromiseExtensions=function(t){return b(t)?(o=!!t,this):o};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,r,l,d,u,p){function f(n){function s(t,e){for(var n=0,i=e.length;i>n;){var o=e[n++],s=e[n++];t=t.then(o,s)}return e.length=0,t}function a(t,e){var n,o={};return i(t,function(t,i){E(t)?(n=t(e),null!=n&&(o[i]=n)):o[i]=t}),o}function r(e){var n,i,o,s=t.headers,r=c({},e.headers);s=c({},s.common,s[Fi(e.method)]);t:for(n in s){i=Fi(n);for(o in r)if(Fi(o)===i)continue t;r[n]=s[n]}return a(r,gt(e))}function l(e){var n=e.headers,o=Oe(e.data,Re(n),void 0,e.transformRequest);return g(o)&&i(n,function(t,e){"content-type"===Fi(e)&&delete n[e]}),g(e.withCredentials)&&!g(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,o).then(d,d)}function d(t){var e=c({},t);return e.data=Oe(t.data,t.headers,t.status,f.transformResponse),Me(t.status)?e:u.reject(e)}if(!y(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!S(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var f=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);f.headers=r(n),f.method=ji(f.method),f.paramSerializer=S(f.paramSerializer)?p.get(f.paramSerializer):f.paramSerializer;var h=[],m=[],b=u.when(f);return i(T,function(t){(t.request||t.requestError)&&h.unshift(t.request,t.requestError),(t.response||t.responseError)&&m.push(t.response,t.responseError)}),b=s(b,h),b=b.then(l),b=s(b,m),o?(b.success=function(t){return ut(t,"fn"),b.then(function(e){t(e.data,e.status,e.headers,f)}),b},b.error=function(t){return ut(t,"fn"),b.then(null,function(e){t(e.data,e.status,e.headers,f)}),b}):(b.success=hs("success"),b.error=hs("error")),b}function h(t){i(arguments,function(t){f[t]=function(e,n){return f(c({},n||{},{method:t,url:e}))}})}function m(t){i(arguments,function(t){f[t]=function(e,n,i){return f(c({},i||{},{method:t,url:e,data:n}))}})}function v(e,o){function s(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?d.$applyAsync(i):d.$$phase?i():d.$apply(i)}}),e}}function l(t,e,i,o){function s(){c(e,t,i,o)}m&&(Me(t)?m.put(A,[t,e,Ne(i),o]):m.remove(A)),n?d.$applyAsync(s):(s(),d.$$phase||d.$apply())}function c(t,n,i,o){n=n>=-1?n:0,(Me(n)?S.resolve:S.reject)({data:t,status:n,headers:Re(i),config:e,statusText:o})}function p(t){c(t.data,t.status,gt(t.headers()),t.statusText)}function h(){var t=f.pendingRequests.indexOf(e);-1!==t&&f.pendingRequests.splice(t,1)}var m,v,S=u.defer(),T=S.promise,E=e.headers,A=$(e.url,e.paramSerializer(e.params));if(f.pendingRequests.push(e),T.then(h,h),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=y(e.cache)?e.cache:y(t.cache)?t.cache:C),m&&(v=m.get(A),b(v)?M(v)?v.then(p,p):io(v)?c(v[1],v[0],gt(v[2]),v[3]):c(v,200,{},"OK"):m.put(A,T)),g(v)){var w=_n(e.url)?r()[e.xsrfCookieName||t.xsrfCookieName]:void 0;w&&(E[e.xsrfHeaderName||t.xsrfHeaderName]=w),a(e.method,A,o,l,E,e.timeout,e.withCredentials,e.responseType,s(e.eventHandlers),s(e.uploadEventHandlers))}return T}function $(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}var C=l("$http");t.paramSerializer=S(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var T=[];return i(s,function(t){T.unshift(S(t)?p.get(t):p.invoke(t))}),f.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=t,f}]}function ke(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Pe(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return _e(t,i,t.defer,e,n[0])}]}function _e(t,e,n,o,s){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=s.createElement("script"),a=null;return i.type="text/javascript",i.src=t,i.async=!0,a=function(t){Ao(i,"load",a),Ao(i,"error",a),s.body.removeChild(i),i=null;var r=-1,l="unknown";t&&("load"!==t.type||o.wasCalled(e)||(t={type:"error"}),l=t.type,r="error"===t.type?404:200),n&&n(r,l)},Eo(i,"load",a),Eo(i,"error",a),s.body.appendChild(i),a}return function(s,r,l,c,d,u,p,h,m,v){function y(){C&&C(),T&&T.abort()}function $(e,i,o,s,a){b(w)&&n.cancel(w),C=T=null,e(i,o,s,a),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),r=r||t.url(),"jsonp"===Fi(s))var S=o.createCallback(r),C=a(r,S,function(t,e){var n=200===t&&o.getResponse(S);$(c,t,n,"",e),o.removeCallback(S)});else{var T=e(s,r);T.open(s,r,!0),i(d,function(t,e){b(t)&&T.setRequestHeader(e,t)}),T.onload=function(){var t=T.statusText||"",e="response"in T?T.response:T.responseText,n=1223===T.status?204:T.status;0===n&&(n=e?200:"file"===Pn(r).protocol?404:0),$(c,n,e,T.getAllResponseHeaders(),t)};var E=function(){$(c,-1,null,null,"")};if(T.onerror=E,T.onabort=E,T.ontimeout=E,i(m,function(t,e){T.addEventListener(e,t)}),i(v,function(t,e){T.upload.addEventListener(e,t)}),p&&(T.withCredentials=!0),h)try{T.responseType=h}catch(A){if("json"!==h)throw A}T.send(g(l)?null:l)}if(u>0)var w=n(y,u);else M(u)&&u.then(y)}}function Le(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function s(t){return"\\\\\\"+t}function a(n){return n.replace(f,t).replace(h,e)}function r(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=H(t)}return t}function l(t,e,n,i){var o=t.$watch(function(t){return o(),i(t)},e,n);return o}function d(s,d,f,h){function v(t){try{return t=M(t),h&&!b(t)?t:r(t)}catch(e){i(ms.interr(s,e))}}if(!s.length||-1===s.indexOf(t)){var y;if(!d){var $=a(s);y=m($),y.exp=s,y.expressions=[],y.$$watchDelegate=l}return y}h=!!h;for(var S,C,T,A=0,w=[],I=[],x=s.length,N=[],R=[];x>A;){if(-1===(S=s.indexOf(t,A))||-1===(C=s.indexOf(e,S+u))){A!==x&&N.push(a(s.substring(A)));break}A!==S&&N.push(a(s.substring(A,S))),T=s.substring(S+u,C),w.push(T),I.push(n(T,v)),A=C+p,R.push(N.length),N.push("")}if(f&&N.length>1&&ms.throwNoconcat(s),!d||w.length){var O=function(t){for(var e=0,n=w.length;n>e;e++){if(h&&g(t[e]))return;N[R[e]]=t[e]}return N.join("")},M=function(t){return f?o.getTrusted(f,t):o.valueOf(t)};return c(function(t){var e=0,n=w.length,o=new Array(n);try{for(;n>e;e++)o[e]=I[e](t);return O(o)}catch(a){i(ms.interr(s,a))}},{exp:s,expressions:w,$$watchDelegate:function(t,e){var n;return t.$watchGroup(I,function(i,o){var s=O(i);E(e)&&e.call(this,s,i!==o?n:s,t),n=s})}})}}var u=t.length,p=e.length,f=new RegExp(t.replace(/./g,s),"g"),h=new RegExp(e.replace(/./g,s),"g");return d.startSymbol=function(){return t},d.endSymbol=function(){return e},d}]}function Ue(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,o){function s(s,r,l,c){function d(){u?s.apply(null,p):s(m)}var u=arguments.length>4,p=u?V(arguments,4):[],f=e.setInterval,h=e.clearInterval,m=0,v=b(c)&&!c,g=(v?i:n).defer(),y=g.promise;return l=b(l)?l:0,y.$$intervalId=f(function(){v?o.defer(d):t.$evalAsync(d),g.notify(m++),l>0&&m>=l&&(g.resolve(m),h(y.$$intervalId),delete a[y.$$intervalId]),v||t.$apply()},r),a[y.$$intervalId]=g,y}var a={};return s.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},s}]}function Ge(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function Fe(t,e){var n=Pn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=u(n.port)||bs[n.protocol]||null}function je(t,e){if($s.test(t))throw ys("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Pn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=X(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ve(t,e){return t.slice(0,e.length)===e}function Be(t,e){return Ve(e,t)?e.substr(t.length):void 0}function We(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function He(t){return t.replace(/(#.+)|#$/,"$1")}function qe(t){return t.substr(0,We(t).lastIndexOf("/")+1)}function ze(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ye(t,e,n){this.$$html5=!0,n=n||"",Fe(t,this),this.$$parse=function(t){var n=Be(e,t);if(!S(n))throw ys("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);je(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Z(this.$$search),n=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ge(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,r;return b(s=Be(t,i))?(a=s,r=n&&b(s=Be(n,s))?e+(Be("/",s)||s):t+a):b(s=Be(e,i))?r=e+s:e===i+"/"&&(r=e),r&&this.$$parse(r),!!r}}function Ke(t,e,n){Fe(t,this),this.$$parse=function(i){function o(t,e,n){var i,o=/^\/[A-Z]:(\/.*)/;return Ve(e,n)&&(e=e.replace(n,"")),o.exec(e)?t:(i=o.exec(t),i?i[1]:t)}var s,a=Be(t,i)||Be(e,i);g(a)||"#"!==a.charAt(0)?this.$$html5?s=a:(s="",g(a)&&(t=i,this.replace())):(s=Be(n,a),g(s)&&(s=a)),je(s,this),this.$$path=o(this.$$path,s,t),this.$$compose()},this.$$compose=function(){var e=Z(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ge(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return We(t)===We(e)?(this.$$parse(e),!0):!1}}function Je(t,e,n){this.$$html5=!0,Ke.apply(this,arguments),this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return t===We(i)?s=i:(a=Be(e,i))?s=t+n+a:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s},this.$$compose=function(){var e=Z(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ge(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Qe(t){return function(){return this[t]}}function Xe(t,e){return function(n){return g(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ze(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return O(t)?(e.enabled=t,this):y(t)?(O(t.enabled)&&(e.enabled=t.enabled),O(t.requireBase)&&(e.requireBase=t.requireBase),(O(t.rewriteLinks)||S(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,s,a){function r(t,e,n){var o=c.url(),s=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(a){throw c.url(o),c.$$state=s,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,d,u,p=i.baseHref(),f=i.url();if(e.enabled){if(!p&&e.requireBase)throw ys("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=ze(f)+(p||"/"),d=o.history?Ye:Je}else u=We(f),d=Ke;var h=qe(u);c=new d(u,h,"#"+t),c.$$parseLinkUrl(f,f),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;s.on("click",function(t){var o=e.rewriteLinks;if(o&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var r=Hi(t.target);"a"!==L(r[0]);)if(r[0]===s[0]||!(r=r.parent())[0])return;if(!S(o)||!g(r.attr(o))){var l=r.prop("href"),d=r.attr("href")||r.attr("xlink:href");y(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Pn(l.animVal).href),m.test(l)||!l||r.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(l,d)&&(t.preventDefault(),c.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),He(c.absUrl())!==He(f)&&i.url(c.absUrl(),!0);var v=!0;return i.onUrlChange(function(t,e){return g(Be(h,t))?void(a.location.href=t):(n.$evalAsync(function(){var i,o=c.absUrl(),s=c.$$state;t=He(t),c.$$parse(t),c.$$state=e,i=n.$broadcast("$locationChangeStart",t,o,e,s).defaultPrevented,c.absUrl()===t&&(i?(c.$$parse(o),c.$$state=s,r(o,!1,s)):(v=!1,l(o,s)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=He(i.url()),e=He(c.absUrl()),s=i.state(),a=c.$$replace,d=t!==e||c.$$html5&&o.history&&s!==c.$$state;(v||d)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,c.$$state,s).defaultPrevented;c.absUrl()===e&&(i?(c.$$parse(t),c.$$state=s):(d&&r(e,a,s===c.$$state?null:c.$$state),l(t,s)))})),c.$$replace=!1}),c}]}function tn(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function o(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function s(t){var e=n.console||{},s=e[t]||e.log||f,a=!1;try{a=!!s.apply}catch(r){}return a?function(){var t=[];return i(arguments,function(e){t.push(o(e))}),s.apply(e,t)}:function(t,e){s(t,null==e?"":e)}}return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:function(){var n=s("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function en(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Cs("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function nn(t){return t+""}function on(t,e){if(t){if(t.constructor===t)throw Cs("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Cs("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Cs("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Cs("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function sn(t,e){if(t){if(t.constructor===t)throw Cs("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Ps||t===_s||t===Ls)throw Cs("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function an(t,e){if(t&&(t===Ts||t===Es||t===As||t===ws||t===Is||t===xs||t===Ns||t===Rs||t===Os||t===Ms||t===Ds||t===ks))throw Cs("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",e);
}function rn(t,e){return"undefined"!=typeof t?t:e}function ln(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function cn(t,e){var n=t(e);return!n.$stateful}function dn(t,e){var n,o,s;switch(t.type){case Vs.Program:n=!0,i(t.body,function(t){dn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Vs.Literal:t.constant=!0,t.toWatch=[];break;case Vs.UnaryExpression:dn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Vs.BinaryExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Vs.LogicalExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Vs.ConditionalExpression:dn(t.test,e),dn(t.alternate,e),dn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Vs.Identifier:t.constant=!1,t.toWatch=[t];break;case Vs.MemberExpression:dn(t.object,e),t.computed&&dn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Vs.CallExpression:s=t.filter?cn(e,t.callee.name):!1,n=s,o=[],i(t.arguments,function(t){dn(t,e),n=n&&t.constant,t.constant||o.push.apply(o,t.toWatch)}),t.constant=n,t.toWatch=s?o:[t];break;case Vs.AssignmentExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Vs.ArrayExpression:n=!0,o=[],i(t.elements,function(t){dn(t,e),n=n&&t.constant,t.constant||o.push.apply(o,t.toWatch)}),t.constant=n,t.toWatch=o;break;case Vs.ObjectExpression:n=!0,o=[],i(t.properties,function(t){dn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||o.push.apply(o,t.value.toWatch)}),t.constant=n,t.toWatch=o;break;case Vs.ThisExpression:t.constant=!1,t.toWatch=[];break;case Vs.LocalsExpression:t.constant=!1,t.toWatch=[]}}function un(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function pn(t){return t.type===Vs.Identifier||t.type===Vs.MemberExpression}function fn(t){return 1===t.body.length&&pn(t.body[0].expression)?{type:Vs.AssignmentExpression,left:t.body[0].expression,right:{type:Vs.NGValueParameter},operator:"="}:void 0}function hn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Vs.Literal||t.body[0].expression.type===Vs.ArrayExpression||t.body[0].expression.type===Vs.ObjectExpression)}function mn(t){return t.constant}function vn(t,e){this.astBuilder=t,this.$filter=e}function gn(t,e){this.astBuilder=t,this.$filter=e}function bn(t){return"constructor"===t}function yn(t){return E(t.valueOf)?t.valueOf():Us.call(t)}function $n(){var t,e,n=mt(),o=mt(),s={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){s[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(a){function r(t,e,i){var s,r,c;switch(i=i||$,typeof t){case"string":t=t.trim(),c=t;var v=i?o:n;if(s=v[c],!s){":"===t.charAt(0)&&":"===t.charAt(1)&&(r=!0,t=t.substring(2));var b=i?y:g,S=new js(b),C=new Bs(S,a,b);s=C.parse(t),s.constant?s.$$watchDelegate=h:r?s.$$watchDelegate=s.literal?p:u:s.inputs&&(s.$$watchDelegate=d),i&&(s=l(s)),v[c]=s}return m(s,e);case"function":return m(t,e);default:return m(f,e)}}function l(t){function e(e,n,i,o){var s=$;$=!0;try{return t(e,n,i,o)}finally{$=s}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=l(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=l(t.inputs[n]);return e.inputs=t.inputs,e}function c(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=yn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function d(t,e,n,i,o){var s,a=i.inputs;if(1===a.length){var r=c;return a=a[0],t.$watch(function(t){var e=a(t);return c(e,r)||(s=i(t,void 0,void 0,[e]),r=e&&yn(e)),s},e,n,o)}for(var l=[],d=[],u=0,p=a.length;p>u;u++)l[u]=c,d[u]=null;return t.$watch(function(t){for(var e=!1,n=0,o=a.length;o>n;n++){var r=a[n](t);(e||(e=!c(r,l[n])))&&(d[n]=r,l[n]=r&&yn(r))}return e&&(s=i(t,void 0,void 0,d)),s},e,n,o)}function u(t,e,n,i){var o,s;return o=t.$watch(function(t){return i(t)},function(t,n,i){s=t,E(e)&&e.apply(this,arguments),b(t)&&i.$$postDigest(function(){b(s)&&o()})},n)}function p(t,e,n,o){function s(t){var e=!0;return i(t,function(t){b(t)||(e=!1)}),e}var a,r;return a=t.$watch(function(t){return o(t)},function(t,n,i){r=t,E(e)&&e.call(this,t,n,i),s(t)&&i.$$postDigest(function(){s(r)&&a()})},n)}function h(t,e,n,i){var o=t.$watch(function(t){return o(),i(t)},e,n);return o}function m(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,o=n!==p&&n!==u,s=o?function(n,o,s,a){var r=i&&a?a[0]:t(n,o,s,a);return e(r,n,o)}:function(n,i,o,s){var a=t(n,i,o,s),r=e(a,n,i);return b(a)?r:a};return t.$$watchDelegate&&t.$$watchDelegate!==d?s.$$watchDelegate=t.$$watchDelegate:e.$stateful||(s.$$watchDelegate=d,i=!t.inputs,s.inputs=t.inputs?t.inputs:[t]),s}var v=ro().noUnsafeEval,g={csp:v,expensiveChecks:!1,literals:G(s),isIdentifierStart:E(t)&&t,isIdentifierContinue:E(e)&&e},y={csp:v,expensiveChecks:!0,literals:G(s),isIdentifierStart:E(t)&&t,isIdentifierContinue:E(e)&&e},$=!1;return r.$$runningExpensiveChecks=function(){return $},r}]}function Sn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Tn(function(e){t.$evalAsync(e)},e)}]}function Cn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Tn(function(e){t.defer(e)},e)}]}function Tn(t,n){function o(){var t=new d;return t.resolve=a(t,t.resolve),t.reject=a(t,t.reject),t.notify=a(t,t.notify),t}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function r(t){var e,i,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;for(var s=0,a=o.length;a>s;++s){i=o[s][0],e=o[s][t.status];try{E(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(r){i.reject(r),n(r)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){r(e)}))}function d(){this.promise=new s}function u(t){var e=new d;return e.reject(t),e.promise}function p(t,e,n){var i=null;try{E(n)&&(i=n())}catch(o){return u(o)}return M(i)?i.then(function(){return e(t)},u):e(t)}function f(t,e,n,i){var o=new d;return o.resolve(t),o.promise.then(e,n,i)}function h(t){var e=new d,n=0,o=io(t)?[]:{};return i(t,function(t,i){n++,f(t).then(function(t){o[i]=t,--n||e.resolve(o)},function(t){e.reject(t)})}),0===n&&e.resolve(o),e.promise}function m(t){var e=o();return i(t,function(t){f(t).then(e.resolve,e.reject)}),e.promise}function v(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!E(t))throw b("norslvr","Expected resolverFn, got '{0}'",t);var i=new d;return t(e,n),i.promise}var b=e("$q",TypeError);c(s.prototype,{then:function(t,e,n){if(g(t)&&g(e)&&g(n))return this;var i=new d;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return p(e,$,t)},function(e){return p(e,u,t)},e)}}),c(d.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(b("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){r||(r=!0,s.$$resolve(t))}function i(t){r||(r=!0,s.$$reject(t))}var o,s=this,r=!1;try{(y(t)||E(t))&&(o=t&&t.then),E(o)?(this.promise.$$state.status=-1,o.call(t,e,i,a(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(c){i(c),n(c)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,o,s=0,a=i.length;a>s;s++){o=i[s][0],t=i[s][3];try{o.notify(E(t)?t(e):e)}catch(r){n(r)}}})}});var $=f;return v.prototype=s.prototype,v.defer=o,v.reject=u,v.when=f,v.resolve=$,v.all=h,v.race=m,v}function En(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,o=!!n,s=o?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return s.supported=o,s}]}function An(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var o=10,s=e("$rootScope"),r=null,l=null;this.digestTtl=function(t){return arguments.length&&(o=t),o},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,d){function u(t){t.currentScope.$$destroyed=!0}function p(t){9===Wi&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function h(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(t){if(A.$$phase)throw s("inprog","{0} already in progress",A.$$phase);A.$$phase=t}function v(){A.$$phase=null}function b(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function $(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function S(){}function C(){for(;x.length;)try{x.shift()()}catch(t){e(t)}l=null}function T(){null===l&&(l=d.defer(function(){A.$apply(C)}))}h.prototype={constructor:h,$new:function(e,n){var i;return n=n||this,e?(i=new h,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",u),i},$watch:function(t,e,n,i){var o=c(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,n,o,t);var s=this,a=s.$$watchers,l={fn:e,last:S,get:o,exp:i||t,eq:!!n};return r=null,E(e)||(l.fn=f),a||(a=s.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(l),a.$$digestWatchIndex++,b(this,1),function(){var t=U(a,l);t>=0&&(b(s,-1),t<a.$$digestWatchIndex&&a.$$digestWatchIndex--),r=null}},$watchGroup:function(t,e){function n(){l=!1,c?(c=!1,e(s,s,r)):e(s,o,r)}var o=new Array(t.length),s=new Array(t.length),a=[],r=this,l=!1,c=!0;if(!t.length){var d=!0;return r.$evalAsync(function(){d&&e(s,s,r)}),function(){d=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){s[0]=t,o[0]=n,e(s,t===n?s:o,i)}):(i(t,function(t,e){var i=r.$watch(t,function(t,i){s[e]=t,o[e]=i,l||(l=!0,r.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function i(t){s=t;var e,i,o,r,l;if(!g(s)){if(y(s))if(n(s)){a!==f&&(a=f,v=a.length=0,u++),e=s.length,v!==e&&(u++,a.length=v=e);for(var c=0;e>c;c++)l=a[c],r=s[c],o=l!==l&&r!==r,o||l===r||(u++,a[c]=r)}else{a!==h&&(a=h={},v=0,u++),e=0;for(i in s)Gi.call(s,i)&&(e++,r=s[i],l=a[i],i in a?(o=l!==l&&r!==r,o||l===r||(u++,a[i]=r)):(v++,a[i]=r,u++));if(v>e){u++;for(i in a)Gi.call(s,i)||(v--,delete a[i])}}else a!==s&&(a=s,u++);return u}}function o(){if(m?(m=!1,e(s,s,l)):e(s,r,l),d)if(y(s))if(n(s)){r=new Array(s.length);for(var t=0;t<s.length;t++)r[t]=s[t]}else{r={};for(var i in s)Gi.call(s,i)&&(r[i]=s[i])}else r=s}i.$stateful=!0;var s,a,r,l=this,d=e.length>1,u=0,p=c(t,i),f=[],h={},m=!0,v=0;return this.$watch(p,o)},$digest:function(){var t,n,i,a,c,u,p,f,h,g,b,y=o,$=this,T=[];m("$digest"),d.$$checkUrlChange(),this===A&&null!==l&&(d.defer.cancel(l),C()),r=null;do{p=!1,h=$;for(var x=0;x<w.length;x++){try{b=w[x],b.scope.$eval(b.expression,b.locals)}catch(R){e(R)}r=null}w.length=0;t:do{if(u=h.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(t=u[u.$$digestWatchIndex])if(c=t.get,(n=c(h))===(i=t.last)||(t.eq?F(n,i):no(n)&&no(i))){if(t===r){p=!1;break t}}else p=!0,r=t,t.last=t.eq?G(n,null):n,a=t.fn,a(n,i===S?n:i,h),5>y&&(g=4-y,T[g]||(T[g]=[]),T[g].push({msg:E(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(R){e(R)}if(!(f=h.$$watchersCount&&h.$$childHead||h!==$&&h.$$nextSibling))for(;h!==$&&!(f=h.$$nextSibling);)h=h.$parent}while(h=f);if((p||w.length)&&!y--)throw v(),s("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",o,T)}while(p||w.length);for(v();N<I.length;)try{I[N++]()}catch(R){e(R)}I.length=N=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&d.$$applicationDestroyed(),b(this,-this.$$watchersCount);for(var e in this.$$listenerCount)$(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){A.$$phase||w.length||d.defer(function(){w.length&&A.$digest()}),w.push({scope:this,expression:c(t),locals:e})},$$postDigest:function(t){I.push(t)},$apply:function(t){try{m("$apply");try{return this.$eval(t)}finally{v()}}catch(n){e(n)}finally{try{A.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&x.push(e),t=c(t),T()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var o=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,$(o,1,t))}},$emit:function(t,n){var i,o,s,a=[],r=this,l=!1,c={name:t,targetScope:r,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=j([c],arguments,1);do{for(i=r.$$listeners[t]||a,c.currentScope=r,o=0,s=i.length;s>o;o++)if(i[o])try{i[o].apply(null,d)}catch(u){e(u)}else i.splice(o,1),o--,s--;if(l)return c.currentScope=null,c;r=r.$parent}while(r);return c.currentScope=null,c},$broadcast:function(t,n){var i=this,o=i,s=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var r,l,c,d=j([a],arguments,1);o=s;){for(a.currentScope=o,r=o.$$listeners[t]||[],l=0,c=r.length;c>l;l++)if(r[l])try{r[l].apply(null,d)}catch(u){e(u)}else r.splice(l,1),l--,c--;if(!(s=o.$$listenerCount[t]&&o.$$childHead||o!==i&&o.$$nextSibling))for(;o!==i&&!(s=o.$$nextSibling);)o=o.$parent}return a.currentScope=null,a}};var A=new h,w=A.$$asyncQueue=[],I=A.$$postDigestQueue=[],x=A.$$applyAsyncQueue=[],N=0;return A}]}function wn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,i){var o,s=i?e:t;return o=Pn(n).href,""===o||o.match(s)?n:"unsafe:"+o}}}function In(t){if("self"===t)return t;if(S(t)){if(t.indexOf("***")>-1)throw Ws("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=ao(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(A(t))return new RegExp("^"+t.source+"$");throw Ws("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function xn(t){var e=[];return b(t)&&i(t,function(t){e.push(In(t))}),e}function Nn(){this.SCE_CONTEXTS=Hs;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=xn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=xn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?_n(e):!!t.exec(e.href)}function o(n){var o,s,a=Pn(n.toString()),r=!1;for(o=0,s=t.length;s>o;o++)if(i(t[o],a)){r=!0;break}if(r)for(o=0,s=e.length;s>o;o++)if(i(e[o],a)){r=!1;break}return r}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=u.hasOwnProperty(t)?u[t]:null;if(!n)throw Ws("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||g(e)||""===e)return e;if("string"!=typeof e)throw Ws("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function r(t){return t instanceof d?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||g(e)||""===e)return e;var n=u.hasOwnProperty(t)?u[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Hs.RESOURCE_URL){if(o(e))return e;throw Ws("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Hs.HTML)return c(e);throw Ws("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Ws("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var d=s(),u={};return u[Hs.HTML]=s(d),u[Hs.CSS]=s(d),u[Hs.URL]=s(d),u[Hs.JS]=s(d),u[Hs.RESOURCE_URL]=s(u[Hs.URL]),{trustAs:a,getTrusted:l,valueOf:r}}]}function Rn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Wi)throw Ws("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=gt(Hs);o.isEnabled=function(){return t},o.trustAs=n.trustAs,o.getTrusted=n.getTrusted,o.valueOf=n.valueOf,t||(o.trustAs=o.getTrusted=function(t,e){return e},o.valueOf=h),o.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return o.getTrusted(t,e)})};var s=o.parseAs,a=o.getTrusted,r=o.trustAs;return i(Hs,function(t,e){var n=Fi(e);o[Ct("parse_as_"+n)]=function(e){return s(t,e)},o[Ct("get_trusted_"+n)]=function(e){return a(t,e)},o[Ct("trust_as_"+n)]=function(e){return r(t,e)}}),o}]}function On(){this.$get=["$window","$document",function(t,e){var n,i,o={},s=t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),a=!s&&t.history&&t.history.pushState,r=u((/android (\d+)/.exec(Fi((t.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((t.navigator||{}).userAgent),c=e[0]||{},d=/^(Moz|webkit|ms)(?=[A-Z])/,p=c.body&&c.body.style,f=!1,h=!1;if(p){for(var m in p)if(i=d.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),f=!!("transition"in p||n+"Transition"in p),h=!!("animation"in p||n+"Animation"in p),!r||f&&h||(f=S(p.webkitTransition),h=S(p.webkitAnimation))}return{history:!(!a||4>r||l),hasEvent:function(t){if("input"===t&&11>=Wi)return!1;if(g(o[t])){var e=c.createElement("div");o[t]="on"+t in e}return o[t]},csp:ro(),vendorPrefix:n,transitions:f,animations:h,android:r}}]}function Mn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,o){function s(a,r){function l(t){if(!r)throw qs("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return i.reject(t)}s.totalPendingRequests++,(!S(a)||g(e.get(a)))&&(a=o.getTrustedResourceUrl(a));var d=n.defaults&&n.defaults.transformResponse;return io(d)?d=d.filter(function(t){return t!==Ie}):d===Ie&&(d=null),n.get(a,c({cache:e,transformResponse:d},t))["finally"](function(){s.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},l)}return s.totalPendingRequests=0,s}]}function Dn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var o={};return o.findBindings=function(t,e,n){var o=t.getElementsByClassName("ng-binding"),s=[];return i(o,function(t){var o=to.element(t).data("$binding");o&&i(o,function(i){if(n){var o=new RegExp("(^|\\s)"+ao(e)+"(\\s|\\||$)");o.test(i)&&s.push(t)}else-1!==i.indexOf(e)&&s.push(t)})}),s},o.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var s=n?"=":"*=",a="["+i[o]+"model"+s+'"'+e+'"]',r=t.querySelectorAll(a);if(r.length)return r}},o.getLocation=function(){return n.url()},o.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},o.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},o}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,o){function s(s,r,l){E(s)||(l=r,r=s,s=f);var c,d=V(arguments,3),u=b(l)&&!l,p=(u?i:n).defer(),h=p.promise;return c=e.defer(function(){try{p.resolve(s.apply(null,d))}catch(e){p.reject(e),o(e)}finally{delete a[h.$$timeoutId]}u||t.$apply()},r),h.$$timeoutId=c,a[c]=p,h}var a={};return s.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},s}]}function Pn(t){var e=t;return Wi&&(zs.setAttribute("href",e),e=zs.href),zs.setAttribute("href",e),{href:zs.href,protocol:zs.protocol?zs.protocol.replace(/:$/,""):"",host:zs.host,search:zs.search?zs.search.replace(/^\?/,""):"",hash:zs.hash?zs.hash.replace(/^#/,""):"",hostname:zs.hostname,port:zs.port,pathname:"/"===zs.pathname.charAt(0)?zs.pathname:"/"+zs.pathname}}function _n(t){var e=S(t)?Pn(t):t;return e.protocol===Ys.protocol&&e.host===Ys.host}function Ln(){this.$get=m(t)}function Un(t){function e(t){try{return t.cookie||""}catch(e){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},o={},s="";return function(){var t,a,r,l,c,d=e(i);if(d!==s)for(s=d,t=s.split("; "),o={},r=0;r<t.length;r++)a=t[r],l=a.indexOf("="),l>0&&(c=n(a.substring(0,l)),g(o[c])&&(o[c]=n(a.substring(l+1))));return o}}function Gn(){this.$get=Un}function Fn(t){function e(o,s){if(y(o)){var a={};return i(o,function(t,n){a[n]=e(n,t)}),a}return t.factory(o+n,s)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Hn),e("date",ai),e("filter",jn),e("json",ri),e("limitTo",li),e("lowercase",ea),e("number",qn),e("orderBy",di),e("uppercase",na)}function jn(){return function(t,i,o,s){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}s=s||"$";var a,r,l=Wn(i);switch(l){case"function":a=i;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":a=Vn(i,o,s,r);break;default:return t}return Array.prototype.filter.call(t,a)}}function Vn(t,e,n,i){var o,s=y(t)&&n in t;return e===!0?e=F:E(e)||(e=function(t,e){return g(t)?!1:null===t||null===e?t===e:y(e)||y(t)&&!v(t)?!1:(t=Fi(""+t),e=Fi(""+e),-1!==t.indexOf(e))}),o=function(o){return s&&!y(o)?Bn(o,t[n],e,n,!1):Bn(o,t,e,n,i)}}function Bn(t,e,n,i,o,s){var a=Wn(t),r=Wn(e);if("string"===r&&"!"===e.charAt(0))return!Bn(t,e.substring(1),n,i,o);if(io(t))return t.some(function(t){return Bn(t,e,n,i,o)});switch(a){case"object":var l;if(o){for(l in t)if("$"!==l.charAt(0)&&Bn(t[l],e,n,i,!0))return!0;return s?!1:Bn(t,e,n,i,!1)}if("object"===r){for(l in e){var c=e[l];if(!E(c)&&!g(c)){var d=l===i,u=d?t:t[l];if(!Bn(u,c,n,i,d,d))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Wn(t){return null===t?"null":typeof t}function Hn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return g(n)&&(n=e.CURRENCY_SYM),g(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Kn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function qn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Kn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function zn(t){var e,n,i,o,s,a=0;for((n=t.indexOf(Js))>-1&&(t=t.replace(Js,"")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)===Qs;i++);if(i===(s=t.length))e=[0],n=1;else{for(s--;t.charAt(s)===Qs;)s--;for(n-=i,e=[],o=0;s>=i;i++,o++)e[o]=+t.charAt(i)}return n>Ks&&(e=e.splice(0,Ks-1),a=n-1,n=1),{d:e,e:a,i:n}}function Yn(t,e,n,i){var o=t.d,s=o.length-t.i;e=g(e)?Math.min(Math.max(n,s),i):+e;var a=e+t.i,r=o[a];if(a>0){o.splice(Math.max(t.i,a));for(var l=a;l<o.length;l++)o[l]=0}else{s=Math.max(0,s),t.i=1,o.length=Math.max(1,a=e+1),o[0]=0;for(var c=1;a>c;c++)o[c]=0}if(r>=5)if(0>a-1){for(var d=0;d>a;d--)o.unshift(0),t.i++;o.unshift(1),t.i++}else o[a-1]++;for(;s<Math.max(0,e);s++)o.push(0);var u=o.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);u&&(o.unshift(u),t.i++)}function Kn(t,e,n,i,o){if(!S(t)&&!C(t)||isNaN(t))return"";var s,a=!isFinite(t),r=!1,l=Math.abs(t)+"",c="";if(a)c="";else{s=zn(l),Yn(s,o,e.minFrac,e.maxFrac);var d=s.d,u=s.i,p=s.e,f=[];for(r=d.reduce(function(t,e){return t&&!e},!0);0>u;)d.unshift(0),u++;u>0?f=d.splice(u,d.length):(f=d,d=[0]);var h=[];for(d.length>=e.lgSize&&h.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)h.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&h.unshift(d.join("")),c=h.join(n),f.length&&(c+=i+f.join("")),p&&(c+="e+"+p)}return 0>t&&!r?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Jn(t,e,n,i){var o="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,o="-")),t=""+t;t.length<e;)t=Qs+t;return n&&(t=t.substr(t.length-e)),o+t}function Qn(t,e,n,i,o){return n=n||0,function(s){var a=s["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Jn(a,e,i,o)}}function Xn(t,e,n){return function(i,o){var s=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),r=ji(a+t);return o[r][s]}}function Zn(t,e,n){var i=-1*n,o=i>=0?"+":"";return o+=Jn(Math[i>0?"floor":"ceil"](i/60),2)+Jn(Math.abs(i%60),2)}function ti(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ei(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ni(t){return function(e){var n=ti(e.getFullYear()),i=ei(e),o=+i-+n,s=1+Math.round(o/6048e5);return Jn(s,t)}}function ii(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function oi(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function si(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ai(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),o=0,s=0,a=e[8]?i.setUTCFullYear:i.setFullYear,r=e[8]?i.setUTCHours:i.setHours;e[9]&&(o=u(e[9]+e[10]),s=u(e[9]+e[11])),a.call(i,u(e[1]),u(e[2])-1,u(e[3]));var l=u(e[4]||0)-o,c=u(e[5]||0)-s,d=u(e[6]||0),p=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(i,l,c,d,p),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,o,s){var a,r,l="",c=[];if(o=o||"mediumDate",o=t.DATETIME_FORMATS[o]||o,S(n)&&(n=ta.test(n)?u(n):e(n)),C(n)&&(n=new Date(n)),!T(n)||!isFinite(n.getTime()))return n;for(;o;)r=Zs.exec(o),r?(c=j(c,r,1),o=c.pop()):(c.push(o),o=null);var d=n.getTimezoneOffset();return s&&(d=z(s,d),n=K(n,s,!0)),i(c,function(e){a=Xs[e],l+=a?a(n,t.DATETIME_FORMATS,d):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ri(){return function(t,e){return g(e)&&(e=2),H(t,e)}}function li(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):u(e),no(e)?t:(C(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:u(i),i=0>i?Math.max(0,t.length+i):i,e>=0?ci(t,i,i+e):0===i?ci(t,e,t.length):ci(t,Math.max(0,i+e),i)):t)}}function ci(t,e,n){return S(t)?t.slice(e,n):Yi.call(t,e,n)}function di(t){function i(e){return e.map(function(e){var n=1,i=h;if(E(e))i=e;else if(S(e)&&(("+"===e.charAt(0)||"-"===e.charAt(0))&&(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var o=i();i=function(t){return t[o]}}return{get:i,descending:n}})}function o(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function s(t){return E(t.valueOf)&&(t=t.valueOf(),o(t))?t:v(t)&&(t=t.toString(),o(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=s(t)),{value:t,type:n,index:e}}function r(t,e){var n=0,i=t.type,o=e.type;if(i===o){var s=t.value,a=e.value;"string"===i?(s=s.toLowerCase(),a=a.toLowerCase()):"object"===i&&(y(s)&&(s=t.index),y(a)&&(a=e.index)),s!==a&&(n=a>s?-1:1)}else n=o>i?-1:1;return n}return function(t,o,s,l){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:u.map(function(n){return a(n.get(t),e)})}}function d(t,e){for(var n=0,i=u.length;i>n;n++){var o=f(t.predicateValues[n],e.predicateValues[n]);if(o)return o*u[n].descending*p}return f(t.tieBreaker,e.tieBreaker)*p}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);io(o)||(o=[o]),0===o.length&&(o=["+"]);var u=i(o),p=s?-1:1,f=E(l)?l:r,h=Array.prototype.map.call(t,c);return h.sort(d),t=h.map(function(t){return t.value})}}function ui(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function pi(t,e){t.$name=e}function fi(t,e,n,o,s){var a=this,r=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=s(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=sa,a.$rollbackViewValue=function(){i(r,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){i(r,function(t){t.$commitViewValue()})},a.$addControl=function(t){pt(t.$name,"input"),r.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],i(a.$pending,function(e,n){a.$setValidity(n,null,t)}),i(a.$error,function(e,n){a.$setValidity(n,null,t)}),i(a.$$success,function(e,n){a.$setValidity(n,null,t)}),U(r,t),t.$$parentForm=sa},ki({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var o=i.indexOf(n);-1===o&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(U(i,n),0===i.length&&delete t[e])},$animate:o}),a.$setDirty=function(){o.removeClass(t,Ba),o.addClass(t,Wa),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){o.setClass(t,Ba,Wa+" "+aa),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(r,function(t){t.$setPristine()})},a.$setUntouched=function(){i(r,function(t){t.$setUntouched()})},a.$setSubmitted=function(){o.addClass(t,aa),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function hi(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function mi(t,e,n,i,o,s){vi(t,e,n,i,o,s),hi(i)}function vi(t,e,n,i,o,s){var a=Fi(e[0].type);if(!o.android){var r=!1;e.on("compositionstart",function(){r=!0}),e.on("compositionend",function(){r=!1,c()})}var l,c=function(t){if(l&&(s.defer.cancel(l),l=null),!r){var o=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(o=so(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,c)}};if(o.hasEvent("input"))e.on("input",c);else{var d=function(t,e,n){l||(l=s.defer(function(){l=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||d(t,this,this.value)}),o.hasEvent("paste")&&e.on("paste cut",d)}e.on("change",c),$a[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(ya,function(t){if(!l){var e=this[Ui],n=e.badInput,i=e.typeMismatch;l=s.defer(function(){l=null,(e.badInput!==n||e.typeMismatch!==i)&&c(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function gi(t,e){if(T(t))return t;if(S(t)){va.lastIndex=0;var n=va.exec(t);if(n){var i=+n[1],o=+n[2],s=0,a=0,r=0,l=0,c=ti(i),d=7*(o-1);return e&&(s=e.getHours(),a=e.getMinutes(),r=e.getSeconds(),
l=e.getMilliseconds()),new Date(i,0,c.getDate()+d,s,a,r,l)}}return NaN}function bi(t,e){return function(n,o){var s,a;if(T(n))return n;if(S(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),da.test(n))return new Date(n);if(t.lastIndex=0,s=t.exec(n))return s.shift(),a=o?{yyyy:o.getFullYear(),MM:o.getMonth()+1,dd:o.getDate(),HH:o.getHours(),mm:o.getMinutes(),ss:o.getSeconds(),sss:o.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(s,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function yi(t,e,n,i){return function(o,s,a,r,l,c,d){function u(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return b(t)&&!T(t)?n(t)||void 0:t}$i(o,s,a,r),vi(o,s,a,r,l,c);var f,h=r&&r.$options&&r.$options.timezone;if(r.$$parserName=t,r.$parsers.push(function(t){if(r.$isEmpty(t))return null;if(e.test(t)){var i=n(t,f);return h&&(i=K(i,h)),i}return void 0}),r.$formatters.push(function(t){if(t&&!T(t))throw Ja("datefmt","Expected `{0}` to be a date",t);return u(t)?(f=t,f&&h&&(f=K(f,h,!0)),d("date")(t,i,h)):(f=null,"")}),b(a.min)||a.ngMin){var m;r.$validators.min=function(t){return!u(t)||g(m)||n(t)>=m},a.$observe("min",function(t){m=p(t),r.$validate()})}if(b(a.max)||a.ngMax){var v;r.$validators.max=function(t){return!u(t)||g(v)||n(t)<=v},a.$observe("max",function(t){v=p(t),r.$validate()})}}}function $i(t,e,n,i){var o=e[0],s=i.$$hasNativeValidators=y(o.validity);s&&i.$parsers.push(function(t){var n=e.prop(Ui)||{};return n.badInput||n.typeMismatch?void 0:t})}function Si(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:fa.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!C(e))throw Ja("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Ci(t){return b(t)&&!C(t)&&(t=parseFloat(t)),no(t)?void 0:t}function Ti(t){return(0|t)===t}function Ei(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(t>-1&&1>t){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function Ai(t,e,n){var i=Number(t);if(!Ti(i)||!Ti(e)||!Ti(n)){var o=Math.max(Ei(i),Ei(e),Ei(n)),s=Math.pow(10,o);i*=s,e*=s,n*=s}return(i-e)%n===0}function wi(t,e,n,i,o,s){$i(t,e,n,i),vi(t,e,n,i,o,s),Si(i);var a,r;(b(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||g(a)||t>=a},n.$observe("min",function(t){a=Ci(t),i.$validate()})),(b(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||g(r)||r>=t},n.$observe("max",function(t){r=Ci(t),i.$validate()}))}function Ii(t,e,n,i,o,s){function a(t,i){e.attr(t,n[t]),n.$observe(t,i)}function r(t){if(u=Ci(t),!no(i.$modelValue))if(d){var n=e.val();u>n&&(n=u,e.val(n)),i.$setViewValue(n)}else i.$validate()}function l(t){if(p=Ci(t),!no(i.$modelValue))if(d){var n=e.val();n>p&&(e.val(p),n=u>p?u:p),i.$setViewValue(n)}else i.$validate()}function c(t){f=Ci(t),no(i.$modelValue)||(d&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}$i(t,e,n,i),Si(i),vi(t,e,n,i,o,s);var d=i.$$hasNativeValidators&&"range"===e[0].type,u=d?0:void 0,p=d?100:void 0,f=d?1:void 0,h=e[0].validity,m=b(n.min),v=b(n.max),y=b(n.step),$=i.$render;i.$render=d&&b(h.rangeUnderflow)&&b(h.rangeOverflow)?function(){$(),i.$setViewValue(e.val())}:$,m&&(i.$validators.min=d?function(){return!0}:function(t,e){return i.$isEmpty(e)||g(u)||e>=u},a("min",r)),v&&(i.$validators.max=d?function(){return!0}:function(t,e){return i.$isEmpty(e)||g(p)||p>=e},a("max",l)),y&&(i.$validators.step=d?function(){return!h.stepMismatch}:function(t,e){return i.$isEmpty(e)||g(f)||Ai(e,u||0,f)},a("step",c))}function xi(t,e,n,i,o,s){vi(t,e,n,i,o,s),hi(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ua.test(n)}}function Ni(t,e,n,i,o,s){vi(t,e,n,i,o,s),hi(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||pa.test(n)}}function Ri(t,e,n,i){g(n.name)&&e.attr("name",a());var o=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",o),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function Oi(t,e,n,i,o){var s;if(b(i)){if(s=t(i),!s.constant)throw Ja("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return s(e)}return o}function Mi(t,e,n,i,o,s,a,r){var l=Oi(r,t,"ngTrueValue",n.ngTrueValue,!0),c=Oi(r,t,"ngFalseValue",n.ngFalseValue,!1),d=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",d),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return F(t,l)}),i.$parsers.push(function(t){return t?l:c})}function Di(t,e){return t="ngClass"+t,["$animate",function(n){function o(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var o=t[i],s=0;s<e.length;s++)if(o===e[s])continue t;n.push(o)}return n}function s(t){var e=[];return io(t)?(i(t,function(t){e=e.concat(s(t))}),e):S(t)?t.split(" "):y(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,r,l){function c(t){var e=u(t,1);l.$addClass(e)}function d(t){var e=u(t,-1);l.$removeClass(e)}function u(t,e){var n=r.data("$classCounts")||mt(),o=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&o.push(t))}),r.data("$classCounts",n),o.join(" ")}function p(t,e){var i=o(e,t),s=o(t,e);i=u(i,1),s=u(s,-1),i&&i.length&&n.addClass(r,i),s&&s.length&&n.removeClass(r,s)}function f(t){if(e===!0||(1&a.$index)===e){var n=s(t||[]);if(h){if(!F(t,h)){var i=s(h);p(i,n)}}else c(n)}h=io(t)?t.map(function(t){return gt(t)}):gt(t)}var h;l.$observe("class",function(e){f(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(t,n){var i=1&t;if(i!==(1&n)){var o=s(h);i===e?c(o):d(o)}}),a.$watch(l[t],f,!0)}}}]}function ki(t){function e(t,e,r){g(e)?n("$pending",t,r):i("$pending",t,r),O(e)?e?(d(a.$error,t,r),c(a.$$success,t,r)):(c(a.$error,t,r),d(a.$$success,t,r)):(d(a.$error,t,r),d(a.$$success,t,r)),a.$pending?(o(za,!0),a.$valid=a.$invalid=void 0,s("",null)):(o(za,!1),a.$valid=Pi(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var l;l=a.$pending&&a.$pending[t]?void 0:a.$error[t]?!1:a.$$success[t]?!0:null,s(t,l),a.$$parentForm.$setValidity(t,l,a)}function n(t,e,n){a[t]||(a[t]={}),c(a[t],e,n)}function i(t,e,n){a[t]&&d(a[t],e,n),Pi(a[t])&&(a[t]=void 0)}function o(t,e){e&&!l[t]?(u.addClass(r,t),l[t]=!0):!e&&l[t]&&(u.removeClass(r,t),l[t]=!1)}function s(t,e){t=t?"-"+lt(t,"-"):"",o(ja+t,e===!0),o(Va+t,e===!1)}var a=t.ctrl,r=t.$element,l={},c=t.set,d=t.unset,u=t.$animate;l[Va]=!(l[ja]=r.hasClass(ja)),a.$setValidity=e}function Pi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function _i(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Li=/^\/(.+)\/([a-z]*)$/,Ui="validity",Gi=Object.prototype.hasOwnProperty,Fi=function(t){return S(t)?t.toLowerCase():t},ji=function(t){return S(t)?t.toUpperCase():t},Vi=function(t){return S(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Bi=function(t){return S(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Fi=Vi,ji=Bi);var Wi,Hi,qi,zi,Yi=[].slice,Ki=[].splice,Ji=[].push,Qi=Object.prototype.toString,Xi=Object.getPrototypeOf,Zi=e("ng"),to=t.angular||(t.angular={}),eo=0;Wi=t.document.documentMode;var no=Number.isNaN||function(t){return t!==t};f.$inject=[],h.$inject=[];var io=Array.isArray,oo=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,so=function(t){return S(t)?t.trim():t},ao=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ro=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!b(ro.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");ro.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else ro.rules={noUnsafeEval:e(),noInlineStyle:!1}}return ro.rules},lo=function(){if(b(lo.name_))return lo.name_;var e,n,i,o,s=uo.length;for(n=0;s>n;++n)if(i=uo[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){o=e.getAttribute(i+"jq");break}return lo.name_=o},co=/:/g,uo=["ng-","data-ng-","ng:","x-ng-"],po=it(t.document),fo=/[A-Z]/g,ho=!1,mo=1,vo=2,go=3,bo=8,yo=9,$o=11,So={full:"1.5.11",major:1,minor:5,dot:11,codeName:"princely-quest"};Rt.expando="ng339";var Co=Rt.cache={},To=1,Eo=function(t,e,n){t.addEventListener(e,n,!1)},Ao=function(t,e,n){t.removeEventListener(e,n,!1)};Rt._data=function(t){return this.cache[t[this.expando]]||{}};var wo=/([:\-_]+(.))/g,Io=/^moz([A-Z])/,xo={mouseleave:"mouseout",mouseenter:"mouseover"},No=e("jqLite"),Ro=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Oo=/<|&#?\w+;/,Mo=/<([\w:-]+)/,Do=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ko={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ko.optgroup=ko.option,ko.tbody=ko.tfoot=ko.colgroup=ko.caption=ko.thead,ko.th=ko.td;var Po=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},_o=Rt.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),Rt(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Hi(t>=0?this[t]:this[this.length+t])},length:0,push:Ji,sort:[].sort,splice:[].splice},Lo={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Lo[Fi(t)]=t});var Uo={};i("input,select,option,textarea,button,form,details".split(","),function(t){Uo[t]=!0});var Go={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:_t,removeData:kt,hasData:At,cleanData:wt},function(t,e){Rt[e]=t}),i({data:_t,inheritedData:Vt,scope:function(t){return Hi.data(t,"$scope")||Vt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Hi.data(t,"$isolateScope")||Hi.data(t,"$isolateScopeNoTemplate")},controller:jt,injector:function(t){return Vt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Lt,css:function(t,e,n){return e=Ct(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==go&&i!==vo&&i!==bo){var o=Fi(e);if(Lo[o]){if(!b(n))return t[e]||(t.attributes.getNamedItem(e)||f).specified?o:void 0;n?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(b(n))t.setAttribute(e,n);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?void 0:s}}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(g(e)){var n=t.nodeType;return n===mo||n===go?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(g(e)){if(t.multiple&&"select"===L(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return g(e)?t.innerHTML:(Mt(t,!0),void(t.innerHTML=e))},empty:Bt},function(t,e){Rt.prototype[e]=function(e,n){var i,o,s=this.length;if(t!==Bt&&g(2===t.length&&t!==Lt&&t!==jt?e:n)){if(y(e)){for(i=0;s>i;i++)if(t===_t)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var a=t.$dv,r=g(a)?Math.min(s,1):s,l=0;r>l;l++){var c=t(this[l],e,n);a=a?a+c:c}return a}for(i=0;s>i;i++)t(this[i],e,n);return this}}),i({removeData:kt,on:function(t,e,n,i){if(b(i))throw No("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Et(t)){var o=Pt(t,!0),s=o.events,a=o.handle;a||(a=o.handle=Yt(t,s));for(var r=e.indexOf(" ")>=0?e.split(" "):[e],l=r.length,c=function(e,i,o){var r=s[e];r||(r=s[e]=[],r.specialHandlerWrapper=i,"$destroy"===e||o||Eo(t,e,a)),r.push(n)};l--;)e=r[l],xo[e]?(c(xo[e],Jt),c(e,void 0,!0)):c(e)}},off:Dt,one:function(t,e,n){t=Hi(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,o=t.parentNode;Mt(t),i(new Rt(e),function(e){n?o.insertBefore(e,n.nextSibling):o.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===mo&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===mo||n===$o){e=new Rt(e);for(var i=0,o=e.length;o>i;i++){var s=e[i];t.appendChild(s)}}},prepend:function(t,e){if(t.nodeType===mo){var n=t.firstChild;i(new Rt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Nt(t,Hi(e).eq(0).clone()[0])},remove:Wt,detach:function(t){Wt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new Rt(e);for(var o=0,s=e.length;s>o;o++){var a=e[o];i.insertBefore(a,n.nextSibling),n=a}}},addClass:Gt,removeClass:Ut,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;g(i)&&(i=!Lt(t,e)),(i?Gt:Ut)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==$o?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ot,triggerHandler:function(t,e,n){var o,s,a,r=e.type||e,l=Pt(t),d=l&&l.events,u=d&&d[r];u&&(o={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:r,target:t},e.type&&(o=c(o,e)),s=gt(u),a=n?[o].concat(n):[o],i(s,function(e){o.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Rt.prototype[e]=function(e,n,i){for(var o,s=0,a=this.length;a>s;s++)g(o)?(o=t(this[s],e,n,i),b(o)&&(o=Hi(o))):Ft(o,t(this[s],e,n,i));return b(o)?o:this}}),Rt.prototype.bind=Rt.prototype.on,Rt.prototype.unbind=Rt.prototype.off,Zt.prototype={put:function(t,e){this[Xt(t,this.nextUid)]=e},get:function(t){return this[Xt(t,this.nextUid)]},remove:function(t){var e=this[t=Xt(t,this.nextUid)];return delete this[t],e}};var Fo=[function(){this.$get=[function(){return Zt}]}],jo=/^([^(]+?)=>/,Vo=/^[^(]*\(\s*([^)]*)\)/m,Bo=/,/,Wo=/^\s*(_?)(\S+?)\1\s*$/,Ho=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qo=e("$injector");oe.$$annotate=ie;var zo=e("$animate"),Yo=1,Ko="ng-animate",Jo=function(){this.$get=f},Qo=function(){var t=new Zt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,o){function s(t,e,n){var o=!1;return e&&(e=S(e)?e.split(" "):io(e)?e:[],i(e,function(e){e&&(o=!0,t[e]=n)})),o}function a(){i(e,function(e){var n=t.get(e);if(n){var o=le(e.attr("class")),s="",a="";i(n,function(t,e){var n=!!o[e];t!==n&&(t?s+=(s.length?" ":"")+e:a+=(a.length?" ":"")+e)}),i(e,function(t){s&&Gt(t,s),a&&Ut(t,a)}),t.remove(e)}}),e.length=0}function r(n,i,r){var l=t.get(n)||{},c=s(l,i,!0),d=s(l,r,!1);(c||d)&&(t.put(n,l),e.push(n),1===e.length&&o.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(t,e,i,o){o&&o(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&r(t,i.addClass,i.removeClass);var s=new n;return s.complete(),s}}}]},Xo=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw zo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";e.$$registeredAnimations[n.substr(1)]=o,t.factory(o,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Ko+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw zo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ko)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=re(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,o,s){return i=i&&Hi(i),o=o&&Hi(o),i=i||o.parent(),e(n,i,o),t.push(n,"enter",ce(s))},move:function(n,i,o,s){return i=i&&Hi(i),o=o&&Hi(o),i=i||o.parent(),e(n,i,o),t.push(n,"move",ce(s))},leave:function(e,n){return t.push(e,"leave",ce(n),function(){e.remove()})},addClass:function(e,n,i){return i=ce(i),i.addClass=ae(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ce(i),i.removeClass=ae(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,o){return o=ce(o),o.addClass=ae(o.addClass,n),o.removeClass=ae(o.removeClass,i),t.push(e,"setClass",o)},animate:function(e,n,i,o,s){return s=ce(s),s.from=s.from?c(s.from,n):n,s.to=s.to?c(s.to,i):i,o=o||"ng-inline-animate",s.tempClasses=ae(s.tempClasses,o),t.push(e,"animate",s)}}}]}],Zo=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},ts=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,o,s){function a(t){this.setHost(t);var e=n(),i=function(t){s(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=o[0];n&&n.hidden?i(t):e(t)},this._state=0}var r=0,l=1,c=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){s=s&&n,++o===t.length&&e(s)}var o=0,s=!0;i(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=l,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},a}]},es=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function o(){return t(function(){s(),r||l.complete(),r=!0}),l}function s(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=G(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var r,l=new n;return{start:o,end:o}}}]},ns=e("$compile"),is=new he;me.$inject=["$provide","$$sanitizeUriProvider"],ve.prototype.isFirstChange=function(){return this.previousValue===is};var os=/^((?:x|data)[:\-_])/i,ss=e("$controller"),as=/^(\S+)(\s+as\s+([\w$]+))?$/,rs=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Hi&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},ls="application/json",cs={"Content-Type":ls+";charset=utf-8"},ds=/^\[|^\{(?!\{)/,us={"[":/]$/,"{":/}$/},ps=/^\)]\}',?\n/,fs=e("$http"),hs=function(t){return function(){throw fs("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},ms=to.$interpolateMinErr=e("$interpolate");ms.throwNoconcat=function(t){throw ms("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},ms.interr=function(t,e){return ms("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var vs=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(t){var o="_"+(n.$$counter++).toString(36),s="angular.callbacks."+o,a=e(o);return i[s]=n[o]=a,s},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},gs=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,bs={http:80,https:443,ftp:21},ys=e("$location"),$s=/^\s*[\\/]{2,}/,Ss={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Qe("$$absUrl"),url:function(t){if(g(t))return this.$$url;var e=gs.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Qe("$$protocol"),host:Qe("$$host"),port:Qe("$$port"),path:Xe("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(S(t)||C(t))t=t.toString(),this.$$search=X(t);else{if(!y(t))throw ys("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=G(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:g(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Xe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Je,Ke,Ye],function(t){t.prototype=Object.create(Ss),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ye||!this.$$html5)throw ys("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=g(e)?null:e,this}});var Cs=e("$parse"),Ts=[].constructor,Es=(!1).constructor,As=Function.constructor,ws=0..constructor,Is={}.constructor,xs="".constructor,Ns=Ts.prototype,Rs=Es.prototype,Os=As.prototype,Ms=ws.prototype,Ds=Is.prototype,ks=xs.prototype,Ps=Os.call,_s=Os.apply,Ls=Os.bind,Us=Ds.valueOf,Gs=mt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Gs[t]=!0});var Fs={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},js=function(t){this.options=t};js.prototype={constructor:js,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),o=Gs[e],s=Gs[n],a=Gs[i];if(o||s||a){var r=a?i:s?n:e;this.tokens.push({index:this.index,text:r,operator:!0}),this.index+=r.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Cs("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Fi(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(i+=s,o){if("u"===s){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var r=Fs[s];n+=r||s}o=!1}else if("\\"===s)o=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=s}this.index++}this.throwError("Unterminated quote",e)}};var Vs=function(t,e){this.lexer=t,this.options=e};Vs.Program="Program",Vs.ExpressionStatement="ExpressionStatement",Vs.AssignmentExpression="AssignmentExpression",Vs.ConditionalExpression="ConditionalExpression",Vs.LogicalExpression="LogicalExpression",Vs.BinaryExpression="BinaryExpression",Vs.UnaryExpression="UnaryExpression",Vs.CallExpression="CallExpression",Vs.MemberExpression="MemberExpression",Vs.Identifier="Identifier",Vs.Literal="Literal",Vs.ArrayExpression="ArrayExpression",Vs.Property="Property",Vs.ObjectExpression="ObjectExpression",Vs.ThisExpression="ThisExpression",Vs.LocalsExpression="LocalsExpression",Vs.NGValueParameter="NGValueParameter",Vs.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Vs.Program,body:t}},expressionStatement:function(){return{type:Vs.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!pn(t))throw Cs("lval","Trying to assign a value to a non l-value");t={type:Vs.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Vs.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Vs.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Vs.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Vs.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Vs.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Vs.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Vs.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Vs.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=G(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Vs.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Vs.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Vs.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Vs.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Vs.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Vs.Identifier,name:t.text}},constant:function(){return{type:Vs.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Vs.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Vs.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Vs.ObjectExpression,properties:e}},throwError:function(t,e){throw Cs("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Cs("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Cs("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,o){if(this.tokens.length>t){var s=this.tokens[t],a=s.text;if(a===e||a===n||a===i||a===o||!e&&!n&&!i&&!o)return s}return!1},expect:function(t,e,n,i){var o=this.peek(t,e,n,i);return o?(this.tokens.shift(),o):!1},selfReferential:{"this":{type:Vs.ThisExpression},$locals:{type:Vs.LocalsExpression}}},vn.prototype={compile:function(t,e){var n=this,o=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],
body:[],own:{}},inputs:[]},dn(o,n.$filter);var s,a="";if(this.stage="assign",s=fn(o)){this.state.computing="assign";var r=this.nextId();this.recurse(s,r),this.return_(r),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=un(o.body);n.stage="inputs",i(l,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var o=n.nextId();n.recurse(t,o),n.return_(o),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(o);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,en,on,sn,nn,an,rn,ln,t);return this.state=this.stage=void 0,d.literal=hn(o),d.constant=mn(o),d},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,o,s,a){var r,l,c,d,u,p=this;if(o=o||f,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,o,s,!0));switch(t.type){case Vs.Program:i(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case Vs.Literal:d=this.escape(t.value),this.assign(e,d),o(d);break;case Vs.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),d=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,d),o(d);break;case Vs.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){r=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),d="+"===t.operator?this.plus(r,l):"-"===t.operator?this.ifDefined(r,0)+t.operator+this.ifDefined(l,0):"("+r+")"+t.operator+"("+l+")",this.assign(e,d),o(d);break;case Vs.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),o(e);break;case Vs.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),o(e);break;case Vs.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),en(t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){s&&1!==s&&p.if_(p.not(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),(p.state.expensiveChecks||bn(t.name))&&p.addEnsureSafeObject(e),o(e);break;case Vs.MemberExpression:r=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,r,void 0,function(){p.if_(p.notNull(r),function(){s&&1!==s&&p.addEnsureSafeAssignContext(r),t.computed?(l=p.nextId(),p.recurse(t.property,l),p.getStringValue(l),p.addEnsureSafeMemberName(l),s&&1!==s&&p.if_(p.not(p.computedMember(r,l)),p.lazyAssign(p.computedMember(r,l),"{}")),d=p.ensureSafeObject(p.computedMember(r,l)),p.assign(e,d),n&&(n.computed=!0,n.name=l)):(en(t.property.name),s&&1!==s&&p.if_(p.not(p.nonComputedMember(r,t.property.name)),p.lazyAssign(p.nonComputedMember(r,t.property.name),"{}")),d=p.nonComputedMember(r,t.property.name),(p.state.expensiveChecks||bn(t.property.name))&&(d=p.ensureSafeObject(d)),p.assign(e,d),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),o(e)},!!s);break;case Vs.CallExpression:e=e||this.nextId(),t.filter?(l=p.filter(t.callee.name),c=[],i(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),c.push(e)}),d=l+"("+c.join(",")+")",p.assign(e,d),o(e)):(l=p.nextId(),r={},c=[],p.recurse(t.callee,l,r,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),i(t.arguments,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(p.ensureSafeObject(t))})}),r.name?(p.state.expensiveChecks||p.addEnsureSafeObject(r.context),d=p.member(r.context,r.name,r.computed)+"("+c.join(",")+")"):d=l+"("+c.join(",")+")",d=p.ensureSafeObject(d),p.assign(e,d)},function(){p.assign(e,"undefined")}),o(e)}));break;case Vs.AssignmentExpression:l=this.nextId(),r={},this.recurse(t.left,void 0,r,function(){p.if_(p.notNull(r.context),function(){p.recurse(t.right,l),p.addEnsureSafeObject(p.member(r.context,r.name,r.computed)),p.addEnsureSafeAssignContext(r.context),d=p.member(r.context,r.name,r.computed)+t.operator+l,p.assign(e,d),o(e||d)})},1);break;case Vs.ArrayExpression:c=[],i(t.elements,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(t)})}),d="["+c.join(",")+"]",this.assign(e,d),o(d);break;case Vs.ObjectExpression:c=[],u=!1,i(t.properties,function(t){t.computed&&(u=!0)}),u?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(r=p.nextId(),p.recurse(t.key,r)):r=t.key.type===Vs.Identifier?t.key.name:""+t.key.value,l=p.nextId(),p.recurse(t.value,l),p.assign(p.member(e,r,t.computed),l)})):(i(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){c.push(p.escape(e.key.type===Vs.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(e,d)),o(e||d);break;case Vs.ThisExpression:this.assign(e,"s"),o("s");break;case Vs.LocalsExpression:this.assign(e,"l"),o("l");break;case Vs.NGValueParameter:this.assign(e,"v"),o("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,o,s){var a=this;return function(){a.recurse(t,e,n,i,o,s)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(S(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Cs("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(t,e){var n=this,o=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,dn(o,n.$filter);var s,a;(s=fn(o))&&(a=this.recurse(s));var r,l=un(o.body);l&&(r=[],i(l,function(t,e){var i=n.recurse(t);t.input=i,r.push(i),t.watchId=e}));var c=[];i(o.body,function(t){c.push(n.recurse(t.expression))});var d=0===o.body.length?f:1===o.body.length?c[0]:function(t,e){var n;return i(c,function(i){n=i(t,e)}),n};return a&&(d.assign=function(t,e,n){return a(t,n,e)}),r&&(d.inputs=r),d.literal=hn(o),d.constant=mn(o),d},recurse:function(t,e,n){var o,s,a,r=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Vs.Literal:return this.value(t.value,e);case Vs.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case Vs.BinaryExpression:return o=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](o,s,e);case Vs.LogicalExpression:return o=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](o,s,e);case Vs.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Vs.Identifier:return en(t.name,r.expression),r.identifier(t.name,r.expensiveChecks||bn(t.name),e,n,r.expression);case Vs.MemberExpression:return o=this.recurse(t.object,!1,!!n),t.computed||(en(t.property.name,r.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(o,s,e,n,r.expression):this.nonComputedMember(o,s,r.expensiveChecks,e,n,r.expression);case Vs.CallExpression:return a=[],i(t.arguments,function(t){a.push(r.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,n,i,o){for(var r=[],l=0;l<a.length;++l)r.push(a[l](t,n,i,o));var c=s.apply(void 0,r,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,i,o){var l,c=s(t,n,i,o);if(null!=c.value){on(c.context,r.expression),sn(c.value,r.expression);for(var d=[],u=0;u<a.length;++u)d.push(on(a[u](t,n,i,o),r.expression));l=on(c.value.apply(c.context,d),r.expression)}return e?{value:l}:l};case Vs.AssignmentExpression:return o=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,i,a){var l=o(t,n,i,a),c=s(t,n,i,a);return on(l.value,r.expression),an(l.context),l.context[l.name]=c,e?{value:c}:c};case Vs.ArrayExpression:return a=[],i(t.elements,function(t){a.push(r.recurse(t))}),function(t,n,i,o){for(var s=[],r=0;r<a.length;++r)s.push(a[r](t,n,i,o));return e?{value:s}:s};case Vs.ObjectExpression:return a=[],i(t.properties,function(t){t.computed?a.push({key:r.recurse(t.key),computed:!0,value:r.recurse(t.value)}):a.push({key:t.key.type===Vs.Identifier?t.key.name:""+t.key.value,computed:!1,value:r.recurse(t.value)})}),function(t,n,i,o){for(var s={},r=0;r<a.length;++r)a[r].computed?s[a[r].key(t,n,i,o)]=a[r].value(t,n,i,o):s[a[r].key]=a[r].value(t,n,i,o);return e?{value:s}:s};case Vs.ThisExpression:return function(t){return e?{value:t}:t};case Vs.LocalsExpression:return function(t,n){return e?{value:n}:n};case Vs.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,o,s){var a=t(n,i,o,s);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,o,s){var a=t(n,i,o,s);return a=b(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,o,s){var a=!t(n,i,o,s);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a),l=e(i,o,s,a),c=ln(r,l);return n?{value:c}:c}},"binary-":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a),l=e(i,o,s,a),c=(b(r)?r:0)-(b(l)?l:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)*e(i,o,s,a);return n?{value:r}:r}},"binary/":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)/e(i,o,s,a);return n?{value:r}:r}},"binary%":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)%e(i,o,s,a);return n?{value:r}:r}},"binary===":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)===e(i,o,s,a);return n?{value:r}:r}},"binary!==":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)!==e(i,o,s,a);return n?{value:r}:r}},"binary==":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)==e(i,o,s,a);return n?{value:r}:r}},"binary!=":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)!=e(i,o,s,a);return n?{value:r}:r}},"binary<":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)<e(i,o,s,a);return n?{value:r}:r}},"binary>":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)>e(i,o,s,a);return n?{value:r}:r}},"binary<=":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)<=e(i,o,s,a);return n?{value:r}:r}},"binary>=":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)>=e(i,o,s,a);return n?{value:r}:r}},"binary&&":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)&&e(i,o,s,a);return n?{value:r}:r}},"binary||":function(t,e,n){return function(i,o,s,a){var r=t(i,o,s,a)||e(i,o,s,a);return n?{value:r}:r}},"ternary?:":function(t,e,n,i){return function(o,s,a,r){var l=t(o,s,a,r)?e(o,s,a,r):n(o,s,a,r);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,o){return function(s,a,r,l){var c=a&&t in a?a:s;i&&1!==i&&c&&!c[t]&&(c[t]={});var d=c?c[t]:void 0;return e&&on(d,o),n?{context:c,name:t,value:d}:d}},computedMember:function(t,e,n,i,o){return function(s,a,r,l){var c,d,u=t(s,a,r,l);return null!=u&&(c=e(s,a,r,l),c=nn(c),en(c,o),i&&1!==i&&(an(u),u&&!u[c]&&(u[c]={})),d=u[c],on(d,o)),n?{context:u,name:c,value:d}:d}},nonComputedMember:function(t,e,n,i,o,s){return function(a,r,l,c){var d=t(a,r,l,c);o&&1!==o&&(an(d),d&&!d[e]&&(d[e]={}));var u=null!=d?d[e]:void 0;return(n||bn(e))&&on(u,s),i?{context:d,name:e,value:u}:u}},inputs:function(t,e){return function(n,i,o,s){return s?s[e]:t(n,i,o)}}};var Bs=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Vs(t,n),this.astCompiler=n.csp?new gn(this.ast,e):new vn(this.ast,e)};Bs.prototype={constructor:Bs,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Ws=e("$sce"),Hs={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},qs=e("$compile"),zs=t.document.createElement("a"),Ys=Pn(t.location.href);Un.$inject=["$document"],Fn.$inject=["$provide"];var Ks=22,Js=".",Qs="0";Hn.$inject=["$locale"],qn.$inject=["$locale"];var Xs={yyyy:Qn("FullYear",4,0,!1,!0),yy:Qn("FullYear",2,0,!0,!0),y:Qn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:ii,Z:Zn,ww:ni(2),w:ni(1),G:oi,GG:oi,GGG:oi,GGGG:si},Zs=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ta=/^-?\d+$/;ai.$inject=["$locale"];var ea=m(Fi),na=m(ji);di.$inject=["$parse"];var ia=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Qi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),oa={};i(Lo,function(t,e){function n(t,n,o){t.$watch(o[i],function(t){o.$set(e,!!t)})}if("multiple"!==t){var i=ge("ng-"+e),o=n;"checked"===t&&(o=function(t,e,o){o.ngModel!==o[i]&&n(t,e,o)}),oa[i]=function(){return{restrict:"A",priority:100,link:o}}}}),i(Go,function(t,e){oa[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"===i.ngPattern.charAt(0)){var o=i.ngPattern.match(Li);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=ge("ng-"+t);oa[e]=function(){return{priority:99,link:function(n,i,o){var s=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Qi.call(i.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",s=null),o.$observe(e,function(e){return e?(o.$set(a,e),void(Wi&&s&&i.prop(s,o[a]))):void("href"===t&&o.$set(a,null))})}}}});var sa={$addControl:f,$$renameControl:pi,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},aa="ng-submitted";fi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ra=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}var o={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:fi,compile:function(n,o){n.addClass(Ba).addClass(ja);var s=o.name?"name":t&&o.ngForm?"ngForm":!1;return{pre:function(t,n,o,a){var r=a[0];if(!("action"in o)){var l=function(e){t.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),e.preventDefault()};Eo(n[0],"submit",l),n.on("$destroy",function(){e(function(){Ao(n[0],"submit",l)},0,!1)})}var d=a[1]||r.$$parentForm;d.$addControl(r);var u=s?i(r.$name):f;s&&(u(t,r),o.$observe(s,function(e){r.$name!==e&&(u(t,void 0),r.$$parentForm.$$renameControl(r,e),(u=i(r.$name))(t,r))})),n.on("$destroy",function(){r.$$parentForm.$removeControl(r),u(t,void 0),c(r,sa)})}}}};return o}]},la=ra(),ca=ra(!0),da=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ua=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,pa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,fa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ha=/^(\d{4,})-(\d{2})-(\d{2})$/,ma=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,va=/^(\d{4,})-W(\d\d)$/,ga=/^(\d{4,})-(\d\d)$/,ba=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ya="keydown wheel mousedown",$a=mt();i("date,datetime-local,month,time,week".split(","),function(t){$a[t]=!0});var Sa={text:mi,date:yi("date",ha,bi(ha,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yi("datetimelocal",ma,bi(ma,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yi("time",ba,bi(ba,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yi("week",va,gi,"yyyy-Www"),month:yi("month",ga,bi(ga,["yyyy","MM"]),"yyyy-MM"),number:wi,url:xi,email:Ni,radio:Ri,range:Ii,checkbox:Mi,hidden:f,button:f,submit:f,reset:f,file:f},Ca=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,s,a,r){if(r[0]){var l=Fi(a.type);"range"!==l||a.hasOwnProperty("ngInputRange")||(l="text"),(Sa[l]||Sa.text)(o,s,a,r[0],e,t,n,i)}}}}}],Ta=/^(true|false|\d+)$/,Ea=function(){return{restrict:"A",priority:100,compile:function(t,e){return Ta.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Aa=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=g(t)?"":t})}}}}],wa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,o){var s=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,s.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=g(t)?"":t})}}}}],Ia=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,o){var s=e(o.ngBindHtml),a=e(o.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,o){n.$$addBindingInfo(i,o.ngBindHtml),e.$watch(a,function(){var n=s(e);i.html(t.getTrustedHtml(n)||"")})}}}}],xa=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Na=Di("",!0),Ra=Di("Odd",0),Oa=Di("Even",1),Ma=ui({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Da=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ka={},Pa={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ge("ng-"+t);ka[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,s){var a=n(s[e],null,!0);return function(e,n){n.on(t,function(n){var o=function(){a(e,{$event:n})};Pa[t]&&i.$$phase?e.$evalAsync(o):e.$apply(o)})}}}}]});var _a=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,s,a){var r,l,c;n.$watch(o.ngIf,function(n){n?l||a(function(n,s){l=s,n[n.length++]=e.$$createComment("end ngIf",o.ngIf),r={clone:n},t.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),r&&(c=ht(r.clone),t.leave(c).done(function(t){t!==!1&&(c=null)}),r=null))})}}}],La=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:to.noop,compile:function(i,o){var s=o.ngInclude||o.src,a=o.onload||"",r=o.autoscroll;return function(i,o,l,c,d){var u,p,f,h=0,m=function(){p&&(p.remove(),p=null),u&&(u.$destroy(),u=null),f&&(n.leave(f).done(function(t){t!==!1&&(p=null)}),p=f,f=null)};i.$watch(s,function(s){var l=function(t){t===!1||!b(r)||r&&!i.$eval(r)||e()},p=++h;s?(t(s,!0).then(function(t){if(!i.$$destroyed&&p===h){var e=i.$new();c.template=t;var r=d(e,function(t){m(),n.enter(t,null,o).done(l)});u=e,f=r,u.$emit("$includeContentLoaded",s),i.$eval(a)}},function(){i.$$destroyed||p===h&&(m(),i.$emit("$includeContentError",s))}),i.$emit("$includeContentRequested",s)):(m(),c.template=null)})}}}}],Ua=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,s){return Qi.call(i[0]).match(/SVG/)?(i.empty(),void e(It(s.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(s.template),void e(i.contents())(n))}}}],Ga=ui({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,o){var s=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,r=a?so(s):s,l=function(t){if(!g(t)){var e=[];return t&&i(t.split(r),function(t){t&&e.push(a?so(t):t)}),e}};o.$parsers.push(l),o.$formatters.push(function(t){return io(t)?t.join(s):void 0}),o.$isEmpty=function(t){return!t||!t.length}}}},ja="ng-valid",Va="ng-invalid",Ba="ng-pristine",Wa="ng-dirty",Ha="ng-untouched",qa="ng-touched",za="ng-pending",Ya="ng-empty",Ka="ng-not-empty",Ja=e("ngModel"),Qa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,o,s,a,r,l,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=d(n.name||"",!1)(t),this.$$parentForm=sa;var u,p=s(n.ngModel),h=p.assign,m=p,v=h,y=null,$=this;this.$$setOptions=function(t){if($.$options=t,t&&t.getterSetter){var e=s(n.ngModel+"()"),i=s(n.ngModel+"($$$p)");m=function(t){var n=p(t);return E(n)&&(n=e(t)),n},v=function(t,e){E(p(t))?i(t,{$$$p:e}):h(t,e)}}else if(!p.assign)throw Ja("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(o))},this.$render=f,this.$isEmpty=function(t){return g(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){$.$isEmpty(t)?(a.removeClass(o,Ka),a.addClass(o,Ya)):(a.removeClass(o,Ya),a.addClass(o,Ka))};var S=0;ki({ctrl:this,$element:o,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,a.removeClass(o,Wa),a.addClass(o,Ba)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,a.removeClass(o,Ba),a.addClass(o,Wa),$.$$parentForm.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,a.setClass(o,Ha,qa)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,a.setClass(o,qa,Ha)},this.$rollbackViewValue=function(){r.cancel(y),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!no($.$modelValue)){var t=$.$$lastCommittedViewValue,e=$.$$rawModelValue,n=$.$valid,i=$.$modelValue,o=$.$options&&$.$options.allowInvalid;$.$$runValidators(e,t,function(t){o||n===t||($.$modelValue=t?e:void 0,$.$modelValue!==i&&$.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function o(){var t=$.$$parserName||"parse";return g(u)?(r(t,null),!0):(u||(i($.$validators,function(t,e){r(e,null)}),i($.$asyncValidators,function(t,e){r(e,null)})),r(t,u),u)}function s(){var n=!0;return i($.$validators,function(i,o){var s=i(t,e);n=n&&s,r(o,s)}),n?!0:(i($.$asyncValidators,function(t,e){r(e,null)}),!1)}function a(){var n=[],o=!0;i($.$asyncValidators,function(i,s){var a=i(t,e);if(!M(a))throw Ja("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);r(s,void 0),n.push(a.then(function(){r(s,!0)},function(){o=!1,r(s,!1)}))}),n.length?c.all(n).then(function(){l(o)},f):l(!0)}function r(t,e){d===S&&$.$setValidity(t,e)}function l(t){d===S&&n(t)}S++;var d=S;return o()&&s()?void a():void l(!1)},this.$commitViewValue=function(){var t=$.$viewValue;r.cancel(y),($.$$lastCommittedViewValue!==t||""===t&&$.$$hasNativeValidators)&&($.$$updateEmptyClasses(t),$.$$lastCommittedViewValue=t,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){$.$modelValue!==s&&$.$$writeModelToScope()}var n=$.$$lastCommittedViewValue,i=n;if(u=g(i)?void 0:!0)for(var o=0;o<$.$parsers.length;o++)if(i=$.$parsers[o](i),g(i)){u=!1;break}no($.$modelValue)&&($.$modelValue=m(t));var s=$.$modelValue,a=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=i,a&&($.$modelValue=i,e()),$.$$runValidators(i,$.$$lastCommittedViewValue,function(t){a||($.$modelValue=t?i:void 0,e())})},this.$$writeModelToScope=function(){v(t,$.$modelValue),i($.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){$.$viewValue=t,(!$.$options||$.$options.updateOnDefault)&&$.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,o=$.$options;o&&b(o.debounce)&&(n=o.debounce,C(n)?i=n:C(n[e])?i=n[e]:C(n["default"])&&(i=n["default"])),r.cancel(y),i?y=r(function(){$.$commitViewValue()},i):l.$$phase?$.$commitViewValue():t.$apply(function(){$.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==$.$modelValue&&($.$modelValue===$.$modelValue||e===e)){$.$modelValue=$.$$rawModelValue=e,u=void 0;for(var n=$.$formatters,i=n.length,o=e;i--;)o=n[i](o);$.$viewValue!==o&&($.$$updateEmptyClasses(o),$.$viewValue=$.$$lastCommittedViewValue=o,$.$render(),$.$$runValidators($.$modelValue,$.$viewValue,f))}return e})}],Xa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Qa,priority:1,compile:function(e){return e.addClass(Ba).addClass(Ha).addClass(ja),{pre:function(t,e,n,i){var o=i[0],s=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),s.$addControl(o),n.$observe("name",function(t){o.$name!==t&&o.$$parentForm.$$renameControl(o,t)}),t.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(e,n,i,o){var s=o[0];s.$options&&s.$options.updateOn&&n.on(s.$options.updateOn,function(t){s.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){s.$touched||(t.$$phase?e.$evalAsync(s.$setTouched):e.$apply(s.$setTouched))})}}}}}],Za=/(\s+|^)default(\s+|$)/,tr=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=G(t.$eval(e.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=so(this.$options.updateOn.replace(Za,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},er=ui({terminal:!0,priority:1e3}),nr=e("ngOptions"),ir=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,or=["$compile","$document","$parse",function(e,o,s){function a(t,e,i){function o(t,e,n,i,o){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=o}function a(t){var e;if(!c&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var r=t.match(ir);if(!r)throw nr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,J(e));var l=r[5]||r[7],c=r[6],d=/ as /.test(r[0])&&r[1],u=r[9],p=s(r[2]?r[1]:l),f=d&&s(d),h=f||p,m=u&&s(u),v=u?function(t,e){return m(i,e)}:function(t){return Xt(t)},g=function(t,e){return v(t,T(t,e))},b=s(r[2]||r[1]),y=s(r[3]||""),$=s(r[4]||""),S=s(r[8]),C={},T=c?function(t,e){return C[c]=e,C[l]=t,C}:function(t){return C[l]=t,C};return{trackBy:u,getTrackByValue:g,getWatchables:s(S,function(t){var e=[];t=t||[];for(var n=a(t),o=n.length,s=0;o>s;s++){var l=t===n?s:n[s],c=t[l],d=T(c,l),u=v(c,d);if(e.push(u),r[2]||r[1]){var p=b(i,d);e.push(p)}if(r[4]){var f=$(i,d);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=S(i)||[],s=a(n),r=s.length,l=0;r>l;l++){var c=n===s?l:s[l],d=n[c],p=T(d,c),f=h(i,p),m=v(f,p),C=b(i,p),E=y(i,p),A=$(i,p),w=new o(m,f,C,E,A);t.push(w),e[m]=w}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return u?G(t.viewValue):t.viewValue}}}}}function r(t,n,s,r){function d(t,e){var n=l.cloneNode(!1);e.appendChild(n),u(t,n)}function u(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=E&&h.readValue();if(E)for(var e=E.items.length-1;e>=0;e--){var i=E.items[e];Wt(b(i.group)?i.element.parentNode:i.element)}E=A.getOptions();var o={};if(S&&n.prepend(f),E.items.forEach(function(t){var e;b(t.group)?(e=o[t.group],e||(e=c.cloneNode(!1),w.appendChild(e),e.label=null===t.group?"null":t.group,o[t.group]=e),d(t,e)):d(t,w)}),n[0].appendChild(w),m.$render(),!m.$isEmpty(t)){var s=h.readValue(),a=A.trackBy||v;(a?F(t,s):t===s)||(m.$setViewValue(s),m.$render())}}for(var f,h=r[0],m=r[1],v=s.multiple,g=0,y=n.children(),$=y.length;$>g;g++)if(""===y[g].value){f=y.eq(g);break}var S=!!f,C=!1,T=Hi(l.cloneNode(!1));T.val("?");var E,A=a(s.ngOptions,n,t),w=o[0].createDocumentFragment(),I=function(){S||n.prepend(f),n.val(""),C&&(f.prop("selected",!0),f.attr("selected",!0))},x=function(){S?C&&f.removeAttr("selected"):f.remove()},N=function(){n.prepend(T),n.val("?"),T.prop("selected",!0),T.attr("selected",!0)},R=function(){T.remove()};v?(m.$isEmpty=function(t){return!t||0===t.length},h.writeValue=function(t){E.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=E.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},h.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=E.selectValueMap[t];n&&!n.disabled&&e.push(E.getViewValueFromOption(n))}),e},A.trackBy&&t.$watchCollection(function(){return io(m.$viewValue)?m.$viewValue.map(function(t){return A.getTrackByValue(t)}):void 0},function(){m.$render();
})):(h.writeValue=function(t){var e=E.selectValueMap[n.val()],i=E.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(R(),x(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):null===t||S?(R(),I()):(x(),N())},h.readValue=function(){var t=E.selectValueMap[n.val()];return t&&!t.disabled?(x(),R(),E.getViewValueFromOption(t)):null},A.trackBy&&t.$watch(function(){return A.getTrackByValue(m.$viewValue)},function(){m.$render()})),S?(f.remove(),e(f)(t),f[0].nodeType===bo?(C=!1,h.registerOption=function(t,e){""===e.val()&&(C=!0,f=e,f.removeClass("ng-scope"),m.$render(),e.on("$destroy",function(){f=void 0,C=!1}))}):(f.removeClass("ng-scope"),C=!0)):f=Hi(l.cloneNode(!1)),n.empty(),p(),t.$watchCollection(A.getWatchables,p)}var l=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:r}}}],sr=["$locale","$interpolate","$log",function(t,e,n){var o=/{}/g,s=/^when(Minus)?(.+)$/;return{link:function(a,r,l){function c(t){r.text(t||"")}var d,u=l.count,p=l.$attr.when&&r.attr(l.$attr.when),h=l.offset||0,m=a.$eval(p)||{},v={},b=e.startSymbol(),y=e.endSymbol(),$=b+u+"-"+h+y,S=to.noop;i(l,function(t,e){var n=s.exec(e);if(n){var i=(n[1]?"-":"")+Fi(n[2]);m[i]=r.attr(l.$attr[e])}}),i(m,function(t,n){v[n]=e(t.replace(o,$))}),a.$watch(u,function(e){var i=parseFloat(e),o=no(i);if(o||i in m||(i=t.pluralCat(i-h)),!(i===d||o&&no(d))){S();var s=v[i];g(s)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),S=f,c()):S=a.$watch(s,c),d=i}})}}}],ar=["$parse","$animate","$compile",function(t,o,s){var a="$$NG_REMOVED",r=e("ngRepeat"),l=function(t,e,n,i,o,s,a){t[n]=i,o&&(t[o]=s),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},d=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,u){var p=u.ngRepeat,f=s.$$createComment("end ngRepeat",p),h=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=h[1],v=h[2],g=h[3],b=h[4];if(h=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!h)throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=h[3]||h[1],$=h[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var S,C,T,E,A={$id:Xt};return b?S=t(b):(T=function(t,e){return Xt(e)},E=function(t){return t}),function(t,e,s,u,h){S&&(C=function(e,n,i){return $&&(A[$]=e),A[y]=n,A.$index=i,S(t,A)});var m=mt();t.$watchCollection(v,function(s){var u,v,b,S,A,w,I,x,N,R,O,M,D=e[0],k=mt();if(g&&(t[g]=s),n(s))N=s,x=C||T;else{x=C||E,N=[];for(var P in s)Gi.call(s,P)&&"$"!==P.charAt(0)&&N.push(P)}for(S=N.length,O=new Array(S),u=0;S>u;u++)if(A=s===N?u:N[u],w=s[A],I=x(A,w,u),m[I])R=m[I],delete m[I],k[I]=R,O[u]=R;else{if(k[I])throw i(O,function(t){t&&t.scope&&(m[t.id]=t)}),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,I,w);O[u]={id:I,scope:void 0,clone:void 0},k[I]=!0}for(var _ in m){if(R=m[_],M=ht(R.clone),o.leave(M),M[0].parentNode)for(u=0,v=M.length;v>u;u++)M[u][a]=!0;R.scope.$destroy()}for(u=0;S>u;u++)if(A=s===N?u:N[u],w=s[A],R=O[u],R.scope){b=D;do b=b.nextSibling;while(b&&b[a]);c(R)!==b&&o.move(ht(R.clone),null,D),D=d(R),l(R.scope,u,y,w,$,A,S)}else h(function(t,e){R.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,o.enter(t,null,D),D=n,R.clone=t,k[R.id]=R,l(R.scope,u,y,w,$,A,S)});m=k})}}}}],rr="ng-hide",lr="ng-hide-animate",cr=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,rr,{tempClasses:lr})})}}}],dr=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,rr,{tempClasses:lr})})}}}],ur=ui(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),pr=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,o,s,a){var r=s.ngSwitch||s.on,l=[],c=[],d=[],u=[],p=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(r,function(n){for(var o,s;d.length;)t.cancel(d.pop());for(o=0,s=u.length;s>o;++o){var r=ht(c[o].clone);u[o].$destroy();var f=d[o]=t.leave(r);f.done(p(d,o))}c.length=0,u.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,o){u.push(o);var s=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};c.push(a),t.enter(i,s.parent(),s)})})})}}}],fr=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,o,s){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});i(a,function(t){o.cases["!"+t]=o.cases["!"+t]||[],o.cases["!"+t].push({transclude:s,element:e})})}}),hr=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:e})}}),mr=e("ngTransclude"),vr=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,o,s){function a(t,n){t.length?e.append(t):(r(),n.$destroy())}function r(){n(t,function(t){e.append(t)})}if(!s)throw mr("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;s(a,null,l),l&&!s.isSlotFilled(l)&&r()}}}}],gr=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,o=e[0].text;t.put(i,o)}}}}],br={$setViewValue:f,$render:f},yr=["$element","$scope",function(e,n){var i=this,o=new Zt;i.ngModelCtrl=br,i.unknownOption=Hi(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Xt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=f}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==bo){pt(t,'"option value"'),""===t&&(i.emptyOption=e);var n=o.get(t)||0;o.put(t,n+1),i.ngModelCtrl.$render(),_i(e)}},i.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.remove(t),""===t&&(i.emptyOption=void 0)):o.put(t,e-1))},i.hasOption=function(t){return!!o.get(t)},i.registerOption=function(t,e,n,o,s){if(o){var a;n.$observe("value",function(t){b(a)&&i.removeOption(a),a=t,i.addOption(t,e)})}else s?t.$watch(s,function(t,o){n.$set("value",t),o!==t&&i.removeOption(o),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],$r=function(){function t(t,e,n,o){var s=o[1];if(s){var a=o[0];if(a.ngModelCtrl=s,e.on("change",function(){t.$apply(function(){s.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Zt(t);i(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var r,l=NaN;t.$watch(function(){l!==s.$viewValue||F(r,s.$viewValue)||(r=gt(s.$viewValue),s.$render()),l=s.$viewValue}),s.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var o=i[1];if(o){var s=i[0];o.$render=function(){s.writeValue(o.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:yr,priority:1,link:{pre:t,post:e}}},Sr=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,o;return b(n.ngValue)?i=!0:b(n.value)?i=t(n.value,!0):(o=t(e.text(),!0),o||n.$set("value",e.text())),function(t,e,n){var s="$selectController",a=e.parent(),r=a.data(s)||a.parent().data(s);r&&r.registerOption(t,e,n,i,o)}}}}],Cr=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Tr=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,o){if(o){var s,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(S(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,J(n));s=t||void 0,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||g(s)||s.test(e)}}}}},Er=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=-1;n.$observe("maxlength",function(t){var e=u(t);o=no(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>o||i.$isEmpty(e)||e.length<=o}}}}},Ar=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=0;n.$observe("minlength",function(t){o=u(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=o}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ct(),$t(to),to.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var o=Math.pow(10,i),s=(t*o|0)%o;return{v:i,f:s}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var o=0|t,s=n(t,e);return 1==o&&0==s.v?i.ONE:i.OTHER}})}]),void Hi(t.document).ready(function(){ot(t.document,st)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(t,e){"use strict";angular.module("mmSankey",[]).directive("mmSankey",["$state",function(t){var e=960,n=700,i=5,o=5,s=15,a=80,r={miner:{c:"",f:"FontAwesome"},processor:{c:"",f:"FontAwesome"},output:{c:"",f:"FontAwesome"}},l=function(t){return 0===t.targetLinks.length?r.miner.c:0===t.sourceLinks.length?r.output.c:r.processor.c},c=function(t){return 0===t.targetLinks.length?r.miner.f:0===t.sourceLinks.length?r.output.f:r.processor.f},d=function(t){var e="mw-sankey-node";return e+="miner"===t.nodeType?" mw-sankey-node-miner":"output"===t.nodeType?" mw-sankey-node-output":"processor"===t.nodeType?" mw-sankey-node-processor":" mw-sankey-node-unknown"},u=function(r,u,p){var f=function(t,e){return s+t.value/2*e},h=d3.tip().attr("class","d3-tip").direction("n").offset(function(t){return t.source_name?[this.getBBox().height/2-20,0]:[-10,0]}).html(function(t){var e;return e=t.source_name?['<p class="text-center strong">'+t.source_name+"</p>","<p>"+t.updates_emitted+" UPDATE.TX</p>"]:['<p class="text-center strong">'+t.name+"</p>","<p>"+t.num_indicators+" INDICATORS</p>"],e.join("")}),m=d3.select(u[0]).append("svg").classed("d3-responsive",!0).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+e+" "+n).append("g").attr("transform","translate("+i+","+o+")"),v=d3.sankey().nodePadding(10).size([e-2*i,n-2*o]),g=v.link();r.$watch("fts",function(n,i){var o={nodes_flat:[],nodes:[],links:[]};if(m.selectAll("*").remove(),m.call(h),n){angular.forEach(n,function(t,e){var n,s,a,r=t.status;s=r.name,a=void 0===r.statistics["update.tx"]?0:r.statistics["update.tx"],o.nodes_flat.push(s),n=!0,i&&i[s]&&(n=a==i[s].updates_emitted?!1:!0),o.nodes.push({name:s,nodeType:t.nodeType,value:Math.sqrt(r.length),num_indicators:r.length,updates_emitted:a,"class":r["class"],updates_emitted_changed:n})}),angular.forEach(n,function(t,e){var n=t.status,i=n.name;angular.forEach(n.inputs,function(t){var e;e=o.nodes[o.nodes_flat.indexOf(t)],o.links.push({source:o.nodes_flat.indexOf(t),target:o.nodes_flat.indexOf(i),value:Math.max(Math.sqrt(e.updates_emitted),.1),updates_emitted:e.updates_emitted,source_name:t,target_name:i,changed:o.nodes[o.nodes_flat.indexOf(t)].updates_emitted_changed})})});var u=d3.sum(o.nodes,function(t){return t.value});u=Math.max(u,1);var p=(a-s)/u;v.nodes(o.nodes).links(o.links).maxNodeWidth(2*a).minNodeWidth(2*s).layout(32);var b=m.append("g").selectAll(".mw-sankey-link").data(o.links).enter().append("path").attr("class","mw-sankey-link").style("stroke",function(t){return t.changed?"#28556F":"#000"}).attr("d",g).style("stroke-width",function(t){return.1==t.value?1:Math.min(1.1*a,Math.max(.1,t.dy))}).sort(function(t,e){return e.dy-t.dy}).on("mouseover",h.show).on("mouseout",h.hide);b.filter(function(t){return t.changed}).transition().style("stroke","#000").duration(1e3);var y=m.append("g").selectAll(".mw-sankey-node").data(o.nodes).enter().append("g").attr("class",d).attr("transform",function(t){return"translate("+t.x+","+t.y+")"});y.append("circle").attr("cx",function(t){return t.dx/2}).attr("cy",function(t){return t.dx/2}).attr("r",function(t){return f(t,p)}),y.append("text").attr("x",function(t){return t.dx/2}).attr("y",function(t){return t.dx/2}).attr("alignment-baseline","central").attr("text-anchor","middle").attr("transform",null).attr("font-size",function(t){return Math.sqrt(2)*f(t,p)*.8}).attr("font-family",c).text(l),y.append("circle").attr("cx",function(t){return t.dx/2}).attr("cy",function(t){return t.dx/2}).attr("r",function(t){return f(t,p)}).classed("node-overlay",!0).on("mouseover",h.show).on("mouseout",h.hide).on("click",function(e){e.name!=r.currentFt&&(h.hide(),t.go("nodedetail.info",{nodename:e.name}))}),y.append("text").attr("x",function(t){return t.x<e/2?t.dx/2+f(t,p)+3:t.dx/2-f(t,p)-3}).attr("y",function(t){return t.dx/2+f(t,p)+3}).attr("text-anchor",function(t){return t.x<e/2?"start":"end"}).attr("transform",null).attr("font-size",10).style("fill","#000","important").text(function(t){return t.name})}})};return{strict:"E",link:u,scope:{fts:"=",currentFt:"="}}}])},function(t,e){/*
	Copyright (c) 2012-2015, Michael Bostock
	All rights reserved.

	Redistribution and use in source and binary forms, with or without
	modification, are permitted provided that the following conditions are met:

	* Redistributions of source code must retain the above copyright notice, this
	  list of conditions and the following disclaimer.

	* Redistributions in binary form must reproduce the above copyright notice,
	  this list of conditions and the following disclaimer in the documentation
	  and/or other materials provided with the distribution.

	* The name Michael Bostock may not be used to endorse or promote products
	  derived from this software without specific prior written permission.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
	AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
	IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
	INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
	BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
	NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
	EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
d3.sankey=function(){function t(){m.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),v.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=m[t.source]),"number"==typeof n&&(n=t.target=m[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function e(){}function n(){var t,e,n,s,a=m,r=0;for(n=Math.max(d3.sum(v,c),1),s=Math.max(d3.sum(m,c),1);a.length;)t=[],a.forEach(function(e){var i,o;e.x=r,o=d3.max(e.sourceLinks,c),i=d3.max(e.targetLinks,c),i=isNaN(i)?0:i,o=isNaN(o)?0:o,e.dx=Math.max(u+(p-u)*e.value/s,u+(p-u)*Math.max(i,o)/n),e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),a=t,++r;i(r),m.forEach(function(t){t.targetLinks.length||(t.x=0)}),e=d3.max(m,function(t){return t.dx}),o((h[0]-e)/(r-1))}function i(t){m.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}function o(t){m.forEach(function(e){e.x*=t})}function s(t){function e(){var t=d3.min(a,function(t){return(h[1]-(t.length-1)*f)/d3.sum(t,function(t){return t.dx})});a.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.dx*t})});var e=d3.sum(v,c);v.forEach(function(t){t.dy=p*t.value/e})}function n(t){function e(t){return l(t.source)*t.value}a.forEach(function(n,i){n.forEach(function(n){if(n.targetLinks.length){var i=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,c);n.y+=(i-l(n))*t}})})}function i(t){function e(t){return l(t.target)*t.value}a.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var i=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,c);n.y+=(i-l(n))*t}})})}function o(){a.forEach(function(t){var e,n,i,o=0,a=t.length;for(t.sort(s),i=0;a>i;++i)e=t[i],n=o-e.y,n>0&&(e.y+=n),o=e.y+e.dy+f;if(n=o-f-h[1],n>0)for(o=e.y-=n,i=a-2;i>=0;--i)e=t[i],n=e.y+e.dy+f-o,n>0&&(e.y-=n),o=e.y})}function s(t,e){return t.y-e.y}var a=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(m).map(function(t){return t.values});e(),o();for(var r=1;t>0;--t)i(r*=.99),o(),n(r),o()}function a(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}m.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),m.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function r(){var t,e=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(m).map(function(t){return t.values});e.forEach(function(e){t=d3.max(e,function(t){return t.dx}),e.forEach(function(e,n){e.x+=(t-e.dx)/2})})}function l(t){return t.y+t.dy/2}function c(t){return t.value}var d={},u=16,p=80,f=8,h=[1,1],m=[],v=[];return d.minNodeWidth=function(t){return arguments.length?(u=t,d):u},d.maxNodeWidth=function(t){return arguments.length?(p=t,d):p},d.nodePadding=function(t){return arguments.length?(f=+t,d):f},d.nodes=function(t){return arguments.length?(m=t,d):m},d.links=function(t){return arguments.length?(v=t,d):v},d.size=function(t){return arguments.length?(h=t,d):h},d.layout=function(i){return t(),e(),n(),s(i),a(),r(),d},d.relayout=function(){return a(),d},d.link=function(){function t(t){var n=t.source.x+t.source.dx/2,i=t.target.x+t.target.dx/2,o=d3.interpolateNumber(n,i),s=o(e),a=o(1-e),r=t.source.y+t.source.dx/2,l=t.target.y+t.target.dx/2;return"M"+n+","+r+"C"+s+","+r+" "+a+","+l+" "+i+","+l}var e=.5;return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},d}},function(t,e,n){var i,o=n(7),s=n(8),a=n(9),r=n(10),l=n(11),c=n(11),d=n(12),u=n(13),p=n(14),f=n(15),h=n(16),m=n(17),v=n(18),g=n(19),b=n(20),y=n(21),$=n(22),S=n(23),C=n(24),T=n(25),E=n(26),A=n(27),w=n(29),I=n(30),x=n(31),N=n(32),R=n(33),O=n(34),M=n(35),D=n(36),k=n(37),P=n(38),_=n(39),L=n(40),U=n(41),G=n(42),F=n(43),j=n(44),V=n(45),B=n(46),W=n(47),H=n(48),q=n(49),z=n(50),Y=n(51),K=n(52),J=n(53),Q=n(54),X=n(55),Z=n(56),tt=n(57);!function(t){"use strict";angular.module("minemeldWebui",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","ui.ace","toastr","angular-loading-bar","datatables","datatables.bootstrap","easypiechart","nvd3","mmSankey","ui.select","angularFileUpload","oc.lazyLoad"]).constant("moment",moment).config(o.config).config(s.routerConfig).controller("DashboardController",r.DashboardController).controller("SystemController",l.SystemController).controller("SystemDashboardController",c.SystemDashboardController).controller("SystemExtensionsController",d.SystemExtensionsController).controller("NodesController",u.NodesController).controller("NodeDetailController",p.NodeDetailController).controller("NodeDetailStatsController",f.NodeDetailStatsController).controller("NodeDetailInfoController",h.NodeDetailInfoController).controller("NodeDetailGraphController",m.NodeDetailGraphController).controller("LoginController",N.LoginController).controller("PrototypesController",v.PrototypesController).controller("PrototypedetailController",g.PrototypedetailController).controller("PrototypeAddController",b.PrototypeAddController).controller("ConfigController",y.ConfigController).controller("ConfigureImportController",$.ConfigureImportController).controller("ConfigureExportController",S.ConfigureExportController).controller("ConfigAddController",C.ConfigAddController).controller("IndicatorAddController",I.IndicatorAddController).controller("AboutController",T.AboutController).controller("LogsController",x.LogsController).controller("AdminController",E.AdminController).controller("AdminUsersController",A.AdminUsersController).controller("AdminFUsersController",w.AdminFUsersController).directive("minemeldOptions",Q.minemeldOptions).directive("nodeConfig",X.nodeConfig).directive("appNavbar",J.appNavbar).directive("prototypeTooltip",Z.prototypeTooltip).directive("suggestion",tt.suggestion).service("MineMeldAPIService",R.MineMeldAPIService).service("MinemeldStatusService",O.MinemeldStatusService).service("MinemeldMetricsService",M.MinemeldMetricsService).service("NodeDetailResolver",_.NodeDetailResolver).service("MinemeldPrototypeService",D.MinemeldPrototypeService).service("MinemeldConfigService",k.MinemeldConfigService).service("ConfirmService",G.ConfirmService).service("MinemeldSupervisorService",L.MinemeldSupervisorService).service("MinemeldValidateService",P.MinemeldValidateService).service("MinemeldEventsService",F.MinemeldEventsService).service("MinemeldTracedService",j.MinemeldTracedService).service("MinemeldAAAService",B.MinemeldAAAService).service("ThrottleService",V.ThrottleService).service("MineMeldEngineStatusService",W.MineMeldEngineStatusService).service("MineMeldRunningConfigStatusService",H.MineMeldRunningConfigStatusService).service("MineMeldExtensionsService",U.MineMeldExtensionsService).service("MineMeldJobsService",q.MineMeldJobsService).service("MineMeldCurrentUserService",z.MineMeldCurrentUserService).service("MineMeldWebUIExtensionsLoaderService",Y.MineMeldWebUIExtensionsLoaderService).filter("megaNumber",K.megaNumber).run(a.minemeldInit)}(i||(i={}))},function(t,e){function n(t,e,n,i,o){e.debugInfoEnabled(!1),t.debugEnabled(!0),n.config({debug:!0}),i.allowHtml=!1,i.timeOut=3e3,i.positionClass="toast-top-right",i.preventDuplicates=!1,i.progressBar=!0,o.includeSpinner=!1}n.$inject=["$logProvider","$compileProvider","$ocLazyLoadProvider","toastrConfig","cfpLoadingBarProvider"],e.config=n},function(t,e){function n(t,e){t.state("login",{url:"/login",templateUrl:"app/login/view.html",controller:"LoginController",controllerAs:"login"}).state("about",{url:"/about",templateUrl:"app/about/view.html",controller:"AboutController",controllerAs:"vm"}).state("system",{url:"/system",templateUrl:"app/system/view.html",controller:"SystemController",controllerAs:"vm","abstract":!0}).state("system.dashboard",{url:"/dashboard",templateUrl:"app/system/dashboard.view.html",controller:"SystemDashboardController",controllerAs:"vm"}).state("system.extensions",{url:"/extensions",templateUrl:"app/system/extensions.view.html",controller:"SystemExtensionsController",controllerAs:"vm"}).state("dashboard",{url:"/dashboard",templateUrl:"app/dashboard/view.html",controller:"DashboardController",controllerAs:"dashboard"}).state("nodes",{url:"/nodes",templateUrl:"app/nodes/view.html",controller:"NodesController",controllerAs:"nodes"}).state("nodedetail",{url:"/nodes/:nodename",templateUrl:"app/nodedetail/view.html",controller:"NodeDetailController",controllerAs:"nodedetail"}).state("nodedetail.stats",{templateUrl:"app/nodedetail/view.stats.html",controller:"NodeDetailStatsController",controllerAs:"nodedetailstats"}).state("nodedetail.info",{templateUrl:"app/nodedetail/view.info.html",controller:"NodeDetailInfoController",controllerAs:"nodedetailinfo"}).state("nodedetail.graph",{templateUrl:"app/nodedetail/view.graph.html",controller:"NodeDetailGraphController",controllerAs:"vm"}).state("prototypes",{url:"/prototypes",templateUrl:"app/prototypes/view.html",controller:"PrototypesController",controllerAs:"vm"}).state("prototypedetail",{url:"/prototypes/:libraryName/:prototypeName",templateUrl:"app/prototypedetail/view.html",controller:"PrototypedetailController",controllerAs:"vm"}).state("prototypeadd",{url:"/prototypeadd",templateUrl:"app/prototypeadd/view.html",controller:"PrototypeAddController",controllerAs:"vm",params:{prototype:{value:"none"}}}).state("config",{url:"/config",templateUrl:"app/config/view.html",controller:"ConfigController",controllerAs:"vm"}).state("configadd",{url:"/config/add",templateUrl:"app/config/configadd.view.html",controller:"ConfigAddController",controllerAs:"vm",params:{prototype:{value:"none"}}}).state("indicatoradd",{url:"/indicator/add?indicator&indicatorType",templateUrl:"app/indicatoradd/view.html",controller:"IndicatorAddController",controllerAs:"vm"}).state("logs",{url:"/logs?q",templateUrl:"app/logs/view.html",controller:"LogsController",controllerAs:"vm"}).state("admin",{"abstract":!0,url:"/admin",templateUrl:"app/admin/view.html",controller:"AdminController",controllerAs:"vm"}).state("admin.users",{url:"/users",templateUrl:"app/admin/view.users.html",controller:"AdminUsersController",controllerAs:"vm"}).state("admin.fusers",{url:"/fusers",templateUrl:"app/admin/view.fusers.html",controller:"AdminFUsersController",controllerAs:"vm"}),e.otherwise("/login")}n.$inject=["$stateProvider","$urlRouterProvider"],e.routerConfig=n},function(t,e){function n(t,e,n,i,o,s){document.getElementById("loader").style.display="none",e.mmBack=function(n){return e.mmPreviousState&&!e.mmPreviousState.state["abstract"]?void t.go(e.mmPreviousState.state,e.mmPreviousState.params):void t.go(n)},e.$on("$stateChangeStart",function(e,n,o){"login"===n.name||i.isLoggedIn()||(e.preventDefault(),t.go("login"))}),e.$on("$stateChangeSuccess",function(t,n,o,s,a){e.mmPreviousState={state:s,params:a},i.cancelAPICalls()})}n.$inject=["$state","$rootScope","$cookies","MineMeldAPIService","MinemeldStatusService","MineMeldWebUIExtensionsLoaderService"],e.minemeldInit=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c){var d=this;this.indicatorsOptions={chart:{type:"lineChart",margin:{top:0,right:0,bottom:5,left:0},height:128,x:function(t){return t.x},y:function(t){return t.y},useInteractiveGuideline:!0,transition:0,showXAxis:!1,interactiveLayer:{tooltip:{headerFormatter:function(t){return this.moment.unix(t).fromNow().toUpperCase()},valueFormatter:function(t){return Math.ceil(t)}}},showYAxis:!1,forceY:[0,1],yAxis:{tickFormat:function(t,e){return Math.ceil(t)}},showLegend:!1,color:["#91B7C7"],interpolate:"monotone"}},this.arOptions={chart:{type:"lineChart",margin:{top:0,right:0,bottom:5,left:0},height:128,x:function(t){return t.x},y:function(t){return t.y},getSize:function(t){return.1},useInteractiveGuideline:!0,showXAxis:!1,interactiveLayer:{tooltip:{headerFormatter:function(t){return this.moment.unix(t).fromNow().toUpperCase()}}},showYAxis:!1,yAxis:{tickFormat:function(t,e){return Math.ceil(t)}},forceY:[0,1],showLegend:!1,interpolate:"monotone"}},this.numIndicators=0,this.numMiners=0,this.numProcessors=0,this.numOutputs=0,this.minersStats={length:0,added:0,removed:0},this.outputsStats={length:0,added:0,removed:0},this.metricsUpdateInterval=3e5,this.chartRange="24h",this.chartDT=86400,this.chartDR=1800,this.toastr=t,this.mmstatus=n,this.mmmetrics=i,this.MineMeldRunningConfigStatusService=o,this.$interval=e,this.moment=s,this.$scope=a,this.$rootScope=l,this.updateMinemeldStats(),this.mmStatusListener=this.$rootScope.$on("mm-status-changed",function(){c(d.updateMinemeldStats.bind(d))}),this.runningConfigListener=this.$rootScope.$on("mm-running-config-changed",function(){c(d.updateMinemeldStats.bind(d))}),this.updateNTMinersMetrics(),this.updateNTOutputsMetrics(),this.updateMinemeldMetrics(),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","MinemeldMetricsService","MineMeldRunningConfigStatusService","moment","$scope","$state","$rootScope","$timeout"],t.prototype.updateRunningConfigStatus=function(){var t=this;this.MineMeldRunningConfigStatusService.getStatus().then(function(e){t.numMiners=0,t.numOutputs=0,t.numProcessors=0,angular.forEach(e.nodes,function(e){return console.log(e.resolvedPrototype.node_type),e.resolvedPrototype.node_type?"processor"===e.resolvedPrototype.node_type?void t.numProcessors++:"miner"===e.resolvedPrototype.node_type?void t.numMiners++:"output"===e.resolvedPrototype.node_type?void t.numOutputs++:void 0:void 0})})},t.prototype.updateMinemeldStats=function(){var t,e,n=this;this.numMiners=0,this.numOutputs=0,this.numProcessors=0,this.numIndicators=0,this.minersStats.length=0,this.minersStats.added=0,this.minersStats.removed=0,this.minersStats.aged_out=0,this.outputsStats.length=0,this.outputsStats.added=0,this.outputsStats.removed=0,this.MineMeldRunningConfigStatusService.getStatus().then(function(i){n.mmstatus.getStatus().then(function(o){Object.keys(o).forEach(function(s){t=o[s],s in i.nodes&&i.nodes[s].resolvedPrototype.node_type&&(e=i.nodes[s].resolvedPrototype.node_type,"miner"===e?(n.numMiners++,t.length&&(n.minersStats.length+=t.length),t.statistics&&t.statistics.added&&(n.minersStats.added+=t.statistics.added),t.statistics&&t.statistics.removed&&(n.minersStats.removed+=t.statistics.removed),t.statistics&&t.statistics.aged_out&&(n.minersStats.aged_out+=t.statistics.aged_out)):"output"===e?(n.numOutputs++,t.length&&(n.outputsStats.length+=t.length),t.statistics&&t.statistics.added&&(n.outputsStats.added+=t.statistics.added),t.statistics&&t.statistics.removed&&(n.outputsStats.removed+=t.statistics.removed)):"processor"===e&&n.numProcessors++,t.length&&(n.numIndicators+=t.length))})})})},t.prototype.chartRangeChanged=function(){"1h"===this.chartRange?(this.chartDT=3600,this.chartDR=1):"7d"===this.chartRange?(this.chartDT=604800,this.chartDR=21600):"30d"===this.chartRange?(this.chartDT=2592e3,this.chartDR=43200):(this.chartDT=86400,this.chartDR=1800),this.ntminersUpdatePromise&&(this.$interval.cancel(this.ntminersUpdatePromise),this.updateNTMinersMetrics()),this.ntoutputsUpdatePromise&&(this.$interval.cancel(this.ntoutputsUpdatePromise),this.updateNTOutputsMetrics()),this.minemeldMetricsUpdatePromise&&(this.$interval.cancel(this.minemeldMetricsUpdatePromise),this.updateMinemeldMetrics())},t.prototype.destroy=function(){this.mmStatusListener&&this.mmStatusListener(),this.runningConfigListener&&this.runningConfigListener(),this.minemeldMetricsUpdatePromise&&this.$interval.cancel(this.minemeldMetricsUpdatePromise),this.ntminersUpdatePromise&&this.$interval.cancel(this.ntminersUpdatePromise),this.ntoutputsUpdatePromise&&this.$interval.cancel(this.ntoutputsUpdatePromise)},t.prototype.updateNTMinersMetrics=function(){var t=this;t.mmmetrics.getNodeType("miners",{dt:t.chartDT,r:t.chartDR}).then(function(e){var n,i,o,s={};for(s.length=new Array({values:[]}),s.ar=[{values:[]},{values:[]}],n=0;n<e.length;n++)o=e[n].metric,"length"===o?(s.length[0].area=!0,s.length[0].color="#91B7C7",s.length[0].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.length[0].values.length>0&&(i=s.length[0],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1)))):"added"===o?(s.ar[0].key="ADDED",s.ar[0].area=!0,s.ar[0].color="#586994",s.ar[0].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.ar[0].values.length>0&&(i=s.ar[0],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1)))):"aged_out"===o&&(s.ar[1].key="AGED_OUT",s.ar[1].area=!0,s.ar[1].color="#977390",s.ar[1].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.ar[1].values.length>0&&(i=s.ar[1],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1))));t.minersMetrics=s,t.minersMetricsLengthAPI&&t.minersMetricsLengthAPI.updateWithData(s.length),t.minersMetricsArAPI&&t.minersMetricsArAPI.updateWithData(s.ar)},function(e){throw e.cancelled||t.toastr.error("ERROR RETRIEVING MINERS METRICS: "+e.statusText),e})["finally"](function(){t.ntminersUpdatePromise=t.$interval(t.updateNTMinersMetrics.bind(t),t.metricsUpdateInterval,1)})},t.prototype.updateNTOutputsMetrics=function(){var t=this;t.mmmetrics.getNodeType("outputs",{dt:t.chartDT,r:t.chartDR}).then(function(e){var n,i,o,s={};for(s.length=new Array({}),s.ar=[{},{}],n=0;n<e.length;n++)o=e[n].metric,"length"===o?(s.length[0].area=!0,s.length[0].color="#91B7C7",s.length[0].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.length[0].values.length>0&&(i=s.length[0],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1)))):"added"===o?(s.ar[0].key="ADDED",s.ar[0].area=!0,s.ar[0].color="#586994",s.ar[0].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.ar[0].values.length>0&&(i=s.ar[0],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1)))):"removed"===o&&(s.ar[1].key="REMOVED",s.ar[1].area=!0,s.ar[1].color="#977390",s.ar[1].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.ar[1].values.length>0&&(i=s.ar[1],null==i.values[i.values.length-1].y&&(i.values=i.values.slice(0,-1))));t.outputsMetrics=s,t.outputsMetricsLengthAPI&&t.outputsMetricsLengthAPI.updateWithData(s.length),t.outputsMetricsArAPI&&t.outputsMetricsArAPI.updateWithData(s.ar)},function(e){throw e.cancelled||t.toastr.error("ERROR RETRIEVING OUTPUTS METRICS: "+e.statusText),e})["finally"](function(){t.ntoutputsUpdatePromise=t.$interval(t.updateNTOutputsMetrics.bind(t),t.metricsUpdateInterval,1)})},t.prototype.updateMinemeldMetrics=function(){var t=this;t.mmmetrics.getMinemeld({dt:t.chartDT,r:t.chartDR}).then(function(e){var n,i,o,s={};for(s.length=new Array({}),n=0;n<e.length;n++)i=e[n].metric,"length"===i&&(s.length[0].area=!0,s.length[0].color="#91B7C7",s.length[0].values=e[n].values.map(function(t){return{x:t[0],y:t[1]}}),s.length[0].values.length>0&&(o=s.length[0],null==o.values[o.values.length-1].y&&(o.values=o.values.slice(0,-1))));t.minemeldMetrics=s,t.minemeldMetricsLengthAPI&&t.minemeldMetricsLengthAPI.updateWithData(t.minemeldMetrics.length)},function(e){throw e.cancelled||t.toastr.error("ERROR RETRIEVING MINEMELD METRICS: "+e.statusText),e})["finally"](function(){t.minemeldMetricsUpdatePromise=t.$interval(t.updateMinemeldMetrics.bind(t),t.metricsUpdateInterval,1)})},t}();e.DashboardController=n},function(t,e){var n=function(){function t(t){this.tabs=[!0,!1],this.$state=t}return t.$inject=["$state"],t}();e.SystemController=n;var i=function(){function t(t,e,n,i,o,s,a,r,l,c,d,u,p,f,h){this.epOptions={barColor:"#977390"},this.systemUpdateInterval=3e4,this.supervisorUpdateInterval=3e4,this.purgingTraces=!1,this.workingBackup=!1,this.toastr=t,this.mmstatus=n,this.MinemeldSupervisorService=f,this.MinemeldTracedService=o,this.MineMeldJobsService=s,this.MinemeldPrototypeService=a,this.MinemeldConfigService=r,this.ConfirmService=d,this.$interval=e,this.$scope=i,this.moment=p,this.$modal=c,this.$state=h,this.$window=l,this.$scope.$parent.vm.tabs=[!0,!1],this.updateSystem(),this.periodicUpdateSupervisor(),this.engineStatusSubscription=u.$on("mm-engine-status-changed",this.updateSupervisor.bind(this)),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","$scope","MinemeldTracedService","MineMeldJobsService","MinemeldPrototypeService","MinemeldConfigService","$window","$modal","ConfirmService","$rootScope","moment","MinemeldSupervisorService","$state"],t.prototype.engineRestart=function(){var t=this;this.ConfirmService.show("RESTART ENGINE","Are you sure you want to restart the MineMeld engine ?").then(function(e){t.MinemeldSupervisorService.restartEngine().then(function(e){t.toastr.success("ENGINE RESTART INITIATED")},function(e){var n;n=e.statusText,400==e.status&&(n=e.data.error.message),t.toastr.error("ERROR INITIATING ENGINE RESTART: "+n)})})},t.prototype.apiRestart=function(){var t=this;this.ConfirmService.show("RESTART API SERVICE","Are you sure you want to restart the MineMeld API service ?").then(function(e){t.MinemeldSupervisorService.hupAPI().then(function(e){t.toastr.success("API SERVICE RESTART INITIATED")},function(e){var n;n=e.statusText,400==e.status&&(n=e.data.error.message),t.toastr.error("ERROR INITIATING API RESTART: "+n)})})},t.prototype.purgeTraces=function(){var t=this;this.ConfirmService.show("PURGE LOGS","Are you sure you want to erase all logs ?").then(function(e){return t.purgingTraces=!0,t.MinemeldTracedService.purgeAll().then(function(e){t.toastr.success("LOGS REMOVAL SCHEDULED"),t.MineMeldJobsService.monitor("traced-purge",e)["finally"](function(){t.purgingTraces=!1})},function(e){var n;t.purgingTraces=!1,n=e.statusText,400==e.status&&(n=e.data.error.message),t.toastr.error("ERROR SCHEDULING LOGS REMOVAL: "+n)})})},t.prototype.generateLocalBackup=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/system/backup.sp.modal.html",controller:o,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.workingBackup=!0,e.mmstatus.generateLocalBackup(t.password).then(function(t){e.toastr.success("BACKUP SCHEDULED"),e.MineMeldJobsService.monitor("status-backup",t).then(function(n){"ERROR"!==n.status&&e.$modal.open({templateUrl:"app/system/backup.download.modal.html",controller:s,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{jobid:function(){return t}}})})["finally"](function(){e.workingBackup=!1})},function(t){var n;e.workingBackup=!1,n=t.statusText,400==t.status&&(n=t.data.error.message),e.toastr.error("ERROR SCHEDULING BACKUP: "+n)})})},t.prototype.restoreLocalBackup=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/system/restorebackup.modal.html",controller:a,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.workingBackup=!0,e.toastr.success("RESTORE SCHEDULED"),e.MineMeldJobsService.monitor("restore-backup",t).then(function(t){"ERROR"!==t.status&&(e.toastr.success("LOADING COMMITTED CONFIG INTO CANDIDATE AND REFRESHING THE BROWSER TO UPDATE THE PROTOTYPE LIBRARY"),e.MinemeldPrototypeService.invalidateCache(),e.MinemeldConfigService.reload("committed").then(function(){e.$window.location.reload()}))})["finally"](function(){e.workingBackup=!1})})},t.prototype.destroy=function(){this.engineStatusSubscription&&this.engineStatusSubscription(),this.systemUpdatePromise&&this.$interval.cancel(this.systemUpdatePromise),this.supervisorUpdatePromise&&this.$interval.cancel(this.supervisorUpdatePromise)},t.prototype.updateSystem=function(){var t=this;t.mmstatus.getSystem().then(function(e){t.system=e},function(e){e.cancelled||t.toastr.error("ERROR RETRIEVING SYSTEM STATUS: "+e.statusText)})["finally"](function(){t.systemUpdatePromise=t.$interval(t.updateSystem.bind(t),t.systemUpdateInterval,1)})},t.prototype.periodicUpdateSupervisor=function(){var t=this;t.updateSupervisor()["finally"](function(){t.supervisorUpdatePromise=t.$interval(t.periodicUpdateSupervisor.bind(t),t.supervisorUpdateInterval,1)})},t.prototype.updateSupervisor=function(){var t=this;return t.MinemeldSupervisorService.getStatus().then(function(e){var n;t.supervisor=e;for(n in t.supervisor.processes)t.supervisor.processes[n].start&&(t.supervisor.processes[n].start=t.moment.unix(t.supervisor.processes[n].start).fromNow().toUpperCase())},function(e){e.cancelled||t.toastr.error("ERROR RETRIEVING SUPERVISOR STATUS: "+e.statusText)})},t}();e.SystemDashboardController=i;var o=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.password!==this.password2?(angular.element("#fgPassword1").addClass("has-error"),angular.element("#fgPassword2").addClass("has-error"),!1):(angular.element("#fgPassword1").removeClass("has-error"),angular.element("#fgPassword2").removeClass("has-error"),this.password?!0:!1)},t.prototype.save=function(){var t={};t.password=this.password,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),s=function(){function t(t,e){this.$modalInstance=t,this.backup_id=e}return t.$inject=["$modalInstance","jobid"],t.prototype.ok=function(){this.$modalInstance.close("ok")},t}(),a=function(){function t(t,e,n,i){var o=this;this.feedsAAAAvailable=!1,this.feedsAAA=!0,this.localPrototypesAvailable=!1,this.localPrototypes=!0,this.configurationAvailable=!1,this.configuration=!0,this.localCertificatesAvailable=!1,this.localCertificates=!1,this.state="INIT",this.contentSelected=!0,this.$modalInstance=t,this.MinemeldStatusService=e,this.toastr=i,this.uploader=new n({url:"/status/backup/import",queueLimit:1,removeAfterUpload:!0}),this.uploader.onErrorItem=function(t,e,n){400===n?i.error("ERROR UPLOADING: "+e.error.message):i.error("ERROR UPLOADING: "+n),o.state="ERROR",o.cancel()},this.uploader.onSuccessItem=function(t,e){o.state="UPLOADED",o.backup_id=e.result.id,o.feedsAAAAvailable=e.result.feedsAAA,o.configurationAvailable=e.result.configuration,o.localPrototypesAvailable=e.result.localPrototypes,o.localCertificatesAvailable=e.result.localCertificates,o.updateContentSelected()}}return t.$inject=["$modalInstance","MinemeldStatusService","FileUploader","toastr"],t.prototype.restore1st=function(){this.state="RESTORE"},t.prototype.restore2nd=function(){var t=this;this.MinemeldStatusService.restoreLocalBackup(this.backup_id,this.password,this.configurationAvailable&&this.configuration,this.feedsAAAAvailable&&this.feedsAAA,this.localPrototypesAvailable&&this.localPrototypes,this.localCertificatesAvailable&&this.localCertificates).then(function(e){t.$modalInstance.close(e)},function(e){e.cancelled||t.toastr.error("ERROR SCHEDULING RESTORE: "+e.statusText),t.cancel()})},t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t.prototype.toggleConfiguration=function(){this.configuration=!this.configuration,this.updateContentSelected()},t.prototype.toggleFeedsAAA=function(){this.feedsAAA=!this.feedsAAA,this.updateContentSelected()},t.prototype.toggleLocalPrototypes=function(){this.localPrototypes=!this.localPrototypes,this.updateContentSelected()},t.prototype.toggleLocalCertificates=function(){this.localCertificates=!this.localCertificates,this.updateContentSelected()},t.prototype.updateContentSelected=function(){this.contentSelected=!1,this.contentSelected=this.contentSelected||this.configurationAvailable&&this.configuration,this.contentSelected=this.contentSelected||this.feedsAAAAvailable&&this.feedsAAA,this.contentSelected=this.contentSelected||this.localPrototypesAvailable&&this.localPrototypes,this.contentSelected=this.contentSelected||this.localCertificatesAvailable&&this.localCertificates},t}()},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c,d,u){this.dtExtensions={},this.MineMeldExtensionsService=e,this.MinemeldPrototypeService=n,this.ConfirmService=i,this.toastr=t,this.$scope=s,this.DTColumnBuilder=r,this.DTOptionsBuilder=a,this.MineMeldJobsService=u,this.$compile=l,this.$state=c,this.$modal=d,this.$scope.$parent.vm.tabs=[!1,!0],this.setupExtensionsTable()}return t.$inject=["toastr","MineMeldExtensionsService","MinemeldPrototypeService","ConfirmService","moment","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$state","$modal","MineMeldJobsService"],t.prototype.reload=function(){this.dtExtensions.reloadData()},t.prototype.activate=function(t){var e,n=this;e=this.extensions[t],this.ConfirmService.show("ACTIVATE EXTENSION","Are you sure you want to activate extension "+e.name+" v"+e.version+" ?").then(function(t){n.MineMeldExtensionsService.activate(e.name,e.version,e.path).then(function(t){return n.toastr.success("ACTIVATION OF "+e.name+" SCHEDULED"),n.reload(),n.MineMeldJobsService.monitor("extensions",t)["finally"](function(){n.reload(),n.additionalActions(e)})},function(t){return 400===t.status?void n.toastr.error("ERROR SCHEDULING ACTIVATION OF "+e.name+": "+t.data.error.messsage):void n.toastr.error("ERROR SCHEDULING ACTIVATION OF "+e.name+": "+t.statusText)})})},t.prototype.deactivate=function(t){var e,n=this;e=this.extensions[t],this.ConfirmService.show("DEACTIVATE EXTENSION","Are you sure you want to deactivate extension "+e.name+" v"+e.version+" ?").then(function(t){n.MineMeldExtensionsService.deactivate(e.name,e.version,e.path).then(function(t){return n.toastr.success("DEACTIVATION OF "+e.name+" SCHEDULED"),n.reload(),n.MineMeldJobsService.monitor("extensions",t)["finally"](function(){n.reload(),n.additionalActions(e)})},function(t){return 400===t.status?void n.toastr.error("ERROR SCHEDULING DEACTIVATION OF "+e.name+": "+t.data.error.messsage):void n.toastr.error("ERROR SCHEDULING DEACTIVATION OF "+e.name+": "+t.statusText)})})},t.prototype.uninstall=function(t){var e,n=this;e=this.extensions[t],this.ConfirmService.show("UNINSTALL EXTENSION","Are you sure you want to uninstall extension "+e.name+" v"+e.version+" ?").then(function(t){n.MineMeldExtensionsService.uninstall(e.name,e.version,e.path).then(function(t){n.toastr.success("UNINSTALL OF "+e.name+" v"+e.version+" SUCCESSFULL"),n.reload()},function(t){n.toastr.error("ERROR IN UNINSTALLING "+e.name+" v"+e.version+": "+t.statusText),n.reload()})})},t.prototype.installExtension=function(){var t,e=this;this.ConfirmService.show("UNTRUSTED SOURCES","Installing extensions from untrusted sources could harm the security of your network and compromise your data. Are you sure you want to continue ?").then(function(n){t=e.$modal.open({templateUrl:"app/system/uploadextension.modal.html",controller:i,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result["finally"](function(){e.reload()})})},t.prototype.installExtensionFromGit=function(){var t,e=this;this.ConfirmService.show("UNTRUSTED SOURCES","Installing extensions from untrusted sources could harm the security of your network and compromise your data. Are you sure you want to continue ?").then(function(n){t=e.$modal.open({templateUrl:"app/system/installextensionfromgit.modal.html",controller:o,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result["finally"](function(){e.reload()})})},t.prototype.additionalActions=function(t){-1!==t.tags.indexOf("api")&&this.toastr.success('<a href="/#/system/dashboard">RELOAD</a> API SUBSYSTEM TO APPLY API CHANGES',{allowHtml:!0}),-1!==t.tags.indexOf("prototypes")&&(this.toastr.success("REFRESHING THE BROWSER TO UPDATE THE PROTOTYPE LIBRARY"),this.MinemeldPrototypeService.invalidateCache(),this.$state.go(this.$state.$current,{reload:!0}))},t.prototype.setupExtensionsTable=function(){var t=this,e=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MineMeldExtensionsService.list().then(function(e){return t.extensions=e.map(function(t){var e=angular.copy(t);return e.tags=[],t.path?(-1!==t.path.indexOf(".whl")?e.tags.push("wheel"):e.tags.push("git"),t.entry_points&&angular.forEach(t.entry_points,function(t,n){var i;i=n.split("_",2),"minemeld"===i[0]&&e.tags.push(he.encode(i[1],{strict:!0}))}),e):e}),t.extensions},function(e){if(!e.cancelled)throw t.toastr.error("ERROR RETRIEVING EXTENSIONS LIST: "+e.statusText),e;return t.extensions=[],[]})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("lengthMenu",[[50,-1],[50,"All"]]).withOption("createdRow",function(t,n,i){
var o,s;t.className+=" config-table-row",n.activated||angular.forEach(Array.prototype.slice.call(t.children),function(t){t.className+=" extensions-disabled"}),o=t.children.length,0!==t.children[o-2].childNodes.length&&(s=t.children[o-2],s.className+=" config-table-clickable",s.style.textAlign="center",s.style.verticalAlign="middle",s.setAttribute("tooltip-popup-delay","500"),s.setAttribute("tooltip-append-to-body","true"),s.setAttribute("tooltip","uninstall"),s.setAttribute("ng-click","vm.uninstall("+i+")")),0!==t.children[o-1].childNodes.length&&(s=t.children[o-1],s.className+=" config-table-clickable",s.style.textAlign="center",s.style.verticalAlign="middle",s.setAttribute("tooltip-popup-delay","500"),s.setAttribute("tooltip-append-to-body","true"),-1!==s.innerHTML.indexOf("unchecked")?(s.setAttribute("tooltip","deactivate"),s.setAttribute("ng-click","vm.deactivate("+i+")")):(s.setAttribute("tooltip","activate"),s.setAttribute("ng-click","vm.activate("+i+")"))),e.$compile(angular.element(t).contents())(e.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("name").withTitle("NAME").renderWith(function(t,e,n){var i,o,s="no email provided";return o=he.encode(t,{strict:!0}),i='<div class="extensions-name">',i+=o,i+="</div>",n.author_email&&(s=he.encode(n.author_email,{strict:!0})),n.author&&(i+='<div tooltip="'+he.encode(n.author_email,{strict:!0})+'" class="extensions-author">'+he.encode(n.author.toUpperCase(),{strict:!0}),i+="</div>"),i}).withOption("width","20%"),this.DTColumnBuilder.newColumn("version").withTitle("VERSION").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}).withOption("width","10%"),this.DTColumnBuilder.newColumn("description").withTitle("DESCRIPTION").notSortable().renderWith(function(t,e,n){var i;return t?(i='<div class="m-b-xs">'+he.encode(t,{strict:!0})+"</div>",-1!==n.tags.indexOf("git")&&(i+='<div class="prototypes-author m-t-xs">PATH</div>',i+='<div class="m-b-xs">'+he.encode(n.path,{strict:!0})+"</div>"),n.tags.length>0&&(i+='<div class="prototypes-author m-t-xs">TAGS</div>',i+='<div class="label-container">',angular.forEach(n.tags,function(t){i+='<span class="label tag-prototype">'+he.encode(t)+"</span> "}),i+="</div>"),i):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return n.running_job?"":n.activated?"":n.activated?void 0:'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px"),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return n.running_job?'<div class="extensions-running-job-icon"></div>':n.installed?n.activated?'<span class="config-table-icon glyphicon glyphicon-unchecked"></span>':'<span class="config-table-icon glyphicon glyphicon-check"></span>':""}).withOption("width","30px")]},t}();e.SystemExtensionsController=n;var i=function(){function t(t,e,n){var i=this;this.added=!1,this.$modalInstance=t,this.uploader=new e({url:"/extensions",queueLimit:1,removeAfterUpload:!0,filters:[{name:"wheelName",fn:function(t){var e;return e=t.name.indexOf(".whl")==t.name.length-4,e?!0:(n.error("File should be a python wheel"),!1)}}]}),this.uploader.onErrorItem=function(t,e,i){return 400===i?void n.error("ERROR UPLOADING: "+e.error.message):void n.error("ERROR UPLOADING: "+i)},this.uploader.onSuccessItem=function(t){n.success("EXTENSION SUCCESSFULLY UPLOADED"),i.$modalInstance.close("ok")}}return t.$inject=["$modalInstance","FileUploader","toastr"],t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t}();e.UploadExtensionController=i;var o=function(){function t(t,e,n,i,o){this.retrieving=!1,this.invalidUrl=!0,this.progressMax=80,this.MineMeldExtensionsService=e,this.MineMeldJobsService=n,this.$modalInstance=t,this.toastr=i,this.$interval=o}return t.$inject=["$modalInstance","MineMeldExtensionsService","MineMeldJobsService","toastr","$interval"],t.prototype.retrieveRefs=function(){var t=this;this.retrieving=!0,this.progressValue=0,this.progressPromise=this.$interval(function(){t.progressValue=t.progressValue+1},2e4/this.progressMax,this.progressMax),this.MineMeldExtensionsService.gitRefs(this.endpoint).then(function(e){t.availableReferences=e},function(e){return 400===e.status?void t.toastr.error("ERROR ACCESSING GIT REPO: "+e.data.error.message):void t.toastr.error("ERROR ACCESSING GIT REPO: "+e.statusText)})["finally"](function(){t.retrieving=!1,t.$interval.cancel(t.progressPromise)})},t.prototype.urlChanged=function(){this.availableReferences=void 0,this.ref=void 0},t.prototype.install=function(){var t=this;this.MineMeldExtensionsService.gitInstall(this.endpoint,this.ref).then(function(e){t.toastr.success("INSTALLATION SCHEDULED"),t.$modalInstance.close(t.MineMeldJobsService.monitor("extensions-git",e))},function(e){return 400==e.status?void t.toastr.error("ERROR SCHEDULING INSTALLATION: "+e.data.error.message):void t.toastr.error("ERROR SCHEDULING INSTALLATION: "+e.statusText)})},t.prototype.valid=function(){var t,e=!0;return angular.element("#fgEndpoint").removeClass("has-error"),this.invalidUrl=!1,this.endpoint?(t=document.createElement("a"),t.href=this.endpoint,t.protocol&&t.host&&t.pathname.indexOf(".git")===t.pathname.length-4||(e=!1,this.invalidUrl=!0,angular.element("#fgEndpoint").addClass("has-error"))):(e=!1,this.invalidUrl=!0),this.ref||(e=!1),e},t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t}();e.InstallExtensionGitController=o},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c,d,u,p,f,h){this.dtNodes={},this.toastr=t,this.mmstatus=n,this.MineMeldRunningConfigStatusService=i,this.MinemeldPrototypeService=o,this.MineMeldCurrentUserService=s,this.$interval=e,this.$scope=a,this.DTColumnBuilder=l,this.DTOptionsBuilder=r,this.$compile=c,this.$state=d,this.$q=u,this.setupNodesTable(),this.mmThrottledUpdate=h.throttle(this.updateNodesTable.bind(this),5e3),this.mmStatusListener=p.$on("mm-status-changed",this.mmThrottledUpdate),this.mmRunningConfigListener=p.$on("mm-running-config-changed",this.mmThrottledUpdate),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","MineMeldRunningConfigStatusService","MinemeldPrototypeService","MineMeldCurrentUserService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$state","$q","$rootScope","$timeout","ThrottleService"],t.prototype.go=function(t){this.$state.transitionTo("nodedetail",{nodename:t})},t.prototype.updateNodesTable=function(){var t,e=this;e.dtNodes&&e.dtNodes.reloadData&&(t=angular.element("#nodesTable > tbody").children().unbind(),e.dtNodes.reloadData(function(){t.remove(),t=null},!1))},t.prototype.setupNodesTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MineMeldRunningConfigStatusService.getStatus().then(function(e){return t.mmstatus.getStatus().then(function(t){var n=[];return angular.forEach(t,function(t){var i,o;return o=e.nodes[t.name],"undefined"==typeof o?(console.log("no proto "+t.name+" "+o),void n.push({status:t,nodeType:"loading"})):(i="unknown",o.resolvedPrototype&&o.resolvedPrototype.node_type&&(i=o.resolvedPrototype.node_type),void n.push({status:t,nodeType:i}))}),n})})}).withBootstrap().withPaginationType("simple_numbers").withOption("order",[[2,"asc"],[1,"asc"]]).withOption("aaSorting",[]).withOption("stateSave",!0).withOption("aaSortingFixed",[]).withOption("bDeferRender",!0).withOption("redraw",!0).withOption("lengthMenu",[[50,-1],[50,"All"]]).withOption("pageLength",-1).withOption("createdRow",function(e,n){var i,o,s;e.className+=" nodes-table-row",i="miner"===n.nodeType?"nodes-dt-header-miner":"output"===n.nodeType?"nodes-dt-header-output":"processor"===n.nodeType?"nodes-dt-header-processor":"nodes-dt-header-default",o=e.childNodes[0],o.className+=" "+i;for(var s=0;s<e.childNodes.length;s++)o=e.childNodes[s],o.setAttribute("ng-click",'nodes.go("'+n.status.name+'")');t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn(null).withTitle("").renderWith(function(t,e,n){return""}).withOption("width","5px").notSortable(),this.DTColumnBuilder.newColumn(null).withClass("nodes-dt-name").withTitle("NAME").renderWith(function(t,e,n){var i=he.encode(n.status.name,{strict:!0});return n.status.sub_state&&"ERROR"===n.status.sub_state&&(i+=" <span",n.status.sub_state_message&&(i=i+' tooltip="'+he.encode(n.status.sub_state_message,{strict:!0})+'"'),i+='class="text-danger glyphicon glyphicon-exclamation-sign"></span>'),i}),this.DTColumnBuilder.newColumn(null).withTitle("TYPE").renderWith(function(t,e,n){var i,o;return"miner"===n.nodeType?(i="nodes-label-miner",o="MINER"):"output"===n.nodeType?(i="nodes-label-output",o="OUTPUT"):"processor"===n.nodeType?(i="nodes-label-processor",o="PROCESSOR"):"loading"===n.nodeType?(i="nodes-label-loading",o="UNKNOWN"):(i="nodes-label-default",o="UNKNOWN"),'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn(null).withTitle("STATE").renderWith(function(e,n,i){var o,s=t.mmstatus.NODE_STATES[i.status.state];return o="label-primary","STARTED"===s?o="label-success":"INIT"===s&&(o="label-warning"),'<span class="label '+o+'">'+s+"</span>"}),this.DTColumnBuilder.newColumn(null).withTitle("INDICATORS").renderWith(function(t,e,n){return"undefined"==typeof n.status.length||null===n.status.length?'<span class="label nodes-label-loading"></span>':""+n.status.length}),this.DTColumnBuilder.newColumn(null).withTitle("ADD/REM/AO").notSortable().renderWith(function(t,e,n){var i,o=["<ul>"];return t=n.status.statistics,i=0,t.added&&(i=t.added),o.push("<li>ADDED: "+i+"</li>"),i=0,t.aged_out?(i=t.aged_out,o.push("<li>AGED OUT: "+i+"</li>")):(t.removed&&(i=t.removed),o.push("<li>REMOVED: "+i+"</li>")),o.push("</ul>"),o.join("")}),this.DTColumnBuilder.newColumn(null).withTitle("UPDATES").notSortable().renderWith(function(t,e,n){var i,o=["<ul>"];return t=n.status.statistics,i=0,t["update.rx"]&&(i=t["update.rx"]),o.push("<li>RX: "+i+"</li>"),i=0,t["update.processed"]&&(i=t["update.processed"]),o.push("<li>PROCESSED: "+i+"</li>"),i=0,t["update.tx"]&&(i=t["update.tx"]),o.push("<li>TX: "+i+"</li>"),o.push("</ul>"),o.join("")}),this.DTColumnBuilder.newColumn(null).withTitle("WITHDRAWS").notSortable().renderWith(function(t,e,n){var i,o=["<ul>"];return t=n.status.statistics,i=0,t["withdraw.rx"]&&(i=t["withdraw.rx"]),o.push("<li>RX: "+i+"</li>"),i=0,t["withdraw.processed"]&&(i=t["withdraw.processed"]),o.push("<li>PROCESSED: "+i+"</li>"),i=0,t["withdraw.tx"]&&(i=t["withdraw.tx"]),o.push("<li>TX: "+i+"</li>"),o.push("</ul>"),o.join("")}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="nodes-table-chevron glyphicon glyphicon-chevron-right"></span>'}).withOption("width","30px")]},t.prototype.destroy=function(){this.mmStatusListener&&this.mmStatusListener(),this.mmRunningConfigListener&&this.mmRunningConfigListener(),this.mmThrottledUpdate&&this.mmThrottledUpdate.cancel()},t}();e.NodesController=n},function(t,e){var n=function(){function t(t,e,n,i,o){var s=this;this.nodename=t.nodename,this.$state=e,this.toastr=i,o.resolveNode(this.nodename).then(function(t){var n;s.tabs=angular.copy(t.tabs),n=s.tabs.filter(function(t){return t.state===e.current.name}),0===n.length?(s.tabs[0].active=!0,e.go(s.tabs[0].state,{nodename:s.nodename})):n[0].active=!0},function(t){s.toastr.error("ERROR RESOLVING NODE "+s.nodename+": "+t.status)})}return t.$inject=["$stateParams","$state","MinemeldStatusService","toastr","NodeDetailResolver"],t.prototype.select=function(t){this.$state.go(t,{nodename:this.nodename})},t}();e.NodeDetailController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c,d){var u=this;this.chartOptions={chart:{type:"lineChart",margin:{top:0,right:0,bottom:0,left:0},height:50,x:function(t){return t.x},y:function(t){return t.y},color:["#ff7f0e"],groupSpacing:.5,transition:0,useInteractiveGuideline:!0,showXAxis:!1,showYAxis:!1,yAxis:{tickFormat:function(t,e){return Math.ceil(t)}},xAxis:{tickFormat:function(t,e){return u.moment.unix(t).fromNow().toUpperCase()}},forceY:[0,1],showLegend:!1,interpolate:"monotone"}},this.chartApi={},this.chartRange="24h",this.chartDT=86400,this.chartDR=1800,this.metrics={},this.updateNodeMetricsInterval=3e5,this.toastr=t,this.mmstatus=n,this.mmmetrics=i,this.$interval=e,this.moment=o,this.$scope=s,this.$compile=a,this.$state=r,this.$stateParams=l,this.nodename=s.$parent.nodedetail.nodename,this.updateMinemeldStatus(),this.mmThrottledUpdate=d.throttle(this.updateMinemeldStatus.bind(this),500),this.mmStatusListener=c.$on("mm-status-changed",this.mmThrottledUpdate),this.updateNodeMetrics(),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","MinemeldMetricsService","moment","$scope","$compile","$state","$stateParams","$rootScope","ThrottleService"],t.prototype.renderMetrics=function(t,e){var n,i,o,s={};for(n=0;n<e.length;n++)i=e[n].metric,"length"===i&&(i="indicators"),o={area:!0,color:"#ff7f0e",values:e[n].values.map(function(t){return{x:t[0],y:t[1]}})},o.values.length>0&&null==o.values[o.values.length-1].y&&(o.values=o.values.slice(0,-1)),s[i]=[o];t.metrics=s,t.updateMetricsNames(),t.$scope.$$phase||t.$scope.$digest();for(var a in t.chartApi)s.hasOwnProperty(a)&&t.chartApi[a].updateWithData(s[a])},t.prototype.chartRangeChanged=function(){"1h"===this.chartRange?(this.chartDT=3600,this.chartDR=1):"7d"===this.chartRange?(this.chartDT=604800,this.chartDR=21600):"30d"===this.chartRange?(this.chartDT=2592e3,this.chartDR=43200):(this.chartDT=86400,this.chartDR=1800),this.updateNodeMetricsPromise&&(this.$interval.cancel(this.updateNodeMetricsPromise),this.updateNodeMetrics())},t.prototype.updateMetricsNames=function(){var t=this;this.metrics_names=Object.keys(this.metrics),angular.forEach(Object.keys(this.nodeState.statistics),function(e){-1===t.metrics_names.indexOf(e)&&t.metrics_names.push(e)})},t.prototype.updateNodeMetrics=function(){var t=this;t.mmmetrics.getNode(t.nodename,{dt:t.chartDT,r:t.chartDR}).then(function(e){t.renderMetrics(t,e)},function(e){t.toastr.error("ERROR RETRIEVING MINEMELD METRICS: "+e.status)})["finally"](function(){t.updateNodeMetricsPromise=t.$interval(t.updateNodeMetrics.bind(t),t.updateNodeMetricsInterval,1)})},t.prototype.updateMinemeldStatus=function(){var t=this;this.mmstatus.getStatus().then(function(e){t.nodeState=e[t.nodename],t.updateMetricsNames(),t.nodeState.indicators=t.nodeState.length})},t.prototype.destroy=function(){this.mmThrottledUpdate&&this.mmThrottledUpdate.cancel(),this.mmStatusListener&&this.mmStatusListener(),this.updateNodeMetricsPromise&&this.$interval.cancel(this.updateNodeMetricsPromise)},t}();e.NodeDetailStatsController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c){this.updateMinemeldConfigInterval=6e4,this.toastr=t,this.mmstatus=n,this.$interval=e,this.moment=i,this.$scope=o,this.$compile=s,this.$state=a,this.$stateParams=r,this.nodename=o.$parent.nodedetail.nodename,this.updateMinemeldStatus(),this.mmThrottledUpdate=c.throttle(this.updateMinemeldStatus.bind(this),250),this.mmStatusListener=l.$on("mm-status-changed",this.mmThrottledUpdate),this.updateMinemeldConfig(),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","$rootScope","ThrottleService"],t.prototype.renderState=function(t,e){t.nodeState=e,t.nodeState.indicators=e.length,t.nodeState.stateAsString=t.mmstatus.NODE_STATES[e.state]},t.prototype.run=function(){var t=this;this.mmstatus.hup(this.nodename).then(function(){t.toastr.success("NEW RUN FOR "+t.nodename+" SUCCESSFULLY SCHEDULED")})["catch"](function(e){t.toastr.error("ERROR HUPPING NODE: "+e.status)})},t.prototype.updateMinemeldStatus=function(){var t=this;this.mmstatus.getStatus().then(function(e){t.renderState(t,e[t.nodename])})},t.prototype.updateMinemeldConfig=function(){var t=this;t.mmstatus.getConfig().then(function(e){t.nodeConfig=e.nodes[t.nodename],t.nodeConfig.config&&0===Object.keys(t.nodeConfig.config).length&&(t.nodeConfig.config=null)},function(e){e.cancelled||t.toastr.error("ERROR RETRIEVING MINEMELD CONFIG: "+e.status)})["finally"](function(){t.updateMinemeldConfigPromise=t.$interval(t.updateMinemeldConfig.bind(t),t.updateMinemeldConfigInterval,1)})},t.prototype.destroy=function(){this.mmThrottledUpdate&&this.mmThrottledUpdate.cancel(),this.mmStatusListener&&this.mmStatusListener(),this.updateMinemeldConfigPromise&&this.$interval.cancel(this.updateMinemeldConfigPromise)},t}();e.NodeDetailInfoController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c,d){this.toastr=t,this.mmstatus=n,this.MineMeldRunningConfigStatusService=i,this.$interval=e,this.moment=o,this.$scope=s,this.$compile=a,this.$state=r,this.$stateParams=l,this.nodename=s.$parent.nodedetail.nodename,this.updateMinemeldStatus(),this.mmThrottledUpdate=d.throttle(this.updateMinemeldStatus.bind(this),500),this.mmStatusListener=c.$on("mm-status-changed",this.mmThrottledUpdate),this.mmRunningConfigListener=c.$on("mm-running-config-changed",this.mmThrottledUpdate),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.$inject=["toastr","$interval","MinemeldStatusService","MineMeldRunningConfigStatusService","moment","$scope","$compile","$state","$stateParams","$rootScope","ThrottleService"],t.prototype.updateMinemeldStatus=function(){var t,e,n,i,o,s=this,a=[],r=[],l=[this.nodename];this.MineMeldRunningConfigStatusService.getStatus().then(function(c){s.mmstatus.getStatus().then(function(d){do n=r.length,angular.forEach(d,function(n,s){if(i=c.nodes[s],o="unknown","undefined"!=typeof i&&i.resolvedPrototype&&i.resolvedPrototype.node_type&&(o=i.resolvedPrototype.node_type),!(r.indexOf(s)>-1))if(t=l.indexOf(s),t>-1){a.push({status:n,nodeType:o}),r.push(s),l.splice(t,1);for(e in n.inputs)l.indexOf(n.inputs[e])<=-1&&r.indexOf(n.inputs[e])<=-1&&l.push(n.inputs[e])}else for(e in n.inputs)r.indexOf(n.inputs[e])>-1&&l.indexOf(s)<=-1&&l.push(s)});while(n!==r.length||0!==l.length);s.nodes=a})})},t.prototype.destroy=function(){this.mmThrottledUpdate&&this.mmThrottledUpdate.cancel(),this.mmStatusListener&&this.mmStatusListener(),this.mmRunningConfigListener&&this.mmRunningConfigListener()},t}();e.NodeDetailGraphController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r){this.dtPrototypes={},this.MinemeldPrototypeService=e,this.toastr=t,this.$scope=i,this.DTColumnBuilder=s,this.DTOptionsBuilder=o,this.$compile=a,this.$state=r,this.setupPrototypesTable()}return t.$inject=["toastr","MinemeldPrototypeService","moment","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$state"],t.prototype.go=function(t){this.$state.transitionTo("nodedetail",{nodename:t})},t.prototype.setupPrototypesTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){var e=t.MinemeldPrototypeService.getPrototypeLibraries().then(function(t){var e,n,i,o,s,a,r,l,c,d=[];for(e in t)if(t.hasOwnProperty(e)&&(i=t[e],i&&i.prototypes))for(n in i.prototypes)i.prototypes.hasOwnProperty(n)&&(o=i.prototypes[n],s="",o.node_type&&(s=o.node_type),l=[],o.indicator_types&&(l=o.indicator_types),c=[],o.tags&&(c=o.tags),a=void 0,o.author&&(a=o.author),r="",o.development_status&&(r=o.development_status),d.push({name:e+"."+n,prototypeName:n,libraryName:e,developmentStatus:r,nodeType:s,indicatorTypes:l,tags:c,libraryDescription:i.description,prototypeDescription:o.description,author:a}));return d})["catch"](function(e){t.toastr.error("ERROR RETRIEVING PROTOTYPES LIBRARIES:"+e.status)});return e}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("lengthMenu",[[50,-1],[50,"All"]]).withOption("createdRow",function(e,n){var i,o,s;e.className+=" nodes-table-row",o=e.childNodes[0],o.className+=" "+i;for(var s=0;s<e.childNodes.length;s++)o=e.childNodes[s],o.setAttribute("ng-click",'vm.$state.go("prototypedetail", {libraryName: "'+n.libraryName+'", prototypeName: "'+n.prototypeName+'"})');t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("name").withTitle("NAME").renderWith(function(t,e,n){var i,o,s,a;return s="glyphicon glyphicon-user",a="prototypes-label-unk",n.author&&(s="mm-community",a="prototypes-label-community","MineMeld Core Team"===n.author&&(s="mm-minemeld",a="prototypes-label-minemeld")),o=he.encode(t,{strict:!0}),i='<div tooltip="'+o+'" class="prototypes-name"><span class="label '+a+' mm-label"><i class="'+s+'"></i></span> ',i+=o,i+="</div>",n.author&&(i+='<div class="prototypes-author">'+he.encode(n.author.toUpperCase(),{strict:!0})+"</div>"),i}),this.DTColumnBuilder.newColumn("nodeType").withTitle("TYPE").renderWith(function(t,e,n){var i,o;return"miner"===t?(i="nodes-label-miner",o="MINER"):"output"===t?(i="nodes-label-output",o="OUTPUT"):"processor"===t?(i="nodes-label-processor",o="PROCESSOR"):(i="label-default",o=he.encode(t)),'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("indicatorTypes").withTitle("INDICATORS").renderWith(function(t,e,n){var i=['<div class="label-container">'];return angular.forEach(t,function(t){i.push('<span class="label label-indicator-type">'+t+"</span>")}),i.push("</div>"),i.join(" ")}),this.DTColumnBuilder.newColumn(null).withTitle("DESCRIPTION").renderWith(function(t,e,n){var i="";return"EXPERIMENTAL"===n.developmentStatus&&(i+='<div class="prototypes-author m-b-xs"><i class="text-danger glyphicon glyphicon-warning-sign"></i> <span class="text-danger">EXPERIMENTAL</span></div>'),n.libraryDescription&&(i+='<div class="m-b-xs"><strong>'+he.encode(n.libraryName)+"</strong> "+he.encode(n.libraryDescription)+"</div>"),n.prototypeDescription&&(i+="<div><strong>"+he.encode(n.libraryName)+"."+he.encode(n.prototypeName)+"</strong> "+he.encode(n.prototypeDescription)+"</div>"),0!==n.tags.length&&(i+='<div class="prototypes-author m-t-xs">TAGS</div>',i+='<div class="label-container">',angular.forEach(n.tags,function(t){i+='<span class="label tag-prototype">'+he.encode(t)+"</span> "}),i+="</div>"),i}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="prototypes-table-chevron glyphicon glyphicon-chevron-right"></span>'}).withOption("width","30px").withClass("prototypes-chevron-td")]},t}();e.PrototypesController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s){var a=this;this.$state=i,this.$rootScope=n,this.toastr=s,this.ConfirmService=o,this.MinemeldPrototypeService=t,this.libraryName=e.libraryName,this.prototypeName=e.prototypeName,t.getPrototypeLibrary(e.libraryName).then(function(t){a.library=t,a.prototype=a.library.prototypes[e.prototypeName]},function(t){s.error("ERROR RETRIEVING PROTOTYPES: "+t.statusText)})}return t.$inject=["MinemeldPrototypeService","$stateParams","$rootScope","$state","ConfirmService","toastr"],t.prototype["delete"]=function(){var t=this;this.ConfirmService.show("DELETE PROTOTYPE","Are you sure you want to delete prototype "+this.libraryName+"."+this.prototypeName+" ?").then(function(e){t.MinemeldPrototypeService.deletePrototype(t.libraryName+"."+t.prototypeName).then(function(e){t.toastr.success(t.libraryName+"."+t.prototypeName+" DELETED"),t.MinemeldPrototypeService.invalidateCache(),t.$rootScope.mmBack("prototypes")},function(e){400===e.status?t.toastr.error("ERROR DELETING "+t.libraryName+"."+t.prototypeName+": "+e.data.error.message):t.toastr.error("ERROR DELETING "+t.libraryName+"."+t.prototypeName+": "+e.statusText)})})},t}();e.PrototypedetailController=n},function(t,e){var n=function(){function t(t,e,n,i,o){var s=this;return this.availableTags=[],this.saving=!1,this.availableTypes=["miner","processor","output"],this.availableITypes=["md5","sha256","sha1","ssdeep","URL","domain","IPv4","IPv6","any"],this.availableDevelopmentStatuses=["STABLE","EXPERIMENTAL"],this.$state=n,this.MinemeldPrototypeService=t,this.toastr=i,this.$rootScope=o,"none"===e.prototype?void this.$state.go("config"):(this.prototype=e.prototype,this.name=this.prototype.split(".").join("_"),this.name=this.name+"-"+(new Date).getTime(),t.getPrototypeLibrary("minemeldlocal").then(function(t){s.localLibrary=t},function(t){i.error("ERROR RETRIEVING LOCAL PROTOTYPE LIBRARY: "+t.statusText)}),void t.getPrototypeYaml(this.prototype).then(function(t){s["class"]=t["class"],s.description=t.description,s.nodeType=t.nodeType,s.developmentStatus=t.developmentStatus,s.config=t.config,s.indicatorTypes=t.indicatorTypes,s.tags=t.tags,s.availableTags=angular.copy(t.tags)},function(t){i.error("ERROR RETRIEVING PROTOTYPE "+s.prototype+": "+t.statusText)}))}return t.$inject=["MinemeldPrototypeService","$stateParams","$state","toastr","$rootScope"],t.prototype.editorLoaded=function(t){t.setShowInvisibles(!1),angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")})},t.prototype.itypesSelected=function(){-1!==this.indicatorTypes.indexOf("any")&&(this.indicatorTypes=["any"])},t.prototype.valid=function(){var t,e=!0;this.saving&&(e=!1),this.name?-1!==this.name.indexOf(".")||this.localLibrary&&this.name in this.localLibrary.prototypes?(angular.element("#fgName").addClass("has-error"),e=!1):angular.element("#fgName").removeClass("has-error"):(e=!1,angular.element("#fgName").addClass("has-error")),this["class"]||(e=!1);try{if(this.config){if(t=jsyaml.safeLoad(this.config),"object"!=typeof t)throw"config is not a valid object";angular.element("#fgConfig").removeClass("has-error")}}catch(n){angular.element("#fgConfig").addClass("has-error"),e=!1}return e},t.prototype.save=function(){var t=this,e={},n="minemeldlocal."+this.name;this.description&&(e.description=this.description),this.developmentStatus&&(e.developmentStatus=this.developmentStatus),this.nodeType&&(e.nodeType=this.nodeType),this.indicatorTypes&&(e.indicatorTypes=this.indicatorTypes),this.tags&&(e.tags=this.tags),this.saving=!0,this.MinemeldPrototypeService.setPrototypeYaml(n,this["class"],this.config,e).then(function(e){t.toastr.success("PROTOTYPE "+n+" ADDED"),t.MinemeldPrototypeService.invalidateCache(),t.$state.go("prototypes",{reload:!0})},function(e){t.toastr.error("ERROR ADDING PROTOTYPE "+n+": "+e.statusText),t.saving=!1})},t.prototype.back=function(){this.$rootScope.mmBack("prototypes")},t}();e.PrototypeAddController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r,l,c,d,u,p,f){this.expertMode=!1,this.dtNodes={},this.changed=!1,this.inCommit=!1,this.toastr=t,this.$scope=e,this.DTColumnBuilder=i,this.DTOptionsBuilder=n,this.$compile=o,this.$state=d,this.$q=u,this.$modal=p,this.MinemeldConfigService=s,this.MinemeldPrototypeService=r,this.MinemeldSupervisorService=a,this.MineMeldEngineStatusService=l,this.MineMeldCurrentUserService=c,this.ConfirmService=f,this.setupNodesTable()}return t.$inject=["toastr","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","MinemeldConfigService","MinemeldSupervisorService","MinemeldPrototypeService","MineMeldEngineStatusService","MineMeldCurrentUserService","$state","$q","$modal","ConfirmService"],t.prototype.revert=function(){var t=this;this.MinemeldConfigService.reload("running").then(function(e){t.$state.go(t.$state.current.name,{},{reload:!0})},function(e){t.toastr.error("ERROR RELOADING CONFIG: "+e.statusText)})},t.prototype.load=function(){var t=this;this.MinemeldConfigService.reload("committed").then(function(e){t.$state.go(t.$state.current.name,{},{reload:!0})},function(e){t.toastr.error("ERROR RELOADING CONFIG: "+e.statusText)})},t.prototype["import"]=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/config/configureimport.modal.html",controller:"ConfigureImportController",controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg"}),t.result.then(function(t){"ok"===t&&(e.changed=e.MinemeldConfigService.changed,e.dtNodes.reloadData())})},t.prototype["export"]=function(){var t;t=this.$modal.open({templateUrl:"app/config/configureexport.modal.html",controller:"ConfigureExportController",controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg"})},t.prototype.configureOutput=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/config/configureoutput.modal.html",controller:i,controllerAs:"vm",bindToController:!0,resolve:{nodenum:function(){return t}},backdrop:"static",animation:!1}),e.result.then(function(t){"ok"!==t?(n.toastr.error("ERROR SAVING NODE CONFIG: "+t.statusText),n.refreshConfig()["finally"](function(){n.changed=n.MinemeldConfigService.changed,n.dtNodes.reloadData()})):(n.changed=n.MinemeldConfigService.changed,n.dtNodes.reloadData())})},t.prototype.configureInputs=function(t){var e,n=this;(this.expertMode||"undefined"==typeof this.nodesConfig[t].properties.node_type||"miner"!==this.nodesConfig[t].properties.node_type)&&(e=this.$modal.open({templateUrl:"app/config/configureinputs.modal.html",controller:o,controllerAs:"vm",bindToController:!0,resolve:{nodenum:function(){return t}},backdrop:"static",animation:!1}),e.result.then(function(t){"ok"!==t?(n.toastr.error("ERROR SAVING NODE CONFIG: "+t.statusText),n.refreshConfig()["finally"](function(){n.dtNodes.reloadData()})):n.dtNodes.reloadData()}))},t.prototype.removeNode=function(t){var e,n=this;e=this.ConfirmService.show("DELETE NODE","Are you sure you want to delete node "+this.nodesConfig[t].name+" ?"),e.then(function(e){n.MinemeldConfigService.deleteNode(t).then(function(t){n.dtNodes.reloadData()},function(t){n.toastr.error("ERROR DELETING NODE: "+t.statusText),n.dtNodes.reloadData()})})},t.prototype.commit=function(){var t=this;this.inCommit=!0,this.MineMeldEngineStatusService.getStatus().then(function(e){return"STARTING"==e.statename||"STOPPING"==e.statename?(t.toastr.error("COMMIT CANCELLED: ENGINE IS "+e.statename),void(t.inCommit=!1)):void t.doCommit()},function(e){t.inCommit=!1})},t.prototype.toggleExpert=function(){this.expertMode?this.expertMode=!1:this.expertMode=!0,angular.element("#configTable thead tr th:nth-child(6)").toggle(),angular.element("#configTable tbody tr td:nth-child(6)").toggle(),angular.element(".config-table-miner").toggleClass("config-table-clickable").toggleClass("config-table-disabled")},t.prototype.doCommit=function(){var t,e=this;t=this.MinemeldConfigService.commit().then(function(t){e.toastr.success("COMMIT SUCCESSFUL"),e.dtNodes.reloadData(),e.MinemeldSupervisorService.restartEngine().then(function(t){e.toastr.success('Restarting engine, could take some minutes. Check <a href="/#/system/dashboard">SYSTEM</a>',{allowHtml:!0})},function(t){e.toastr.error("ERROR RESTARTING ENGINE: "+t.statusText)})},function(t){402===t.status?e.toastr.error("COMMIT FAILED: "+t.data.error.message.join(", "),"",{timeOut:6e4}):e.toastr.error("ERROR IN COMMIT: "+t.statusText),e.dtNodes.reloadData()})["finally"](function(){e.inCommit=!1})},t.prototype.setupNodesTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.getConfig()}).withBootstrap().withPaginationType("simple_numbers").withOption("order",[[2,"asc"],[1,"asc"]]).withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("bDeferRender",!0).withOption("paging",!1).withOption("stateSave",!0).withOption("headerCallback",function(e){var n;n=e.childNodes[5],n.setAttribute("ng-show","vm.expertMode"),t.$compile(angular.element(e).contents())(t.$scope)}).withOption("createdRow",function(e,n,i){var o,s;return n.deleted===!0?void(e.style.display="none"):(e.className+=" config-table-row",o="nodes-dt-header-default","undefined"==typeof n.properties.node_type?o="nodes-dt-header-default":"miner"===n.properties.node_type?o="nodes-dt-header-miner":"output"===n.properties.node_type?o="nodes-dt-header-output":"processor"===n.properties.node_type&&(o="nodes-dt-header-processor"),
s=e.childNodes[0],s.className+=" "+o,s=e.childNodes[4],s.setAttribute("ng-click","vm.configureInputs("+i+")"),"undefined"!=typeof n.properties.node_type&&"miner"===n.properties.node_type?(s.className+=" config-table-miner",t.expertMode?s.className+=" config-table-clickable":s.className+=" config-table-disabled"):s.className+=" config-table-clickable",s=e.childNodes[5],s.setAttribute("ng-click","vm.configureOutput("+i+")"),s.className+=" config-table-clickable",s.setAttribute("ng-show","vm.expertMode"),s=e.childNodes[6],s.setAttribute("ng-click","vm.removeNode("+i+")"),s.style.textAlign="center",s.style.verticalAlign="middle",s.setAttribute("tooltip","delete node"),s.setAttribute("tooltip-popup-delay","500"),s.setAttribute("tooltip-append-to-body","true"),s.className+=" config-table-clickable",void t.$compile(angular.element(e).contents())(t.$scope))}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn(null).withTitle("").renderWith(function(t,e,n){return""}).withOption("width","5px").notSortable(),this.DTColumnBuilder.newColumn("name").withTitle("NAME").renderWith(function(t,e,n){return he.encode(t,{strict:!0})}),this.DTColumnBuilder.newColumn(null).withTitle("TYPE").renderWith(function(t,e,n){var i,o,s;return"undefined"==typeof n.properties.node_type||"UNKNOWN"===n.properties.node_type?'<span class="label label-default">UNKNOWN</span>':(s=he.encode(n.properties.node_type,{strict:!0}),o="nodes-label-"+s,i=s.toUpperCase(),'<span class="label '+o+'">'+i+"</span>")}),this.DTColumnBuilder.newColumn(null).withTitle("PROTOTYPE").renderWith(function(t,e,n){return n.properties.prototype?n.properties.prototype:'<span class="config-none">None</span>'}),this.DTColumnBuilder.newColumn(null).withTitle("INPUTS").renderWith(function(t,e,n){if(n.properties.inputs&&n.properties.inputs.length>0){var i=new Array;return i=['<ul style="margin: 0;">'],i=i.concat(n.properties.inputs.map(function(t){return'<li style="padding-bottom: 0px;">'+he.encode(t,{strict:!0})+"</li>"})),i.push("</ul>"),i.join("")}return'<span class="config-none">None</span>'}),this.DTColumnBuilder.newColumn(null).withTitle("OUTPUT").renderWith(function(t,e,n){var i,o,s=!0;return n.properties.output===!1&&(s=n.properties.output),i="label-default",o="DISABLED",s&&(i="label-success",o="ENABLED"),'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.getConfig=function(){var t=this;return this.MinemeldPrototypeService.getPrototypeLibraries().then(function(e){return t.refreshConfig()},function(e){throw e.cancelled||t.toastr.error("ERROR LOADING PROTOTYPES: "+e.statusText),e})},t.prototype.refreshConfig=function(){var t=this;return this.MinemeldConfigService.refresh().then(function(e){return t.configInfo=t.MinemeldConfigService.configInfo,t.nodesConfig=t.MinemeldConfigService.nodesConfig,t.changed=t.MinemeldConfigService.configInfo.changed,e},function(e){return e.cancelled?void 0:(t.toastr.error("ERROR RELOADING CONFIG: "+e.statusText),t.configInfo=void 0,t.nodesConfig=[],t.changed=!1,t.nodesConfig)}).then(function(e){var n=[];return n=e.map(function(e){return"undefined"==typeof e.properties.prototype?t.$q.when(e):t.MinemeldPrototypeService.getPrototype(e.properties.prototype).then(function(t){return"undefined"==typeof t?e.properties.node_type="UNKNOWN":(t.node_type&&(e.properties.node_type=t.node_type),t.indicator_types&&(e.properties.indicator_types=t.indicator_types)),e},function(t){return e})}),t.$q.all(n)})},t}();e.ConfigController=n;var i=function(){function t(t,e,n){this.nodenum=n,this.MinemeldConfigService=t,this.$modalInstance=e,this.nodeConfig=this.MinemeldConfigService.nodesConfig[n],this.output=this.nodeConfig.properties.output,this.originalOutput=this.output}return t.$inject=["MinemeldConfigService","$modalInstance","nodenum"],t.prototype.disableOutput=function(){this.output=!1},t.prototype.enableOutput=function(){this.output=!0},t.prototype.save=function(){var t=this;this.nodeConfig.properties.output=this.output,this.MinemeldConfigService.saveNodeConfig(this.nodenum).then(function(e){t.$modalInstance.close("ok")},function(e){t.$modalInstance.close(e)})},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.ConfigureOutputController=i;var o=function(){function t(t,e,n){this.expertMode=!1,this.changed=!1,this.nodenum=n,this.MinemeldConfigService=t,this.$modalInstance=e,this.nodeConfig=this.MinemeldConfigService.nodesConfig[n],"undefined"!=typeof this.nodeConfig.properties.node_type&&(this.nodeType=this.nodeConfig.properties.node_type),"undefined"!=typeof this.nodeConfig.properties.indicator_types&&(this.indicatorTypes=this.nodeConfig.properties.indicator_types),"output"===this.nodeType&&(this.nodeTypeLimit=1),"miner"===this.nodeType&&(this.nodeTypeLimit=0),"processor"===this.nodeType&&(this.nodeTypeLimit=1024),this.inputs=angular.copy(this.nodeConfig.properties.inputs),this.loadAvailableInputs()}return t.$inject=["MinemeldConfigService","$modalInstance","nodenum"],t.prototype.hasChanged=function(){this.changed=!0,this.loadAvailableInputs()},t.prototype.save=function(){var t=this;this.nodeConfig.properties.inputs=this.inputs,this.MinemeldConfigService.saveNodeConfig(this.nodenum).then(function(e){t.$modalInstance.close("ok")},function(e){t.$modalInstance.close(e)})},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.toggleExpert=function(){this.expertMode?this.expertMode=!1:this.expertMode=!0,this.loadAvailableInputs()},t.prototype.loadAvailableInputs=function(){var t,e=this;return!this.expertMode&&this.inputs.length>=this.nodeTypeLimit?(this.availableInputs=this.inputs.map(function(t){for(var n,i="UNKNOWN",o=0,s=e.MinemeldConfigService.nodesConfig;o<s.length;o++)if(n=s[o],n.name==t){"undefined"!=typeof n.properties.node_type&&(i=n.properties.node_type.toUpperCase());break}return{name:t,nodeType:i}}),void(this.noChoiceMessage="Max number of input nodes for this "+this.nodeType.toUpperCase()+" node reached")):(t=this.MinemeldConfigService.nodesConfig.filter(function(t){return t.name==e.nodeConfig.name?!1:-1!==e.inputs.indexOf(t.name)?!0:t.deleted?!1:!0}),this.expertMode||"undefined"==typeof this.nodeType||(t=t.filter(function(t){var n;return"undefined"==typeof t.properties.node_type?!0:(n=t.properties.node_type,"miner"===e.nodeType?!1:"processor"===e.nodeType?"miner"===n?!0:"processor"===n?!0:!1:"output"===e.nodeType?"miner"===n?!0:"processor"===n?!0:!1:!0)})),!this.expertMode&&this.indicatorTypes&&0!==this.indicatorTypes.length&&"any"!==this.indicatorTypes[0]&&(t=t.filter(function(t){var n;if(!t.properties.indicator_types)return!0;if(n=t.properties.indicator_types,0===n.length||"any"===n[0])return!0;for(var i=0;i<n.length;i++)if(-1!==e.indicatorTypes.indexOf(n[i]))return!0;return!1})),this.availableInputs=t.map(function(t){var e;return e="UNKNOWN","undefined"!=typeof t.properties.node_type&&(e=t.properties.node_type.toUpperCase()),{name:t.name,nodeType:e}}),angular.forEach(this.inputs,function(t){var n;n=e.availableInputs.filter(function(e){return e.name==t}),0===n.length&&e.availableInputs.push({name:t,nodeType:"UNKNOWN"})}),void(this.noChoiceMessage="No suitable input nodes found"))},t}();e.ConfigureInputsController=o},function(t,e){var n=function(){function t(){this._annotations={}}return t.prototype.addAnnotation=function(t,e){t in this._annotations||(this._annotations[t]=[]),this._annotations[t].push(e)},t.prototype.getAnnotations=function(){var t=[],e=this;return Object.keys(this._annotations).forEach(function(n){t.push({row:+n,column:0,type:"error",text:e._annotations[n].join("\n")})}),t},t.prototype.length=function(){return Object.keys(this._annotations).length},t.prototype.firstRowNumber=function(){var t;return t=Object.keys(this._annotations).map(function(t){return+t}),0!==t.length?Math.min.apply(null,t)+1:0},t}(),i=function(){function t(t,e,n,i,o,s,a){var r=this;this.valid=!1,this.syntaxValid=!1,this.processing=!0,this.numAnnotations=0,this.firstAnnotation=0;var l=this;this.$modalInstance=e,this.MinemeldConfigService=n,this.MinemeldPrototypeService=i,this.toastr=o,this.$q=s,this.ConfirmService=a,i.getPrototypeLibraries().then(function(t){r.prototypeLibrary=t,r.processing=!1},function(t){t.cancelled||r.toastr.error("ERROR RETRIEVING PROTOTYPES: "+t.statusText),r.$modalInstance.dismiss()}),l.editorLoaded=function(t){l.editor=t,t.setShowInvisibles(!1),angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")}),t.getSession().setOption("useWorker",!1),l.validYaml()},l.aceChanged=l.validYaml.bind(this)}return t.$inject=["$scope","$modalInstance","MinemeldConfigService","MinemeldPrototypeService","toastr","$q","ConfirmService"],t.prototype.validYaml=function(){var t,e=this,i=new n,o=/^[a-zA-Z0-9_\-]+$/;if(this.editor){this.valid=!1;try{this.pconfig=jsyaml.safeLoad(this.config)}catch(s){return this.syntaxValid=!1,!1}return this.syntaxValid=!0,this.editor.getSession().clearAnnotations(),this.numAnnotations=0,this.pconfig&&this.config&&0!==this.config.length?"undefined"==typeof this.pconfig.nodes||"object"!=typeof this.pconfig.nodes?(this.editor.getSession().setAnnotations([{row:0,column:0,text:"Nodes list not defined",type:"error"}]),!1):this.pconfig.nodes?(t=Object.keys(this.pconfig.nodes),0===t.length?(this.editor.getSession().setAnnotations([{row:0,column:0,text:"Invalid nodes list",type:"error"}]),!1):(angular.forEach(t,function(t){var n,s,a;return n=e.pconfig.nodes[t],o.test(t)?"object"!=typeof n||null===n?void i.addAnnotation(0,t+": invalid node format"):(s=e.findNode(t),"undefined"!=typeof n.inputs&&(n.inputs instanceof Array?n.inputs.forEach(function(e){"string"!=typeof e&&i.addAnnotation(s,t+": invalid input "+e)}):i.addAnnotation(s,t+": wrong inputs list")),"boolean"!=typeof n.output&&i.addAnnotation(s,t+": wrong or missing output field"),"undefined"!=typeof n["class"]&&"string"!=typeof n["class"]&&i.addAnnotation(s,t+": class field if defined should be a string"),"undefined"!=typeof n.config&&("object"==typeof n.config&&n.config||i.addAnnotation(s,t+": config field if defined should be a dictionary")),"undefined"!=typeof n.prototype&&("string"!=typeof n.prototype?i.addAnnotation(s,t+": prototype field if defined should be a string"):(a=n.prototype.split("."),a[0]in e.prototypeLibrary?a[1]in e.prototypeLibrary[a[0]].prototypes||i.addAnnotation(s,t+": unknown prototype"):i.addAnnotation(s,t+": unknown prototype library"))),void("undefined"!=typeof n.prototype||"undefined"!=typeof n.config&&"undefined"!=typeof n["class"]||i.addAnnotation(s,t+": prototype field or class and config fields should be defined"))):void i.addAnnotation(0,t+": invalid node name")}),Object.keys(this.pconfig).length>1&&i.addAnnotation(0,"Unknown top level attributes: "+Object.keys(this.pconfig).filter(function(t){return"nodes"!==t}).join(" ,")),this.numAnnotations=i.length(),this.firstAnnotation=i.firstRowNumber(),0!==i.length()?(this.editor.getSession().setAnnotations(i.getAnnotations()),!1):(this.valid=!0,!0))):(this.editor.getSession().setAnnotations([{row:0,column:0,text:"Invalid nodes list",type:"error"}]),!1):!1}},t.prototype.errorClick=function(){this.editor.gotoLine(this.firstAnnotation,0,!0)},t.prototype.append=function(){var t,e,i=this,o=!1,s=new n;this.progressMax=Object.keys(this.pconfig.nodes).length,this.progressValue=0,this.processing=!0;for(var a=0,r=this.MinemeldConfigService.nodesConfig;a<r.length;a++)e=r[a],e.name in this.pconfig.nodes&&(o=!0,t=this.findNode(e.name),s.addAnnotation(t,"Node with name "+e.name+" already exists in candidate config, please rename"));return o?(this.editor.getSession().setAnnotations(s.getAnnotations()),this.toastr.error("ERROR APPENDING CONFIG: NAME CONFLICTS"),void(this.processing=!1)):void this.appendNodes().then(function(){i.toastr.success("CONFIG APPENDED"),delete i.editor,i.$modalInstance.close("ok"),i.processing=!1},function(t){i.toastr.error("ERROR ADDING NODES: "+t.statusText),i.processing=!1})},t.prototype.replace=function(){var t=this;this.progressMax=Object.keys(this.pconfig.nodes).length+Object.keys(this.MinemeldConfigService.nodesConfig).length,this.progressValue=0,this.processing=!0,this.ConfirmService.show("REPLACE CONFIG","REPLACE EXISTING CANDIDATE CONFIG ?").then(function(e){t.deleteAllNodes().then(function(e){return t.appendNodes().then(function(e){t.toastr.success("CANDIDATE CONFIG REPLACED"),t.processing=!1,delete t.editor,t.$modalInstance.close("ok")},function(e){t.toastr.error("ERROR REPLACING CONFIG: "+e.statusText),t.processing=!1})})},function(e){t.processing=!1})},t.prototype.cancel=function(){delete this.editor,this.$modalInstance.dismiss()},t.prototype.deleteAllNodes=function(){var t=this;return this.MinemeldConfigService.nodesConfig.reduce(function(e,n,i){return t.progressValue+=1,n.deleted?e:e.then(function(e){return t.MinemeldConfigService.deleteNode(i)})},this.$q.when("<delete-all>"))},t.prototype.appendNodes=function(){var t=this;return Object.keys(this.pconfig.nodes).reduce(function(e,n){return e.then(function(e){return t.progressValue+=1,t.MinemeldConfigService.addNode(n,t.pconfig.nodes[n])})},this.$q.when("<append>"))},t.prototype.findNode=function(t){var e,n,i=new RegExp("^\\s+"+t+":s*$");e=this.config.split("\n");for(var o in e)if(n=e[o],i.test(n))return o;return 0},t}();e.ConfigureImportController=i},function(t,e){var n=function(){function t(t,e){var n=this;this.$modalInstance=t,this.MinemeldConfigService=e,this.dumpYaml(),n.editorLoaded=function(t){n.editor=t,t.setShowInvisibles(!1),angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")})}}return t.$inject=["$modalInstance","MinemeldConfigService"],t.prototype.copyToClipboard=function(){this.editor.selectAll(),this.editor.focus(),document.execCommand("copy")},t.prototype.ok=function(){this.$modalInstance.dismiss()},t.prototype.dumpYaml=function(){var t={};this.MinemeldConfigService.nodesConfig.forEach(function(e){e.deleted||(t[e.name]=angular.copy(e.properties),delete t[e.name].node_type,delete t[e.name].indicator_types,"undefined"==typeof t[e.name].inputs||t[e.name].inputs instanceof Array||delete t[e.name].inputs)}),this.config=jsyaml.safeDump({nodes:t})},t}();e.ConfigureExportController=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a){var r=this;this.availablePrototypes=new Array,this.name="node-"+(new Date).getTime(),this.inputs=new Array,this.inputsDisabled=!1,this.output=!1;var l,c;this.$rootScope=s,this.MinemeldPrototypeService=t,this.MinemeldConfigService=e,this.toastr=n,this.$state=i,this.$stateParams=o,this.$q=a,l=this.$stateParams.prototype,"none"!==l&&(this.prototype=l,c=l.split("."),this.name=c[c.length-1]+"-"+(new Date).getTime()),this.MinemeldPrototypeService.getPrototypeLibraries().then(function(t){var e,n,i,o,s;for(e in t)if(t.hasOwnProperty(e))for(n in t[e].prototypes)t[e].prototypes.hasOwnProperty(n)&&(i="UNKNOWN",t[e].prototypes[n].node_type&&(i=t[e].prototypes[n].node_type.toUpperCase()),o=[],t[e].prototypes[n].indicator_types&&(o=t[e].prototypes[n].indicator_types),s={name:e+"."+n,libraryName:e,prototypeName:n,libraryDescription:t[e].description,prototypeDescription:t[e].prototypes[n].description,developmentStatus:t[e].prototypes[n].development_status,nodeType:i,indicatorTypes:o},r.availablePrototypes.push(s),r.prototype&&r.prototype==s.name&&r.prototypeSelected(s,"dummy"))}).then(function(t){return r.MinemeldConfigService.candidateConfig()}).then(function(t){return r.decorateConfigNodes(t)}).then(function(t){r.configNodes=t,r.loadAvailableInputs()}).then(void 0,function(t){r.toastr.error("ERROR RETRIEVING CONFIG: "+t.statusText)})}return t.$inject=["MinemeldPrototypeService","MinemeldConfigService","toastr","$state","$stateParams","$rootScope","$q"],t.prototype.save=function(){var t=this;this.MinemeldConfigService.addNode(this.name,{inputs:this.inputs,output:this.output,prototype:this.prototype}).then(function(e){t.toastr.success("NODE "+t.name+" SUCCESSFULLY ADDED"),t.$state.go("config")},function(e){t.toastr.error("ERROR ADDING NODE: "+e.statusText)})},t.prototype.valid=function(){var t,e=this,n=/^[a-zA-Z0-9_\-]+$/,i=!1;if(0===this.name.length)return!1;if("undefined"==typeof this.configNodes)return!1;if(this.configNodes.forEach(function(t){t.name==e.name&&(i=!0)}),i)return angular.element("#nodename").addClass("has-error"),!1;if(!n.test(this.name))return angular.element("#nodename").addClass("has-error"),!1;if(angular.element("#nodename").removeClass("has-error"),!this.availableInputs)return!1;if(!this.availablePrototypes)return!1;if(!this.prototype)return!1;for(var o=0,s=this.availableInputs;o<s.length;o++)if(t=s[o],t.name==this.name)return!1;return 1!==this.availablePrototypes.filter(function(t){return t.name==e.prototype}).length?!1:!0},t.prototype.prototypeSelected=function(t,e){this.selectedPrototype=t,this.inputs=[],"undefined"!=typeof t&&("OUTPUT"===t.nodeType?(this.output=!1,this.inputsDisabled=!1,this.inputsLimit=1):"MINER"===t.nodeType?(this.output=!0,this.inputsDisabled=!0,this.inputsLimit=0):"PROCESSOR"===t.nodeType&&(this.output=!0,this.inputsDisabled=!1,this.inputsLimit=1024),this.configNodes&&this.loadAvailableInputs())},t.prototype.prototypeRemoved=function(t,e){this.selectedPrototype=t,this.inputs=[],this.inputsDisabled=!1,this.inputsLimit=void 0},t.prototype.back=function(){this.$rootScope.mmBack("config")},t.prototype.inputsChanged=function(){this.loadAvailableInputs()},t.prototype.loadAvailableInputs=function(){var t,e=this;this.noInputsChoiceMessage="No suitable input nodes found",t=this.configNodes,this.selectedPrototype&&this.selectedPrototype.nodeType&&(t=t.filter(function(t){return"UNKNOWN"===t.nodeType?!0:"PROCESSOR"===e.selectedPrototype.nodeType?"PROCESSOR"===t.nodeType?!0:"MINER"===t.nodeType?!0:!1:"OUTPUT"===e.selectedPrototype.nodeType?"PROCESSOR"===t.nodeType?!0:"MINER"===t.nodeType?!0:!1:!1}),this.selectedPrototype&&this.selectedPrototype.indicatorTypes&&0!==this.selectedPrototype.indicatorTypes.length&&"any"!==this.selectedPrototype.indicatorTypes[0]&&(t=t.filter(function(t){var n;if(!t.indicatorTypes)return!0;if(n=t.indicatorTypes,0===n.length||"any"===n[0])return!0;for(var i=0;i<n.length;i++)if(-1!==e.selectedPrototype.indicatorTypes.indexOf(n[i]))return!0;return!1})),this.inputsLimit&&this.inputs.length>=this.inputsLimit&&(t=t.filter(function(t){return-1!==e.inputs.indexOf(t.name)?!0:!1}),this.noInputsChoiceMessage="Max number of input nodes for this prototype type reached")),this.availableInputs=t},t.prototype.decorateConfigNodes=function(t){var e,n=this,i=[];return e=t.filter(function(t){return t.deleted?!1:!0}),angular.forEach(e,function(t){return"undefined"==typeof t.properties.prototype?void i.push(n.$q(function(e){e({name:t.name,nodeType:"UNKNOWN",indicatorTypes:[]})})):void i.push(n.MinemeldPrototypeService.getPrototype(t.properties.prototype).then(function(e){var n="UNKNOWN",i=[];return e&&e.node_type&&(n=e.node_type.toUpperCase()),e&&e.indicator_types&&(i=e.indicator_types),{name:t.name,nodeType:n,indicatorTypes:i}}))}),this.$q.all(i).then(function(t){return t})},t}();e.ConfigAddController=n},function(t,e){var n=function(){function t(t){this.MineMeldCurrentUserService=t}return t.$inject=["MineMeldCurrentUserService"],t}();e.AboutController=n},function(t,e){var n=function(){function t(t){this.tabs=[{tooltip:"ADMINS",icon:"fa fa-user",active:!0,state:"admin.users"},{tooltip:"FEEDS USERS",icon:"fa fa-circle",active:!1,state:"admin.fusers"}],this.$state=t}return t.$inject=["$state"],t.prototype.select=function(t){this.$state.go(t)},t}();e.AdminController=n},function(t,e,n){var i=n(28),o=function(){function t(t,e,n,i,o,s,a,r,l){this.dtUsers={},this.MinemeldAAAService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.$timeout=l,this.setupUsersTable()}return t.$inject=["toastr","MinemeldAAAService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService","$timeout"],t.prototype.reload=function(){this.dtUsers.reloadData()},t.prototype.delayedReload=function(){var t=this;this.$timeout(700).then(function(e){t.dtUsers.reloadData()})},t.prototype.removeUser=function(t){var e,n,i=this;n=this.users[t].username,e=this.ConfirmService.show("DELETE USER","Are you sure you want to delete user "+n+" ?"),1==this.users.length&&(e=e.then(function(t){return i.ConfirmService.show("DELETE LAST ADMIN USER","Are you sure you want to delete the last admin user ?")})),e.then(function(t){i.MinemeldAAAService.deleteUser("api",n).then(function(t){i.toastr.success("USER "+n+" DELETED"),i.delayedReload()},function(t){i.toastr.error("ERROR REMOVING USER: "+t.statusText),i.delayedReload()})})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.comment.modal.html",controller:i.AdminConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return n.users[t].username},comment:function(){var e;return e=null,n.users[t].attributes.comment&&(e=n.users[t].attributes.comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.users[t].attributes.comment=e:n.users[t].attributes.comment&&delete n.users[t].attributes.comment,n.MinemeldAAAService.setUserAttributes("api",n.users[t].username,n.users[t].attributes).then(function(t){n.delayedReload()},function(t){n.toastr.error("ERROR SAVING COMMENT: "+t.statusText),n.delayedReload()})})},t.prototype.setPassword=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.add.modal.html",controller:i.AdminAddUserController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return n.users[t].username},users:function(){return n.users}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.password.length&&n.MinemeldAAAService.setUserPassword("api",n.users[t].username,e.password).then(function(t){n.toastr.success("PASSWORD FOR USER "+e.username+" SET"),n.delayedReload()},function(t){n.toastr.error("ERROR SETTING PASSWORD: "+t.statusText),n.delayedReload()})})},t.prototype.addUser=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.add.modal.html",controller:i.AdminAddUserController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return void 0},users:function(){return n.users}},backdrop:"static",animation:!1}),e.result.then(function(t){t&&0!==t.password.length&&n.MinemeldAAAService.setUserPassword("api",t.username,t.password).then(function(e){n.toastr.success("USER "+t.username+" ADDED"),n.delayedReload()},function(t){n.toastr.error("ERROR ADDING USER: "+t.statusText),n.delayedReload()})})},t.prototype.setupUsersTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldAAAService.getUsers("api").then(function(e){var n=[];return null===e?n:(angular.forEach(e.users,function(t,e){n.push({username:e,attributes:t})}),t.enabled=e.enabled,n)},function(e){throw e.cancelled||t.toastr.error("ERROR LOADING USERS LIST: "+e.statusText),e}).then(function(e){return t.users=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.setPassword("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.removeUser("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete user"),o.setAttribute("tooltip-popup-delay","500"),o.setAttribute("tooltip-append-to-body","1"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("username").withTitle("USERNAME").withOption("width","15%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("PASSWORD").withOption("width","15%").notSortable().renderWith(function(t,e,n){return"<i>hidden</i>"}),this.DTColumnBuilder.newColumn("attributes").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t&&t.comment?he.encode(t.comment,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t}();e.AdminUsersController=o},function(t,e){var n=function(){function t(t,e,n){this.$modalInstance=t,this.origComment=n,this.comment=this.origComment,this.username=e}return t.$inject=["$modalInstance","username","comment"],t.prototype.save=function(){this.$modalInstance.close(this.comment)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.AdminConfigureCommentController=n;var i=function(){function t(t,e,n){this.tags=[],this.changed=!1,this.$modalInstance=t,e&&(this.tags=e),this.availableTags=n}return t.$inject=["$modalInstance","tags","availableTags"],t.prototype.save=function(){this.$modalInstance.close(this.tags)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.AdminConfigureTagsController=i;var o=function(){function t(t,e,n){this.$modalInstance=t,this.users=e,this.title="Add User",this.set_password=!1,n&&(this.username=n,this.set_password=!0,this.title="Set Password")}return t.$inject=["$modalInstance","users","username"],t.prototype.valid=function(){var t;return t=!0,angular.element("#fgPassword1").removeClass("has-error"),angular.element("#fgPassword2").removeClass("has-error"),angular.element("#fgUsername").removeClass("has-error"),this.password!==this.password2&&(angular.element("#fgPassword1").addClass("has-error"),angular.element("#fgPassword2").addClass("has-error"),t=!1),this.password||(t=!1),this.set_password?t:(this.username||(angular.element("#fgUsername").addClass("has-error"),t=!1),-1!==this.users.indexOf(this.username)&&(angular.element("#fgUsername").addClass("has-error"),t=!1),t)},t.prototype.save=function(){var t={};t.username=this.username,t.password=this.password,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.AdminAddUserController=o},function(t,e,n){var i=n(28),o=function(){function t(t,e,n,i,o,s,a,r,l){this.dtUsers={},this.MinemeldAAAService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.$timeout=l,this.setupUsersTable()}return t.$inject=["toastr","MinemeldAAAService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService","$timeout"],t.prototype.reload=function(){this.dtUsers.reloadData()},t.prototype.delayedReload=function(){var t=this;this.$timeout(700).then(function(e){t.dtUsers.reloadData()})},t.prototype.removeUser=function(t){var e,n,i=this;n=this.users[t].username,e=this.ConfirmService.show("DELETE USER","Are you sure you want to delete user "+n+" ?"),e.then(function(t){i.MinemeldAAAService.deleteUser("feeds",n).then(function(t){i.toastr.success("USER "+n+" DELETED"),i.delayedReload()},function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.delayedReload()})})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.comment.modal.html",controller:i.AdminConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return n.users[t].username},comment:function(){var e;return e=null,n.users[t].attributes.comment&&(e=n.users[t].attributes.comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.users[t].attributes.comment=e:n.users[t].attributes.comment&&delete n.users[t].attributes.comment,n.MinemeldAAAService.setUserAttributes("feeds",n.users[t].username,n.users[t].attributes).then(function(t){n.delayedReload()},function(t){n.toastr.error("ERROR SAVING COMMENT: "+t.statusText),n.delayedReload()})})},t.prototype.configureTags=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.tags.modal.html",controller:i.AdminConfigureTagsController,controllerAs:"vm",bindToController:!0,resolve:{tags:function(){var e;return e=null,n.users[t].attributes.tags&&(e=n.users[t].attributes.tags),e},availableTags:this.MinemeldAAAService.getTags()},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.users[t].attributes.tags=e:n.users[t].attributes.tags&&delete n.users[t].attributes.tags,n.MinemeldAAAService.setUserAttributes("feeds",n.users[t].username,n.users[t].attributes).then(function(t){n.delayedReload()},function(t){n.toastr.error("ERROR SAVING TAGS: "+t.statusText),n.delayedReload()})})},t.prototype.setPassword=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.add.modal.html",controller:i.AdminAddUserController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return n.users[t].username},users:function(){return n.users}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.password.length&&n.MinemeldAAAService.setUserPassword("feeds",n.users[t].username,e.password).then(function(t){n.toastr.success("PASSWORD FOR USER "+e.username+" SET"),n.delayedReload()},function(t){n.toastr.error("ERROR SETTING PASSWORD: "+t.statusText),n.delayedReload()})})},t.prototype.addUser=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/admin/admin.add.modal.html",controller:i.AdminAddUserController,controllerAs:"vm",bindToController:!0,resolve:{username:function(){return void 0},users:function(){return n.users}},backdrop:"static",animation:!1}),e.result.then(function(t){t&&0!==t.password.length&&n.MinemeldAAAService.setUserPassword("feeds",t.username,t.password).then(function(e){n.toastr.success("USER "+t.username+" ADDED"),n.delayedReload()},function(t){n.toastr.error("ERROR ADDING USER: "+t.statusText),n.delayedReload()})})},t.prototype.setupUsersTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldAAAService.getUsers("feeds").then(function(e){var n=[];return null===e?n:(angular.forEach(e.users,function(t,e){n.push({username:e,attributes:t})}),t.enabled=e.enabled,n)},function(e){throw e.cancelled||t.toastr.error("ERROR LOADING USERS LIST: "+e.statusText),e}).then(function(e){return t.users=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.setPassword("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureTags("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[4],o.setAttribute("ng-click","vm.removeUser("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete user"),o.setAttribute("tooltip-popup-delay","500"),o.setAttribute("tooltip-append-to-body","1"),o.className+=" config-table-clickable",
t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("username").withTitle("USERNAME").withOption("width","15%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("PASSWORD").withOption("width","15%").notSortable().renderWith(function(t,e,n){return"<i>hidden</i>"}),this.DTColumnBuilder.newColumn("attributes").withTitle("ACCESS").renderWith(function(t,e,n){var i=[];return t&&t.tags?(angular.forEach(t.tags,function(t){i.push('<span class="label tag-minemeld">'+he.encode(t,{strict:!0})+"</span>")}),i.join(" ")):""}),this.DTColumnBuilder.newColumn("attributes").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t&&t.comment?he.encode(t.comment,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t}();e.AdminFUsersController=o},function(t,e){var n=function(){function t(t,e,n,i,o,s,a){var r=this;this.availableTypes=["IPv4","IPv6","URL","domain"],this.availableNodes={IPv4:[],domain:[],URL:[],IPv6:[]},this.toastr=n,this.$scope=e,this.MinemeldStatusService=i,this.MinemeldConfigService=s,this.$rootScope=o,this.$state=a,this.indicator=t.indicator,this.$type=t.indicatorType,this.MinemeldStatusService.getConfig().then(function(t){var e=t.nodes,n=[];angular.forEach(e,function(t,e){var i;if(void 0!==t.prototype)return i=t.prototype.split(".")[1],i.startsWith("listIPv4")?(n.push(e),void r.availableNodes.IPv4.push(e)):i.startsWith("listIPv6")?(n.push(e),void r.availableNodes.IPv6.push(e)):i.startsWith("listURL")?(n.push(e),void r.availableNodes.URL.push(e)):i.startsWith("listDomain")?(n.push(e),void r.availableNodes.domain.push(e)):void 0}),r.$type?r.currAvailableNodes=r.availableNodes[r.$type]:r.currAvailableNodes=n},function(t){r.toastr.error("ERROR RETRIEVING MINEMELD RUNNING CONFIG: "+t.statusText)})}return t.$inject=["$stateParams","$scope","toastr","MinemeldStatusService","$rootScope","MinemeldConfigService","$state"],t.prototype.typeSelected=function(t,e){var n,i=this;this.currAvailableNodes=this.availableNodes[t],this.nodes&&(n=this.nodes.filter(function(t){return i.currAvailableNodes.indexOf(t)>-1}),this.nodes=n)},t.prototype.save=function(){var t=this,e={indicator:this.indicator,type:this.$type};this.share_level&&(e.share_level=this.share_level),this.comment&&(e.comment=this.comment),angular.forEach(this.nodes,function(n){var i=n+"_indicators";t.MinemeldConfigService.appendDataFile(i,e,n).then(function(e){t.toastr.success("INDICATOR ADDED TO "+n)},function(e){t.toastr.error("ERROR APPENDING INDICATOR TO NODE "+n+": "+e.statusText)})}),this.$state.go("nodes")},t.prototype.back=function(){this.$rootScope.mmBack("nodes")},t.prototype.valid=function(){return this.indicator?this.validateIndicator()?(angular.element("#fgIndicator").removeClass("has-error"),this.$type&&this.nodes&&0!==this.nodes.length?!0:!1):(angular.element("#fgIndicator").addClass("has-error"),!1):!1},t.prototype.validateIPv4=function(t){var e,n,i,o;if(e=t.split("."),4!==e.length)return-1;for(o=0,n=e.length-1;n>=0;n--){if(i=parseInt(e[n],10),isNaN(i))return-1;if(0>i||i>255)return-1;o+=i*(1<<8*n)}return o},t.prototype.validateIndicator=function(){var t,e,n,i,o;if(!this.$type||"IPv4"!==this.$type)return!0;if(t=this.indicator.split("-"),t.length>2)return!1;if(2===t.length)return i=this.validateIPv4(t[0]),0>i?!1:(o=this.validateIPv4(t[1]),0>o?!1:o>=i);if(e=t[0].split("/"),e.length>2)return!1;if(2===e.length){if(n=parseInt(e[1],10),isNaN(n))return!1;if(0>n||n>32)return!1}return this.validateIPv4(e[0])>0},t}();e.IndicatorAddController=n},function(t,e){var n=function(){function t(t,e,n,i,o){this.showMore=!0,this.logs=[],this.lastScroll=0,this.MinemeldTracedService=t,this.$scope=e,this.$modal=n,this.$state=i,this.query=o.q,this.$window=angular.element(window),this.$table=angular.element("#logs-table"),this.boundResizeTable=this.resizeTable.bind(this),this.$window.resize(this.boundResizeTable),this.$window.resize(),this.boundScrollHandler=this.tableScrollHandler.bind(this),this.$table.on("mousewheel",this.boundScrollHandler),this.resetMessages(),this.$scope.$on("$destroy",this.destroy.bind(this)),this.doQuery("bottom")}return t.$inject=["MinemeldTracedService","$scope","$modal","$state","$stateParams"],t.prototype.submitQuery=function(){this.runningQuery||(this.logs.splice(0,this.logs.length),this.doQuery("bottom"))},t.prototype.cancelQuery=function(){this.runningQuery&&(this.MinemeldTracedService.closeAll(),this.showMore=!0,this.resetQuery())},t.prototype.addToQuery=function(t){var e;this.query||(this.query=""),e=t.target.attributes["data-qclass"].value,this.query+=" "+e+":"+t.target.textContent,t.stopPropagation()},t.prototype.viewEntry=function(t){var e=this;this.$modal.open({templateUrl:"app/logs/logentry.view.modal.html",controller:i,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg",resolve:{index:function(){return t},entries:function(){return e.logs}}})},t.prototype.resetMessages=function(){this.msgBottom=void 0,this.msgTop=void 0},t.prototype.resetQuery=function(){this.runningQuery=void 0,this.resetMessages()},t.prototype.resizeTable=function(){var t,e;e=this.$window.height(),t=e-this.$table.offset().top-20,this.$table.outerHeight(t)},t.prototype.doQuery=function(t){var e,n,i,o;this.runningQuery||("bottom"===t?(this.msgBottom="Loading ...",this.showLoader=!0,this.msgTop=void 0,this.logs.length>0?(n=this.logs[this.logs.length-1].timestamp,i=this.logs[this.logs.length-1].counter):(n=(new Date).getTime(),i=0),o=100):(this.msgTop="Loading ...",this.showLoader=!0,this.msgBottom=void 0,this.logs.splice(0,this.logs.length),n=(new Date).getTime(),i=0,o=200),e=this.MinemeldTracedService.generateQueryID(),this.runningQuery={qid:e,direction:t,numLinesRequested:o,numLinesReceived:0},this.MinemeldTracedService.query(e,{query:this.query,timestamp:n,counter:i,numLines:o,ondata:this.queryData.bind(this),onerror:this.queryError.bind(this)}))},t.prototype.tableScrollHandler=function(t){var e,n,i;return i=(new Date).getTime(),e=this.$table.scrollTop()/this.$table[0].scrollHeight,this.lastScrollTime&&i-this.lastScrollTime<200?(this.lastScrollTime=i,void(this.lastScroll=e)):(t.originalEvent.wheelDelta?n=t.originalEvent.wheelDelta:t.originalEvent.detail&&(n=t.originalEvent.detail),e!==this.lastScroll?(this.lastScrollTime=i,void(this.lastScroll=e)):(e>.8&&0>n&&this.showMore?this.doQuery("bottom"):0===e&&n>0&&this.doQuery("top"),this.lastScroll=e,void(this.lastScrollTime=i)))},t.prototype.queryData=function(t,e){var n,i,o,s=this;return e.msg?(n=e.msg,"<EOQ>"===e.msg?void this.$scope.$apply(function(){s.showMore=s.runningQuery.numLinesReceived===s.runningQuery.numLinesRequested,s.resetQuery()}):void("bottom"===this.runningQuery.direction?this.$scope.$apply(function(){s.msgBottom=n,s.showLoader=-1!==n.indexOf("ing")}):this.$scope.$apply(function(){s.msgTop=n,s.showLoader=-1!==n.indexOf("ing")}))):(e.parsed=JSON.parse(e.log),"bottom"===this.runningQuery.direction?(this.logs.push(e),this.logs.length>200&&(this.logs.shift(),i=this.$table.children(":first").outerHeight(),o=this.$table.scrollTop(),this.$table.scrollTop(o-i))):(this.logs.push(e),this.logs.length>200&&this.logs.pop()),void(this.runningQuery.numLinesReceived+=1))},t.prototype.queryError=function(t,e){this.runningQuery.qid===t&&this.resetQuery()},t.prototype.destroy=function(){this.MinemeldTracedService.closeAll(),this.$window.off("resize",this.boundResizeTable),this.$table.off("scroll",this.boundScrollHandler)},t}();e.LogsController=n;var i=function(){function t(t,e,n,i){this.$modalInstance=t,this.$scope=e,this.entries=n,this.boundKeyUp=this.keyUp.bind(this),angular.element(document).on("keyup",this.boundKeyUp),this.setIndex(i)}return t.$inject=["$modalInstance","$scope","entries","index"],t.prototype.editorLoaded=function(t){t.setShowInvisibles(!1),t.$blockScrolling=1/0,angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")})},t.prototype.setIndex=function(t){this.index=t,this.curEntry=this.entries[t],this.curEntry.parsed.log.value?this.curLogJSON=JSON.stringify(this.curEntry.parsed.log.value,null,"    "):this.curLogJSON=""},t.prototype.setNext=function(){this.index!==this.entries.length-1&&this.setIndex(this.index+1)},t.prototype.setPrev=function(){0!==this.index&&this.setIndex(this.index-1)},t.prototype.keyUp=function(t){var e=this;if("ace_text-input"!==document.activeElement.className)return 39===t.keyCode?void this.$scope.$apply(function(){e.setNext()}):37===t.keyCode?void this.$scope.$apply(function(){e.setPrev()}):void 0},t.prototype.dismiss=function(){angular.element(document).off("keyup",this.boundKeyUp),this.$modalInstance.dismiss()},t}()},function(t,e){var n=function(){function t(t,e,n){this.checking=!1,this.toastr=n,this.$state=t,this.MineMeldAPIService=e}return t.$inject=["$state","MineMeldAPIService","toastr"],t.prototype.submit=function(){var t=this;this.checking=!0,this.MineMeldAPIService.logIn(this.username,this.password).then(function(e){t.checking=!1,t.$state.go("dashboard")},function(e){t.checking=!1,t.toastr.error("ERROR CHECKING CREDENTIALS: "+e.statusText),t.password=""})},t}();e.LoginController=n},function(t,e){var n=function(){function t(t,e,n,i,o){this.outstanding=[],this.loggedIn=!1,this.$resource=t,this.$httpParamSerializer=n,this.$state=e,this.$cookies=i,this.$rootScope=o,i.get("mm-ec-login")&&(this.loggedIn=!0)}return t.$inject=["$resource","$state","$httpParamSerializer","$cookies","$rootScope"],t.prototype.getAPIResource=function(t,e,n,i){var o,s=this;return"undefined"==typeof i&&(i=!0),angular.forEach(n,function(t,e){t.cancellable=!0,t.timeout=45e3,"undefined"==typeof t.headers&&(t.headers={}),t.headers["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",t.headers["Cache-Control"]="no-cache",t.headers.Pragma="no-cache","undefined"==typeof t.params&&(t.params={}),t.params._=function(){return""+Math.floor(Date.now()/1e3)}}),o=this.$resource(t,e,n),angular.forEach(n,function(t,e){var n=o[e];o[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var o,a;return a=n.apply(null,t),o={resource:a,cancellable:i,cancelled:!1,resolved:!1},a.$promise.then(function(){s.setLoggedIn(!0)},function(t){if(401===t.status)throw s.$state.go("login"),s.setLoggedIn(!1),t;throw o.cancelled?t.cancelled=!0:-1===t.status&&(t.statusText="Timeout"),t})["finally"](function(){o.resolved=!0}),s.outstanding=s.outstanding.filter(function(t){return!t.resolved}),s.outstanding.push(o),a}}),o},t.prototype.logIn=function(t,e){var n,i=this,o=this;return this.setLoggedIn(!1),n=this.getAPIResource("/login",{},{post:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(t){return o.$httpParamSerializer(t)}}}),n.post({},{u:t,p:e}).$promise.then(function(){i.setLoggedIn(!0)})},t.prototype.logOut=function(){var t,e=this;return t=this.$resource("/logout",{},{get:{method:"GET"}}),t.get().$promise["finally"](function(){e.setLoggedIn(!1)})},t.prototype.isLoggedIn=function(){return this.loggedIn},t.prototype.cancelAPICalls=function(){this.outstanding.forEach(function(t){!t.resolved&&t.cancellable&&(t.cancelled=!0,t.resource.$cancelRequest())})},t.prototype.onLogin=function(t){this.$rootScope.$on("mm-login",t)},t.prototype.onLogout=function(t){this.$rootScope.$on("mm-logout",t)},t.prototype.setLoggedIn=function(t){t!=this.loggedIn&&(this.loggedIn=t,t?(this.$cookies.put("mm-ec-login","1"),this.$rootScope.$emit("mm-login")):(this.$cookies.remove("mm-ec-login"),this.$cookies.remove("mm-session"),this.$rootScope.$emit("mm-logout")))},t}();e.MineMeldAPIService=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a){this.authorizationSet=!1,this.NODE_STATES=["READY","CONNECTED","REBUILDING","RESET","INIT","STARTED","CHECKPOINT","IDLE","STOPPED"],this.$state=t,this.MineMeldAPIService=e,this.MinemeldEventsService=n,this.toastr=i,this.$interval=o,this.$rootScope=s,this.$q=a,this.MineMeldAPIService.onLogin(this.initStatusMonitor.bind(this)),this.MineMeldAPIService.onLogout(this.destroyStatusMonitor.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.initStatusMonitor()}return t.$inject=["$state","MineMeldAPIService","MinemeldEventsService","toastr","$interval","$rootScope","$q"],t.prototype.initStatusMonitor=function(){this.statusSubscription||(this.currentStatusDeferred=this.$q.defer(),this.updateFullStatus())},t.prototype.destroyStatusMonitor=function(){this.statusUpdatePromise&&this.$interval.cancel(this.statusUpdatePromise),"undefined"!=typeof this.statusSubscription&&(this.MinemeldEventsService.unsubscribe(this.statusSubscription),this.statusSubscription=void 0,this.currentStatus={},this.statusUpdated=void 0)},t.prototype.getStatus=function(){return"undefined"==typeof this.currentStatus?this.currentStatusDeferred.promise:this.$q.when(this.currentStatus)},t.prototype.getSystem=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/status/system",{},{get:{method:"GET"}}),t.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.getMinemeld=function(t){var e;return"undefined"==typeof t&&(t=!0),e=this.MineMeldAPIService.getAPIResource("/status/minemeld",{},{get:{method:"GET"}},t),e.get().$promise.then(function(t){return"result"in t?t:{result:new Array,timestamp:0}})},t.prototype.getConfig=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/status/config",{},{get:{method:"GET"}}),t.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.getInfo=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/status/info",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return"result"in t?t.result:{version:null,sns:!1}})},t.prototype.mkwish=function(t,e){var n,i={email:t,suggestion:e};return n=this.MineMeldAPIService.getAPIResource("/status/mkwish",{},{post:{method:"POST"}},!1),n.post({},JSON.stringify(i)).$promise.then(function(t){return"result"in t?t.result:"ok"})},t.prototype.hup=function(t){var e,n={nodename:t};return e=this.MineMeldAPIService.getAPIResource("/status/:nodename/hup",{},{get:{method:"GET"}},!1),e.get(n).$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.signal=function(t,e,n){var i,o={nodename:t,signal:e};return i=this.MineMeldAPIService.getAPIResource("/status/:nodename/signal/:signal",{},{post:{method:"POST"}},!1),i.post(o,JSON.stringify(n)).$promise.then(function(t){return"result"in t?t.result:"ok"})},t.prototype.generateLocalBackup=function(t){var e,n={p:t};return e=this.MineMeldAPIService.getAPIResource("/status/backup",{},{post:{method:"POST"}},!1),e.post({},JSON.stringify(n)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.restoreLocalBackup=function(t,e,n,i,o,s){var a,r={p:e,configuration:n,feedsAAA:i,localPrototypes:o,localCertificates:s};return a=this.MineMeldAPIService.getAPIResource("/status/backup/import/:backup_id/restore",{},{post:{method:"POST"}},!1),a.post({backup_id:t},JSON.stringify(r)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.onEventsMessage=function(t,e,n){var i;if("undefined"!=typeof n.source&&"undefined"!=typeof n.status&&"undefined"!=typeof n.timestamp){if("<minemeld-engine>"===n.source)return void this.$rootScope.$broadcast("mm-inner-engine-status-changed",n.status);if(n.timestamp<this.statusUpdated)return void console.log("old message, ignored");i=n.status,i.name=n.source,this.currentStatus[n.source]=i,this.statusUpdated=n.timestamp,this.$rootScope.$broadcast("mm-status-changed")}},t.prototype.onEventsOpen=function(t,e,n){},t.prototype.onEventsError=function(t,e,n){console.log("Error in status event stream:",n)},t.prototype.updateFullStatus=function(){var t=this;this.getMinemeld(!1).then(function(e){var n,i,o=!t.statusUpdated;n=e.result,i=e.timestamp,t.currentStatus={},angular.forEach(n,function(e){t.currentStatus[e.name]=e}),t.statusUpdated=i,t.$rootScope.$broadcast("mm-status-changed"),o&&t.currentStatusDeferred.resolve(t.currentStatus),"undefined"==typeof t.statusSubscription&&(t.statusSubscription=t.MinemeldEventsService.subscribeStatusEvents({onopen:t.onEventsOpen.bind(t),onerror:t.onEventsError.bind(t),onmessage:t.onEventsMessage.bind(t)}))},function(t){throw console.log("ERROR RETRIEVING MINEMELD STATUS: "+t.statusText),t})["finally"](function(){t.statusUpdatePromise=t.$interval(t.updateFullStatus.bind(t),6e4,1)})},t}();e.MinemeldStatusService=n},function(t,e){var n=function(){function t(t,e){this.$state=t,this.MineMeldAPIService=e}return t.$inject=["$state","MineMeldAPIService"],t.prototype.getNodeType=function(t,e){var n,i={nodetype:t};return e&&(e.cf&&(i.cf=e.cf),e.dt&&(i.dt=e.dt),e.r&&(i.r=e.r)),n=this.MineMeldAPIService.getAPIResource("/metrics/minemeld/:nodetype",{},{get:{method:"GET"}}),n.get(i).$promise.then(function(t){return"result"in t?t.result:[]})},t.prototype.getNode=function(t,e){var n,i={nodename:t};return e&&(e.cf&&(i.cf=e.cf),e.dt&&(i.dt=e.dt),e.r&&(i.r=e.r)),n=this.MineMeldAPIService.getAPIResource("/metrics/:nodename",{},{get:{method:"GET"}}),n.get(i).$promise.then(function(t){return"result"in t?t.result:[]})},t.prototype.getMinemeld=function(t){var e,n={};return t&&(t.cf&&(n.cf=t.cf),t.dt&&(n.dt=t.dt),t.r&&(n.r=t.r)),e=this.MineMeldAPIService.getAPIResource("/metrics/minemeld",{},{get:{method:"GET"}}),e.get(n).$promise.then(function(t){return"result"in t?t.result:[]})},t}();e.MinemeldMetricsService=n},function(t,e){var n=function(){function t(t,e,n){this.$state=t,this.$q=e,this.MineMeldAPIService=n,this.MineMeldAPIService.onLogin(this.fillCache.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.fillCache(),this.MineMeldAPIService.onLogout(this.emptyCache.bind(this))}return t.$inject=["$state","$q","MineMeldAPIService"],t.prototype.getPrototypeLibraries=function(t){var e,n=this;return"undefined"==typeof t&&(t=!0),this.prototypesDict?(e=this.$q.defer(),e.resolve(this.prototypesDict),e.promise):this.getPrototypes(t).then(function(t){return n.prototypesDict})},t.prototype.getPrototypeLibrary=function(t){var e,n=this;return this.prototypesDict?(e=this.$q.defer(),e.resolve(this.prototypesDict[t]),e.promise):this.getPrototypes().then(function(e){return n.prototypesDict[t]})},t.prototype.getPrototype=function(t){var e,n,i=this;return n=t.split("."),this.prototypesDict?(e=this.$q.defer(),this.prototypesDict[n[0]]&&this.prototypesDict[n[0]].prototypes[n[1]]?e.resolve(this.prototypesDict[n[0]].prototypes[n[1]]):e.resolve(void 0),e.promise):this.getPrototypes().then(function(t){return void(i.prototypesDict[n[0]]&&i.prototypesDict[n[0]].prototypes[n[1]]?e.resolve(i.prototypesDict[n[0]].prototypes[n[1]]):e.resolve(void 0))})},t.prototype.getPrototypeYaml=function(t){var e,n;return n=this.MineMeldAPIService.getAPIResource("/prototype/:prototypename",{},{get:{method:"GET"}}),e={prototypename:t},n.get(e).$promise.then(function(t){return"result"in t?t.result:{}})},t.prototype.setPrototypeYaml=function(t,e,n,i){var o,s;return o=this.MineMeldAPIService.getAPIResource("/prototype/:prototypename",{prototypename:t},{post:{method:"POST"}},!1),s=i?angular.copy(i):{},s["class"]=e,s.config=n,o.post({},JSON.stringify(s)).$promise.then(function(t){return"result"in t?t.result:{}})},t.prototype.deletePrototype=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/prototype/:prototypename",{prototypename:t},{"delete":{method:"DELETE"}},!1),e["delete"]({}).$promise.then(function(t){return"result"in t?t.result:{}})},t.prototype.invalidateCache=function(){this.prototypesDict=void 0},t.prototype.getPrototypes=function(t){var e,n=this;return"undefined"==typeof t&&(t=!0),e=this.MineMeldAPIService.getAPIResource("/prototype",{},{get:{method:"GET"}},t),e.get().$promise.then(function(t){return n.prototypesDict=t.result,n.prototypesDict})},t.prototype.fillCache=function(){this.getPrototypes(!1)},t.prototype.emptyCache=function(){this.prototypesDict=void 0},t}();e.MinemeldPrototypeService=n},function(t,e){var n=function(){function t(t,e,n){this.deletedNode={name:"",properties:{},deleted:!0,version:""},this.$state=t,this.$q=e,this.MineMeldAPIService=n,this.MineMeldAPIService.onLogout(this.emptyCache.bind(this))}return t.$inject=["$state","$q","MineMeldAPIService"],t.prototype.runningConfig=function(t){var e;return"undefined"==typeof t&&(t=!0),e=this.MineMeldAPIService.getAPIResource("/config/running",{},{get:{method:"GET"}},t),e.get().$promise.then(function(t){return t.result})},t.prototype.committedConfig=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/config/committed",{},{get:{method:"GET"}}),t.get().$promise.then(function(t){return t.result})},t.prototype.candidateConfig=function(){return this.nodesConfig?this.$q.when(this.nodesConfig):this.refresh()},t.prototype.refresh=function(){var t,e=this;return t=this.MineMeldAPIService.getAPIResource("/config/full",{},{get:{method:"GET"}}),t.get().$promise.then(function(t){var n;return n=t.result.nodes.map(function(t){return null===t?e.deletedNode:t}),delete t.result.nodes,e.configInfo=t.result,e.changed=e.configInfo.changed,e.nodesConfig=n,e.nodesConfig})},t.prototype.reload=function(t){var e,n=this,i={};return e=this.MineMeldAPIService.getAPIResource("/config/reload",{},{get:{method:"GET"}},!1),t&&(i.c=t),e.get(i).$promise.then(function(t){return n.refresh()})},t.prototype.commit=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/config/commit",{},{post:{method:"POST"}},!1),t.post({},JSON.stringify({version:this.configInfo.version})).$promise},t.prototype.saveNodeConfig=function(t){var e,n=this;return e=this.MineMeldAPIService.getAPIResource("/config/node/:noden",{noden:t},{put:{method:"PUT"}},!1),e.put({},JSON.stringify(this.nodesConfig[t])).$promise.then(function(t){return t.result}).then(function(e){n.nodesConfig[t].version=e,n.changed=!0})},t.prototype.addNode=function(t,e){var n,i;return i={name:t,properties:e,version:this.configInfo.version},n=this.MineMeldAPIService.getAPIResource("/config/node",{},{post:{method:"POST"}},!1),n.post({},JSON.stringify(i)).$promise.then(function(t){return t.result})},t.prototype.deleteNode=function(t){var e,n=this;return e=this.MineMeldAPIService.getAPIResource("/config/node/:noden",{noden:t},{del:{method:"DELETE"}},!1),e.del({version:this.nodesConfig[t].version}).$promise.then(function(t){return t.result}).then(function(t){n.changed=!0})},t.prototype.getDataFile=function(t,e){var n,i={};return n=this.MineMeldAPIService.getAPIResource("/config/data/:datafilename",{datafilename:t},{get:{method:"GET"}}),e&&(i.t=e),n.get(i).$promise.then(function(t){return t.result},function(t){if(400===t.status)return null;throw t})},t.prototype.saveDataFile=function(t,e,n){var i,o={};return i=this.MineMeldAPIService.getAPIResource("/config/data/:datafilename",{datafilename:t},{put:{method:"PUT"}},!1),n&&(o.h=n),i.put(o,JSON.stringify(e)).$promise.then(function(t){return t.result})},t.prototype.appendDataFile=function(t,e,n,i){var o,s={};return o=this.MineMeldAPIService.getAPIResource("/config/data/:datafilename/append",{datafilename:t},{post:{method:"POST"}},!1),n&&(s.h=n),i&&(s.t=i),o.post(s,JSON.stringify(e)).$promise.then(function(t){return t.result})},t.prototype.emptyCache=function(){this.nodesConfig=void 0,this.configInfo=void 0,this.changed=void 0},t}();e.MinemeldConfigService=n},function(t,e){var n=function(){function t(t,e,n,i){this.$state=e,this.$q=n,this.MineMeldAPIService=i}return t.$inject=["$resource","$state","$q","MineMeldAPIService"],t.prototype.syslogMinerRule=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/validate/syslogminerrule",{},{post:{method:"POST"}}),e.post({},JSON.stringify(t)).$promise.then(function(t){return t.result})},t}();e.MinemeldValidateService=n},function(t,e){var n=function(){function t(t,e,n,i){this.nodeClasses={},this.defaultClass={tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]},this.mmstatus=t,this.$resource=e,this.$q=n,this.$rootScope=i}return t.$inject=["MinemeldStatusService","$resource","$q","$rootScope"],t.prototype.registerClass=function(t,e){this.nodeClasses[t]=e},t.prototype.resolveNode=function(t){var e=this;return this.mmstatus.getStatus().then(function(n){var i=n[t];return e.nodeClasses.hasOwnProperty(i["class"])?e.nodeClasses[i["class"]]:e.defaultClass})},t}();e.NodeDetailResolver=n},function(t,e){var n=function(){function t(t,e){this.$state=t,this.MineMeldAPIService=e}return t.$inject=["$state","MineMeldAPIService"],t.prototype.getStatus=function(t){var e;return"undefined"==typeof t&&(t=!0),e=this.MineMeldAPIService.getAPIResource("/supervisor",{},{get:{method:"GET"}},t),e.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.startEngine=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/supervisor/minemeld-engine/start",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.stopEngine=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/supervisor/minemeld-engine/stop",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.restartEngine=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/supervisor/minemeld-engine/restart",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.hupAPI=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/supervisor/minemeld-web/hup",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return t.result?t.result:void 0})},t}();e.MinemeldSupervisorService=n},function(t,e){var n=function(){function t(t,e){this.MineMeldAPIService=e}return t.$inject=["$state","MineMeldAPIService"],t.prototype.list=function(t){var e;return"undefined"==typeof t&&(t=!0),e=this.MineMeldAPIService.getAPIResource("/extensions",{},{get:{method:"GET"}},t),e.get().$promise.then(function(t){return"result"in t?t.result:new Array})},t.prototype.activate=function(t,e,n){var i,o={extension:t},s={version:e,path:n};return i=this.MineMeldAPIService.getAPIResource("/extensions/:extension/activate",{},{post:{method:"POST"}},!1),i.post(o,JSON.stringify(s)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.deactivate=function(t,e,n){var i,o={extension:t},s={version:e,path:n};return i=this.MineMeldAPIService.getAPIResource("/extensions/:extension/deactivate",{},{post:{method:"POST"}},!1),i.post(o,JSON.stringify(s)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.uninstall=function(t,e,n){var i,o={extension:t},s={version:e,path:n};return i=this.MineMeldAPIService.getAPIResource("/extensions/:extension/uninstall",{},{post:{method:"POST"}},!1),i.post(o,JSON.stringify(s)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.gitInstall=function(t,e){var n,i={ep:t,ref:e};return n=this.MineMeldAPIService.getAPIResource("/extensions/git-install",{},{post:{method:"POST"}},!1),n.post({},JSON.stringify(i)).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.gitRefs=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/extensions/git-refs",{},{get:{method:"GET"}}),e.get({ep:t}).$promise.then(function(t){return"result"in t?t.result:[]})},t}();e.MineMeldExtensionsService=n},function(t,e){var n=function(){function t(t){this.$modal=t}return t.prototype.show=function(t,e){var n;return n=this.$modal.open({templateUrl:"app/services/confirm.html",controller:i,controllerAs:"vm",bindToController:!0,resolve:{title:function(){return t},msg:function(){return e}},backdrop:"static",animation:!1}),n.result},t.$inject=["$modal"],t}();e.ConfirmService=n;var i=function(){function t(t,e,n){this.$modalInstance=t,this.title=e,this.msg=n}return t.$inject=["$modalInstance","title","msg"],t.prototype.ok=function(){this.$modalInstance.close("ok")},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}()},function(t,e){var n=function(){function t(t,e){this.authorizationSet=!1,this.subscriptions=[],this.last_id=-1,this.event_sources={},this.$state=t,this.MinemeldAPIService=e}return t.$inject=["$state","MineMeldAPIService"],t.prototype.subscribeQueryEvents=function(t,e){this.last_id+=1;var n={subType:"query",topic:t,callbacks:e,_id:this.last_id};return this.subscriptions.push(n),this.createEventSource(n.subType,n.topic),n._id},t.prototype.subscribeStatusEvents=function(t){this.last_id+=1;var e={subType:"status",topic:void 0,callbacks:t,_id:this.last_id};return this.subscriptions.push(e),this.createEventSource(e.subType,void 0,!0),e._id},t.prototype.unsubscribe=function(t){for(var e,n=this.subscriptions.length;n--;)if(this.subscriptions[n]._id===t){e=this.subscriptions[n],this.subscriptions.splice(n,1),this.deleteEventSource(e.subType,e.topic);break}},t.prototype.onMessage=function(t,e,n){"ok"!==n.data&&"ko"!==n.data&&"ping"!=n.data&&angular.forEach(this.subscriptions,function(i){i.subType===t&&i.topic===e&&i.callbacks.onmessage&&i.callbacks.onmessage(t,e,JSON.parse(n.data))})},t.prototype.onOpen=function(t,e,n){angular.forEach(this.subscriptions,function(i){i.subType===t&&i.topic===e&&i.callbacks.onopen&&i.callbacks.onopen(t,e,n)})},t.prototype.onError=function(t,e,n){var i;if(angular.forEach(this.subscriptions,function(i){i.subType===t&&i.topic===e&&i.callbacks.onerror&&i.callbacks.onerror(t,e,n)}),"undefined"!=typeof n.data){if(-1!==n.data.indexOf("401"))return this.MinemeldAPIService.logOut(),this.deleteEventSource(t,e),void this.$state.go("login");if(-1!==n.data.indexOf("Reconnecting"))return;i=t,e&&(i+="/"+e),this.event_sources[i].reconnect&&(console.log("ES: Reconnect on error"),this.deleteEventSource(t,e),this.createEventSource(t,e,!0))}},t.prototype.createEventSource=function(t,e,n){var i,o,s=this,a=t;"undefined"==typeof n&&(n=!1),"undefined"!=typeof e&&(a=a+"/"+e),a in this.event_sources||(o={},o.Accept="text/event-stream",o["Cache-Control"]="no-cache",o["X-Requested-With"]="XMLHttpRequest",i=new EventSource("/status/events/"+a,{getArgs:null}),i.onmessage=function(n){s.onMessage(t,e,n)},i.onopen=function(n){s.onOpen(t,e,n)},i.onerror=function(n){s.onError(t,e,n)},this.event_sources[a]={es:i,reconnect:n})},t.prototype.deleteEventSource=function(t,e){var n=0,i=t;"undefined"!=typeof e&&(i=i+"/"+e),i in this.event_sources&&(angular.forEach(this.subscriptions,function(i){i.topic===e&&i.subType===t&&(n+=1)}),0===n&&(this.event_sources[i].es.close(),delete this.event_sources[i]))},t}();e.MinemeldEventsService=n},function(t,e){var n=function(){function t(t,e,n){this.$state=t,this.MineMeldAPIService=e,this.MinemeldEventsService=n,this.queries={}}return t.$inject=["$state","MineMeldAPIService","MinemeldEventsService"],t.prototype.query=function(t,e){var n;this.queries[t]=e,this.queries[t].queryStarted=!1,n=this.MinemeldEventsService.subscribeQueryEvents(t,{onopen:this.subscriptionOpen.bind(this),onmessage:this.queryMessage.bind(this),onerror:this.queryError.bind(this)}),this.queries[t].subscriptionID=n},t.prototype.closeAll=function(){var t=this;angular.forEach(this.queries,function(e,n){t.killQuery(n),t.MinemeldEventsService.unsubscribe(e.subscriptionID)}),this.queries={}},t.prototype.generateQueryID=function(){var t;for(t=this.generateUUID();t in this.queries;)t=this.generateUUID();return t},t.prototype.purgeAll=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/traced/purge-all",{},{get:{method:"GET"}},!1),t.get({}).$promise.then(function(t){
return"result"in t?t.result:void 0})},t.prototype.sendQuery=function(t,e){var n,i;return n={uuid:t},e&&(e.timestamp&&(n.ts=e.timestamp),e.counter&&(n.c=e.counter),e.numLines&&(n.nl=e.numLines),e.query&&(n.q=e.query)),i=this.MineMeldAPIService.getAPIResource("/traced/query",{},{get:{method:"GET"}}),i.get(n).$promise},t.prototype.killQuery=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/traced/query/"+t+"/kill",{},{get:{method:"GET"}},!1),e.get().$promise},t.prototype.subscriptionOpen=function(t,e,n){var i,o=this;"query"===t&&(i=this.queries[e],i&&(i.queryStarted||(i.queryStarted=!0,this.sendQuery(e,i)["catch"](function(t){o.MinemeldEventsService.unsubscribe(i.subscriptionID),delete o.queries[e],i.onerror&&i.onerror(e,t)}))))},t.prototype.queryMessage=function(t,e,n){var i;"query"===t&&(i=this.queries[e],i&&(i.ondata&&i.ondata(e,n),n.msg&&"<EOQ>"===n.msg&&(this.MinemeldEventsService.unsubscribe(i.subscriptionID),delete this.queries[e])))},t.prototype.queryError=function(t,e,n){var i;"query"===t&&(i=this.queries[e],i&&i.onerror&&i.onerror(e,n))},t.prototype.generateUUID=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),e=e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},t}();e.MinemeldTracedService=n},function(t,e){var n=function(){function t(t){this.$timeout=t}return t.$inject=["$timeout"],t.prototype.throttle=function(t,e){var n,i=0,o=!1,s=this,a=function(){i=(new Date).getTime(),n=null,t()},r=function(){var r=(new Date).getTime(),l=e-(r-i);o||(0>=l||l>e?(n&&(s.$timeout.cancel(n),n=null),i=r,t()):n||(n=s.$timeout(a,l)))};return r.cancel=function(){o=!0,n&&s.$timeout.cancel(n),i=0,n=null},r},t}();e.ThrottleService=n},function(t,e){var n=function(){function t(t,e,n){this.$state=t,this.$q=e,this.MineMeldAPIService=n}return t.$inject=["$state","$q","MineMeldAPIService"],t.prototype.getCurrentUser=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/aaa/users/current",{},{get:{method:"GET"}},!1),t.get().$promise.then(function(t){return t.result})},t.prototype.getUsers=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/aaa/users/:subsystem",{subsystem:t},{get:{method:"GET"}}),e.get().$promise.then(function(t){return t.result})},t.prototype.setUserPassword=function(t,e,n){var i;return i=this.MineMeldAPIService.getAPIResource("/aaa/users/:subsystem/:username",{subsystem:t,username:e},{put:{method:"PUT"}},!1),i.put({},JSON.stringify({password:n})).$promise.then(function(t){return t.result})},t.prototype.setUserAttributes=function(t,e,n){var i;return i=this.MineMeldAPIService.getAPIResource("/aaa/users/:subsystem/:username/attributes",{subsystem:t,username:e},{post:{method:"POST"}},!1),i.post({},JSON.stringify(n)).$promise.then(function(t){return t.result})},t.prototype.deleteUser=function(t,e){var n;return n=this.MineMeldAPIService.getAPIResource("/aaa/users/:subsystem/:username",{subsystem:t,username:e},{del:{method:"DELETE"}},!1),n.del({}).$promise.then(function(t){return t.result})},t.prototype.getFeeds=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/aaa/feeds",{},{get:{method:"GET"}}),t.get().$promise.then(function(t){return t.result})},t.prototype.setFeedAttributes=function(t,e){var n;return n=this.MineMeldAPIService.getAPIResource("/aaa/feeds/:feed/attributes",{feed:t},{post:{method:"POST"}},!1),n.post({},JSON.stringify(e)).$promise.then(function(t){return t.result})},t.prototype.deleteFeed=function(t){var e;return e=this.MineMeldAPIService.getAPIResource("/aaa/feeds/:feed",{feed:t},{del:{method:"DELETE"}},!1),e.del({}).$promise.then(function(t){return t.result})},t.prototype.getTags=function(){var t;return t=this.MineMeldAPIService.getAPIResource("/aaa/tags",{},{get:{method:"GET"}}),t.get({}).$promise.then(function(t){return t.result})},t}();e.MinemeldAAAService=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a){this.MineMeldAPIService=e,this.MinemeldEventsService=n,this.MinemeldSupervisorService=t,this.toastr=i,this.$interval=o,this.$rootScope=s,this.$q=a,this.currentStatusDeferred=this.$q.defer(),this.MineMeldAPIService.onLogin(this.initStatusMonitor.bind(this)),this.MineMeldAPIService.onLogout(this.destroyStatusMonitor.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.initStatusMonitor()}return t.$inject=["MinemeldSupervisorService","MineMeldAPIService","MinemeldEventsService","toastr","$interval","$rootScope","$q"],t.prototype.getStatus=function(){return this.currentStatus?this.$q.when(this.currentStatus):this.currentStatusDeferred.promise},t.prototype.initStatusMonitor=function(){this.statusSubscription||this.updateEngineStatus()},t.prototype.destroyStatusMonitor=function(){this.statusSubscription&&(this.statusSubscription(),this.statusSubscription=void 0),this.statusUpdatePromise&&this.$interval.cancel(this.statusUpdatePromise),this.currentStatus=void 0},t.prototype.changeListener=function(t,e){var n;n=this.currentStatus.statename!=e,this.currentStatus.statename=e,n&&this.$rootScope.$broadcast("mm-engine-status-changed")},t.prototype.updateEngineStatus=function(){var t=this;this.MinemeldSupervisorService.getStatus(!1).then(function(e){var n;t.currentStatus&&(n=t.currentStatus.statename),t.currentStatus=e.processes["minemeld-engine"],t.statusSubscription||(t.statusSubscription=t.$rootScope.$on("mm-inner-engine-status-changed",t.changeListener.bind(t)),t.currentStatusDeferred.resolve(t.currentStatus)),n!=t.currentStatus.statename&&t.$rootScope.$broadcast("mm-engine-status-changed")},function(t){throw console.log("ERROR RETRIEVING MINEMELD ENGINE STATUS: "+t.statusText),t})["finally"](function(){t.statusUpdatePromise=t.$interval(t.updateEngineStatus.bind(t),6e4,1)})},t}();e.MineMeldEngineStatusService=n},function(t,e){var n=function(){function t(t,e,n,i,o,s,a,r){this.MinemeldConfigService=t,this.MineMeldAPIService=e,this.MinemeldPrototypeService=n,this.MineMeldEngineStatusService=i,this.toastr=o,this.$interval=s,this.$rootScope=a,this.$q=r,this.currentStatusDeferred=this.$q.defer(),this.MineMeldAPIService.onLogin(this.initStatusMonitor.bind(this)),this.MineMeldAPIService.onLogout(this.destroyStatusMonitor.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.initStatusMonitor()}return t.$inject=["MinemeldConfigService","MineMeldAPIService","MinemeldPrototypeService","MineMeldEngineStatusService","toastr","$interval","$rootScope","$q"],t.prototype.getStatus=function(){return this.currentStatus?this.$q.when(this.currentStatus):this.currentStatusDeferred.promise},t.prototype.initStatusMonitor=function(){this.statusSubscription||this.updateRunningConfigStatus()},t.prototype.destroyStatusMonitor=function(){this.statusSubscription&&(this.statusSubscription(),this.statusSubscription=void 0),this.currentStatus=void 0},t.prototype.changeListener=function(t,e){var n=this;this.MineMeldEngineStatusService.getStatus().then(function(t){("RUNNING"===t.statename||"STARTING"===t.statename)&&n.updateRunningConfigStatus()})},t.prototype.updateRunningConfigStatus=function(){var t=this;this.MinemeldConfigService.runningConfig(!1).then(function(e){return t.MinemeldPrototypeService.getPrototypeLibraries(!1).then(function(n){var i=[];angular.forEach(e.nodes,function(e,n){return"undefined"==typeof e.prototype?void i.push(t.$q.when({name:n,node:e})):void i.push(t.MinemeldPrototypeService.getPrototype(e.prototype).then(function(t){return{name:n,node:e,resolvedPrototype:t}}))}),t.$q.all(i).then(function(e){t.currentStatus={nodes:{}},angular.forEach(e,function(e){t.currentStatus.nodes[e.name]=e}),t.statusSubscription||(t.statusSubscription=t.$rootScope.$on("mm-engine-status-changed",t.changeListener.bind(t)),t.currentStatusDeferred.resolve(t.currentStatus)),t.$rootScope.$broadcast("mm-running-config-changed")},function(e){throw e.cancelled||t.toastr.error("ERROR RESOLVING CONFIG PROTOTYPES: "+e.statusText),e})},function(e){throw e.cancelled||t.toastr.error("ERROR RETRIEVING PROTOTYPES LIBRARIES: "+e.statusText),e})},function(e){throw e.cancelled||t.toastr.error("ERROR RETRIEVING MINEMELD RUNNING CONFIG: "+e.statusText),e})},t}();e.MineMeldRunningConfigStatusService=n},function(t,e){var n=function(){function t(t,e,n,i){this.monitors=[],this.MineMeldAPIService=n,this.toastr=t,this.$interval=e,this.$q=i,this.MineMeldAPIService.onLogout(this.destroyJobsMonitor.bind(this))}return t.$inject=["toastr","$interval","MineMeldAPIService","$q"],t.prototype.monitor=function(t,e){var n={job_group:t,jobid:e},i=this.$q.defer();return n.monitor=this.$interval(this.checkJob.bind(this),3e3,1,!1,n,t,e,i),this.monitors.push(n),i.promise},t.prototype.get=function(t,e){var n,i={job_group:t,jobid:e};return n=this.MineMeldAPIService.getAPIResource("/jobs/:job_group/:jobid",{},{get:{method:"GET"}}),n.get(i).$promise.then(function(t){return"result"in t?t.result:void 0})},t.prototype.destroyJobsMonitor=function(){var t=this;angular.forEach(this.monitors,function(e){t.$interval.cancel(e.monitor)}),this.monitors=[]},t.prototype.checkJob=function(t,e,n,i){var o=this;this.get(e,n).then(function(s){var a;return"RUNNING"===s.status?void(t.monitor=o.$interval(o.checkJob.bind(o),3e3,1,!1,t,e,n,i)):(a="/jobs/"+e+"/"+n+"/log","DONE"===s.status&&o.toastr.success("JOB "+s.description+' COMPLETED SUCCESSFULLY. LOG <a target="_blank" href="'+a+'">HERE</a>',{allowHtml:!0}),"ERROR"===s.status&&o.toastr.error("JOB "+s.description+' FAILED. LOG <a target="_blank" href="'+a+'">HERE</a>',{allowHtml:!0}),void i.resolve(s))},function(t){o.toastr.error("ERROR CHECKING STATUS OF JOB "+e+" "+n+": "+t.statusText),o.monitors=o.monitors.filter(function(t){return t.jobid!=n?!0:t.job_group!=e?!0:(o.$interval.cancel(t.monitor),!1)}),i.reject(t)})},t}();e.MineMeldJobsService=n},function(t,e){var n=function(){function t(t,e,n,i){this.MinemeldAAAService=t,this.MineMeldAPIService=e,this.toastr=i,this.$q=n,this.readWriteDeferred=n.defer(),this.currentUser={id:void 0,read_write:!1},this.MineMeldAPIService.onLogin(this.initCurrentUser.bind(this)),this.MineMeldAPIService.onLogout(this.destroyCurrentUser.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.initCurrentUser()}return t.$inject=["MinemeldAAAService","MineMeldAPIService","$q","toastr"],t.prototype.getReadWrite=function(){return this.readWriteDeferred.promise},t.prototype.initCurrentUser=function(){var t=this;this.MinemeldAAAService.getCurrentUser().then(function(e){t.currentUser=e,t.readWriteDeferred.resolve(t.currentUser.read_write)},function(e){401!=e.status&&t.toastr.error("ERROR RETRIEVING CURRENT USER: "+e.statusText)})},t.prototype.destroyCurrentUser=function(){this.currentUser={id:void 0,read_write:!1},this.readWriteDeferred=this.$q.defer()},t}();e.MineMeldCurrentUserService=n},function(t,e){var n=function(){function t(t,e,n,i){this.MineMeldExtensionService=t,this.MineMeldAPIService=e,this.toastr=i,this.$ocLazyLoad=n,this.MineMeldAPIService.onLogin(this.loadWebUIExtensions.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.loadWebUIExtensions()}return t.$inject=["MineMeldExtensionsService","MineMeldAPIService","$ocLazyLoad","toastr"],t.prototype.loadWebUIExtensions=function(){var t=this;this.MineMeldExtensionService.list(!1).then(function(e){var n=[];angular.forEach(e,function(t){t.entry_points&&"minemeld_webui"in t.entry_points&&angular.forEach(t.entry_points.minemeld_webui,function(t,e){n.push(e)})}),angular.forEach(n,function(e){t.$ocLazyLoad.load("/extensions/webui/"+e+"/extension.js",{cache:!1}).then(function(){console.log("Loaded "+e+" extension")})})},function(e){t.MineMeldAPIService.isLoggedIn()&&t.toastr.error("ERROR RETRIEVING MINEMELD EXTENSIONS: "+e.statusText)})},t}();e.MineMeldWebUIExtensionsLoaderService=n},function(t,e){function n(){return function(t,e){if(null===t)return null;if(0===t)return"0";(!e||0>e)&&(e=1);for(var n=Math.abs(t),i=Math.pow(10,e),o=0>t,s="",a=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}],r=0;r<a.length;r++){var l=n/a[r].value;if(l=Math.round(l*i)/i,l>=1){n=l,s=a[r].key;break}}return(o?"-":"")+n+s}}e.megaNumber=n},function(t,e){function n(){return{restrict:"E",scope:{creationDate:"="},templateUrl:"app/components/navbar/navbar.html",controller:i,controllerAs:"vm",bindToController:!0}}e.appNavbar=n;var i=function(){function t(t,e,n,i,o,s,a){this.read_write=!1,this.ICON_MAP={RUNNING:"running",STARTING:"starting",STOPPING:"stopping"},this.MineMeldAPIService=t,this.MineMeldEngineStatusService=e,this.MineMeldCurrentUserService=n,this.$rootScope=o,this.$state=a,this.$timeout=i,this.toastr=s,this.MineMeldAPIService.onLogin(this.initReadWrite.bind(this)),this.MineMeldAPIService.onLogout(this.destroyReadWrite.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.initReadWrite(),this.updateEngineStatus()}return t.$inject=["MineMeldAPIService","MineMeldEngineStatusService","MineMeldCurrentUserService","$timeout","$rootScope","toastr","$state"],t.prototype.logout=function(){var t=this;this.MineMeldAPIService.logOut()["finally"](function(){t.$state.go("login")})},t.prototype.updateEngineStatus=function(){var t=this;this.MineMeldEngineStatusService.getStatus().then(function(e){e.statename!=t.engineStatename&&t.$timeout(function(){var n,i;n="undefined"==typeof t.engineStatename,i=t.engineStatename!=e.statename,t.engineStatename=e.statename,t.updateEngineStateIcon(),(n&&"RUNNING"!==t.engineStatename||!n&&i)&&t.showNotification()}),t.engineStatusChangeSubscription||(t.engineStatusChangeSubscription=t.$rootScope.$on("mm-engine-status-changed",t.updateEngineStatus.bind(t)))})},t.prototype.updateEngineStateIcon=function(){return this.ICON_MAP.hasOwnProperty(this.engineStatename)?void(this.engineStateIcon=this.ICON_MAP[this.engineStatename]):void(this.engineStateIcon="stopped")},t.prototype.showNotification=function(){return this.lastToast&&(this.lastToast.el.hide(),this.lastToast.scope.close(!0),this.lastToast=void 0),"RUNNING"===this.engineStatename||"STARTING"===this.engineStatename?void(this.lastToast=this.toastr.success("ENGINE STATUS: "+this.engineStatename)):"STOPPING"===this.engineStatename?void(this.lastToast=this.toastr.warning("ENGINE STATUS: "+this.engineStatename)):void(this.lastToast=this.toastr.error("ENGINE STATUS: "+this.engineStatename))},t.prototype.initReadWrite=function(){var t=this;this.MineMeldCurrentUserService.getReadWrite().then(function(e){t.read_write=e})},t.prototype.destroyReadWrite=function(){this.read_write=!1},t}();e.NavbarController=i},function(t,e){function n(){return{restrict:"E",templateUrl:"app/components/options/options.html",bindToController:!0,transclude:!0,link:function(t,e,n){var i=e.children(".minemeld-options").children("div");e.find(".minemeld-options-knob").bind("click",function(){i.toggleClass("minemeld-options-show")})}}}e.minemeldOptions=n},function(t,e){function n(){return{restrict:"E",templateUrl:"app/components/nodeconfig/nodeconfig.html",scope:{config:"="},controller:i,controllerAs:"vm",bindToController:!0}}e.nodeConfig=n;var i=function(){function t(){}return t.prototype.$onInit=function(){this.num_properties=Object.keys(this.config).length},t.prototype.typeOf=function(t){return Array.isArray(t)?"list":null===t?"null":typeof t},t}();e.NodeConfigController=i},function(t,e){function n(){return{restrict:"E",templateUrl:"app/components/prototypetooltip/prototypetooltip.html",scope:{name:"="},controller:i,controllerAs:"vm",bindToController:!0}}e.prototypeTooltip=n;var i=function(){function t(t){var e,n=this;e=this.name.split("."),this.prototypeName=e[1],this.libraryName=e[0],t.getPrototypeLibrary(e[0]).then(function(t){n.libraryDescription=t.description,n.prototypeDescription=t.prototypes[e[1]].description})}return t.$inject=["MinemeldPrototypeService"],t}();e.PrototypeTooltipController=i},function(t,e){function n(){return{restrict:"E",scope:{creationDate:"="},templateUrl:"app/components/suggestion/suggestion.html",controller:i,controllerAs:"vm",bindToController:!0}}e.suggestion=n;var i=function(){function t(t,e,n,i){this.toastr=n,this.$modal=i,this.minimized=!0,this.disabled=!1,this.snsAvailable=!1,this.MineMeldAPIService=t,this.MineMeldStatusService=e,this.MineMeldAPIService.onLogin(this.checkSNS.bind(this)),this.MineMeldAPIService.onLogout(this.destroySNS.bind(this)),this.MineMeldAPIService.isLoggedIn()&&this.checkSNS()}return t.$inject=["MineMeldAPIService","MinemeldStatusService","toastr","$modal"],t.prototype.showModal=function(){var t,e=this;this.minimized=!1,t=this.$modal.open({templateUrl:"app/components/suggestion/suggestion.modal.html",controller:o,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.MineMeldStatusService.mkwish(t.email,t.suggestion).then(function(t){e.toastr.success("SUGGESTION SENT. THANKS !!")},function(t){e.toastr.error("ERROR SENDING YOUR SUGGESTION"+t.statusText)})})["finally"](function(){e.minimized=!0})},t.prototype.checkSNS=function(){var t=this;this.MineMeldStatusService.getInfo().then(function(e){e.sns&&(t.snsAvailable=!0)})},t.prototype.destroySNS=function(){this.snsAvailable=!1},t}(),o=function(){function t(t){this.$modalInstance=t,this.email=null,this.suggestion=null}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.email&&0!==this.email.length&&this.suggestion&&0!==this.suggestion.length},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.submit=function(){this.$modalInstance.close({email:this.email,suggestion:this.suggestion})},t}()},function(t,e,n){function i(t){t.state("nodedetail.autofocuselinfo",{templateUrl:"app/nodedetail/autofocusel.info.html",controller:r,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.autofocus.ExportList",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.autofocuselinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){this.MinemeldConfigService=c,this.ConfirmService=f,this.$modal=d,t.call(this,e,n,i,o,s,a,r,l,u,p),this.loadSideConfig()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","ConfirmService"],e.prototype.flush=function(){var t=this;this.ConfirmService.show("FLUSH INDICATORS","Are you sure you want to flush indicators of "+this.nodename+" ?").then(function(e){t.mmstatus.signal(t.nodename,"flush").then(function(e){t.toastr.success("FLUSH SCHEDULED. THIS MAY TAKE A WHILE")},function(e){t.toastr.error("ERROR SCHEDULING FLUSH: "+e.statusText)})})},e.prototype.loadSideConfig=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){e&&(e.api_key?t.api_key=e.api_key:t.api_key=void 0,e.label?t.label=e.label:t.label=void 0)},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.api_key=void 0,t.label=void 0})},e.prototype.saveSideConfig=function(){var t={},e=this.nodename;return this.api_key?t.api_key=this.api_key:e=void 0,this.label?t.label=this.label:e=void 0,this.MinemeldConfigService.saveDataFile(this.nodename+"_side_config",t,e)},e.prototype.setAPIKey=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/autofocus.sak.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){return e.api_key=t.api_key,e.saveSideConfig().then(function(t){e.toastr.success("API KEY SET")},function(t){e.toastr.error("ERROR SETTING API KEY: "+t.status)})})},e.prototype.setLabel=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/autofocus.sl.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{label:function(){return e.label}}}),t.result.then(function(t){return e.label=t.label,e.saveSideConfig().then(function(t){e.toastr.success("LABEL SET")},function(t){e.toastr.error("ERROR SETTING LABEL: "+t.status)})})},e}(a.NodeDetailInfoController),l=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.api_key!==this.api_key2?(angular.element("#fgAPIKey1").addClass("has-error"),angular.element("#fgAPIKey2").addClass("has-error"),!1):(angular.element("#fgAPIKey1").removeClass("has-error"),angular.element("#fgAPIKey2").removeClass("has-error"),this.api_key?!0:!1)},t.prototype.save=function(){var t={};t.api_key=this.api_key,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),c=function(){function t(t,e){this.$modalInstance=t,this.label=e}return t.$inject=["$modalInstance","label"],t.prototype.valid=function(){return this.label?!0:!1},t.prototype.save=function(){var t={};t.label=this.label,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading Autofocus ExportList"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.cifinfo",{templateUrl:"app/nodedetail/cif.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameEnabled:{value:!1},secretName:{value:"TOKEN"},secretField:{value:"token"}}})}function o(t){t.registerClass("minemeld.ft.cif.Feed",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.cifinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(60),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){t.call(this,e,n,i,o,s,a,r,l,c,d,u,p),this.ConfirmService=f}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","ConfirmService"],e.prototype.setRemote=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/cif.remote.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{remote:function(){return e.remote}}}),t.result.then(function(t){return e.remote=t.remote,e.saveSideConfig().then(function(t){e.toastr.success("REMOTE SET")},function(t){e.toastr.error("ERROR SETTING REMOTE: "+t.statusText)})})},e.prototype.toggleCertificateVerification=function(){var t,e,n=this;"undefined"==typeof this.verify_cert||this.verify_cert?(e=!1,t=this.ConfirmService.show("CIF REMOTE CERT VERIFICATION","Are you sure you want to disable certificate verification ?")):(e=!0,t=this.ConfirmService.show("CIF REMOTE CERT VERIFICATION","Are you sure you want to enable certificate verification ?")),t.then(function(t){return n.verify_cert=e,n.saveSideConfig().then(function(t){n.toastr.success("CERT VERIFICATION TOGGLED")},function(t){n.toastr.error("ERROR TOGGLING CERT VERIFICATION: "+t.statusText)})})},e.prototype.setFilters=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/cif.filters.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{filters:function(){return e.filters}}}),t.result.then(function(t){return e.filters=t.filters,e.saveSideConfig().then(function(t){e.toastr.success("FILTERS SET")},function(t){e.toastr.error("ERROR SETTING FILTERS: "+t.statusText)})})},e.prototype.restoreSideConfig=function(e){var n=e;t.prototype.restoreSideConfig.call(this,e),this.remote=void 0,this.filters=void 0,this.verify_cert=void 0,e&&(n.remote&&(this.remote=n.remote),n.filters&&(this.filters=n.filters),"undefined"!=typeof n.verify_cert&&(this.verify_cert=n.verify_cert))},e.prototype.prepareSideConfig=function(){var e=t.prototype.prepareSideConfig.call(this);return this.remote&&(e.remote=this.remote),this.filters&&(e.filters=this.filters),"undefined"!=typeof this.verify_cert&&(e.verify_cert=this.verify_cert),e},Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(t){this._filters=t,this.flattenFilters()},enumerable:!0,configurable:!0}),e.prototype.flattenFilters=function(){var t=this,e=[];return this.filters?(Object.keys(this.filters).forEach(function(n){var i,o;o=n+": ",i=t.filters[n],o+=i instanceof Array?i.join(", "):i,e.push(o)}),void(this.flattenedFilters=e.join(" "))):void(this.flattenedFilters=void 0)},e}(a.NodeDetailCredentialsInfoController),l=function(){function t(t,e){this.$modalInstance=t,this.remote=e}return t.$inject=["$modalInstance","remote"],t.prototype.valid=function(){return this.remote?!0:!1},t.prototype.save=function(){var t={};t.remote=this.remote,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),c=function(){function t(t,e){this.otypes=["ipv4","ipv6","fqdn","url"],this.defaultTags=["whitelist","spam","malware","scanner","hijacked","botnet","exploit","phishing"],this.confidenceValid=!0,this.$modalInstance=t,this.filters=e,this.filters&&(this.filters.otype&&(this.otype=this.filters.otype),"undefined"!=typeof this.filters.confidence&&(this.confidence=""+this.filters.confidence),"undefined"!=typeof this.filters.tags&&(this.tags=this.filters.tags))}return t.$inject=["$modalInstance","filters"],t.prototype.tagging=function(t){return t},t.prototype.valid=function(){var t,e=!0;return this.changed||(e=!1),angular.element("#fgConfidence").removeClass("has-error"),"undefined"!=typeof this.confidence&&0!==this.confidence.length&&(/^\s*[0-9]+\s*$/.test(this.confidence)?(t=+this.confidence,(0>t||t>100||isNaN(t))&&(e=!1,angular.element("#fgConfidence").addClass("has-error"))):(e=!1,angular.element("#fgConfidence").addClass("has-error"))),e},t.prototype.save=function(){var t={};t.filters=this.filters,"undefined"!=typeof this.confidence&&0!==this.confidence.length?(t.filters||(t.filters={}),t.filters.confidence=+this.confidence):t.filters&&delete t.filters.confidence,"undefined"!=typeof this.tags&&0!==this.tags.length?(t.filters||(t.filters={}),t.filters.tags=this.tags):t.filters&&delete t.filters.tags,"undefined"!=typeof this.otype&&0!==this.otype.length?(t.filters||(t.filters={}),t.filters.otype=this.otype):t.filters&&delete t.filters.otype,0===Object.keys(t.filters).length&&(t.filters=void 0),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading CIF"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.credentialsinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo"}).state("nodedetail.phishmeinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{secretName:{value:"API KEY"},secretField:{value:"api_key"}}}).state("nodedetail.auscertinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameField:{value:null},secretName:{value:"API KEY"},secretField:{value:"api_key"}}}).state("nodedetail.anomaliinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{secretName:{value:"API KEY"},secretField:{value:"api_key"}}}).state("nodedetail.vtinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameField:{value:null},secretName:{value:"API KEY"},secretField:{value:"api_key"}}}).state("nodedetail.tmtinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameField:{value:null},secretName:{value:"API KEY"},secretField:{value:"api_key"}}}).state("nodedetail.threatconnectinfo",{templateUrl:"app/nodedetail/credentials.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameName:{value:"API KEY"},usernameField:{value:"apikey"},secretName:{value:"API SECRET"},secretField:{value:"apisecret"}}})}function o(t){t.registerClass("minemeld.ft.auscert.MaliciousURLFeed",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.auscertinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.mm.JSONSEQMiner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.credentialsinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.anomali.Intelligence",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.anomaliinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.tmt.DTIAPI",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.tmtinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.vt.Notifications",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.vtinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.phishme.Intelligence",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.phishmeinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.threatconnect.IndicatorsMiner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.threatconnectinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.threatconnect.GroupsMiner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.threatconnectinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.bambenek.Miner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.credentialsinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p){t.call(this,e,n,i,o,s,a,r,l,u,p),this.usernameName="USERNAME",this.usernameField="username",this.secretName="PASSWORD",this.secretField="password",this.MinemeldConfigService=c,this.$modal=d,"undefined"!=typeof l.usernameField&&(this.usernameField=l.usernameField),l.usernameName&&(this.usernameName=l.usernameName),l.secretName&&(this.secretName=l.secretName),l.secretField&&(this.secretField=l.secretField),this.loadSideConfig()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService"],
e.prototype.loadSideConfig=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(this.restoreSideConfig.bind(this),function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.secret=void 0,t.username=void 0})},e.prototype.saveSideConfig=function(){var t,e=void 0;return t=this.prepareSideConfig(),this.usernameField&&"undefined"!=typeof this.username&&"undefined"!=typeof this.secret&&(e=this.nodename),this.MinemeldConfigService.saveDataFile(this.nodename+"_side_config",t,e)},e.prototype.setPassword=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/credentials.sp.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{secretName:function(){return e.secretName}}}),t.result.then(function(t){return e.secret=t.password,e.saveSideConfig()}).then(function(t){e.toastr.success(e.secretName+" SET")},function(t){e.toastr.error("ERROR SETTING "+e.secretName+": "+t.status)})},e.prototype.setUsername=function(){var t,e=this;this.usernameField&&(t=this.$modal.open({templateUrl:"app/nodedetail/credentials.su.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{username:function(){return e.username},usernameName:function(){return e.usernameName}}}),t.result.then(function(t){return e.username=t.username,e.saveSideConfig()},function(t){e.toastr.error("ERROR SETTING USERNAME: "+t.statusText)}).then(function(t){e.toastr.success("USERNAME SET")}))},e.prototype.restoreSideConfig=function(t){return t?(t[this.secretField]?this.secret=t[this.secretField]:this.secret=void 0,void(this.usernameField&&t[this.usernameField]?this.username=t[this.usernameField]:this.username=void 0)):(this.username=void 0,void(this.secret=void 0))},e.prototype.prepareSideConfig=function(){var t={};return this.secret&&(t[this.secretField]=this.secret),this.username&&this.usernameField&&(t[this.usernameField]=this.username),t},e}(a.NodeDetailInfoController);e.NodeDetailCredentialsInfoController=r;var l=function(){function t(t,e){this.$modalInstance=t,this.secretName=e}return t.$inject=["$modalInstance","secretName"],t.prototype.valid=function(){return this.password!==this.password2?(angular.element("#fgPassword1").addClass("has-error"),angular.element("#fgPassword2").addClass("has-error"),!1):(angular.element("#fgPassword1").removeClass("has-error"),angular.element("#fgPassword2").removeClass("has-error"),this.password?!0:!1)},t.prototype.save=function(){var t={};t.password=this.password,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),c=function(){function t(t,e,n){this.$modalInstance=t,this.username=e,this.usernameName=n}return t.$inject=["$modalInstance","username","usernameName"],t.prototype.valid=function(){return this.username?!0:!1},t.prototype.save=function(){var t={};t.username=this.username,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading Credentials"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.ciscoiseinfo",{templateUrl:"app/nodedetail/ciscoise.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameEnabled:{value:!0},secretName:{value:"PASSWORD"},secretField:{value:"password"}}})}function o(t){t.registerClass("minemeld.ft.ciscoise.ErsSgt",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.ciscoiseinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(60),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){t.call(this,e,n,i,o,s,a,r,l,c,d,u,p),this.ConfirmService=f}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","ConfirmService"],e.prototype.setHostname=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/ciscoise.hostname.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{hostname:function(){return e.hostname}}}),t.result.then(function(t){return e.hostname=t.hostname,e.saveSideConfig().then(function(t){e.toastr.success("HOSTNAME SET")},function(t){e.toastr.error("ERROR SETTING HOSTNAME: "+t.statusText)})})},e.prototype.toggleCertificateVerification=function(){var t,e,n=this;"undefined"==typeof this.verify_cert||this.verify_cert?(e=!1,t=this.ConfirmService.show("CISCO ISE REMOTE CERT VERIFICATION","Are you sure you want to disable certificate verification ?")):(e=!0,t=this.ConfirmService.show("CISCO ISE REMOTE CERT VERIFICATION","Are you sure you want to enable certificate verification ?")),t.then(function(t){return n.verify_cert=e,n.saveSideConfig().then(function(t){n.toastr.success("CERT VERIFICATION TOGGLED")},function(t){n.toastr.error("ERROR TOGGLING CERT VERIFICATION: "+t.statusText)})})},e.prototype.restoreSideConfig=function(e){var n=e;t.prototype.restoreSideConfig.call(this,e),this.hostname=void 0,this.username=void 0,this.password=void 0,this.verify_cert=void 0,e&&(n.hostname&&(this.hostname=n.hostname),n.username&&(this.username=n.username),n.password&&(this.password=n.password),"undefined"!=typeof n.verify_cert&&(this.verify_cert=n.verify_cert))},e.prototype.prepareSideConfig=function(){var e=t.prototype.prepareSideConfig.call(this);return this.hostname&&(e.hostname=this.hostname),this.username&&(e.username=this.username),this.password&&(e.password=this.password),"undefined"!=typeof this.verify_cert&&(e.verify_cert=this.verify_cert),e},e}(a.NodeDetailCredentialsInfoController),l=function(){function t(t,e){this.$modalInstance=t,this.hostname=e}return t.$inject=["$modalInstance","hostname"],t.prototype.valid=function(){return this.hostname?!0:!1},t.prototype.save=function(){var t={};t.hostname=this.hostname,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading CiscoISE"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.cofenseinfo",{templateUrl:"app/nodedetail/cofense.info.html",controller:r,controllerAs:"nodedetailinfo",params:{usernameName:{value:"ACCOUNT"},usernameField:{value:"api_account"},secretName:{value:"TOKEN"},secretField:{value:"api_token"}}})}function o(t){t.registerClass("minemeld.ft.cofense.Triage",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.cofenseinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(60),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){t.call(this,e,n,i,o,s,a,r,l,c,d,u,p),this.ConfirmService=f}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","ConfirmService"],e.prototype.setDomain=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/cofense.sd.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{api_domain:function(){return e.api_domain}}}),t.result.then(function(t){return e.api_domain=t.api_domain,e.saveSideConfig().then(function(t){e.toastr.success("ENDPOINT SET")},function(t){e.toastr.error("ERROR SETTING ENDPOINT: "+t.statusText)})})},e.prototype.toggleCertificateVerification=function(){var t,e,n=this;"undefined"==typeof this.verify_cert||this.verify_cert?(e=!1,t=this.ConfirmService.show("CIF REMOTE CERT VERIFICATION","Are you sure you want to disable certificate verification ?")):(e=!0,t=this.ConfirmService.show("CIF REMOTE CERT VERIFICATION","Are you sure you want to enable certificate verification ?")),t.then(function(t){return n.verify_cert=e,n.saveSideConfig().then(function(t){n.toastr.success("CERT VERIFICATION TOGGLED")},function(t){n.toastr.error("ERROR TOGGLING CERT VERIFICATION: "+t.statusText)})})},e.prototype.restoreSideConfig=function(e){var n=e;t.prototype.restoreSideConfig.call(this,e),this.api_domain=void 0,this.verify_cert=void 0,e&&(n.api_domain&&(this.api_domain=n.api_domain),"undefined"!=typeof n.verify_cert&&(this.verify_cert=n.verify_cert))},e.prototype.prepareSideConfig=function(){var e=t.prototype.prepareSideConfig.call(this);return this.api_domain&&(e.api_domain=this.api_domain),"undefined"!=typeof this.verify_cert&&(e.verify_cert=this.verify_cert),e},e}(a.NodeDetailCredentialsInfoController),l=function(){function t(t,e){this.$modalInstance=t,this.api_domain=e}return t.$inject=["$modalInstance","api_domain"],t.prototype.valid=function(){return this.api_domain?!0:!1},t.prototype.save=function(){var t={};t.api_domain=this.api_domain,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading Cofense"),angular.module("minemeldWebui").config(i).run(o)},function(t,e){function n(t){t.state("nodedetail.dagpusherinfo",{templateUrl:"app/nodedetail/dagpusher.info.html",controller:"NodeDetailInfoController",controllerAs:"vm"}).state("nodedetail.dagpusherdevices",{templateUrl:"app/nodedetail/dagpusher.devices.html",controller:"NodeDetailDagPusherDevicesController",controllerAs:"vm"})}function i(t){t.registerClass("minemeld.ft.dag.DagPusher",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.dagpusherinfo",active:!1},{icon:"fa fa-hdd-o",tooltip:"DEVICES",state:"nodedetail.dagpusherdevices",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.dag_ng.DagPusher",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.dagpusherinfo",active:!1},{icon:"fa fa-hdd-o",tooltip:"DEVICES",state:"nodedetail.dagpusherdevices",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}n.$inject=["$stateProvider"],i.$inject=["NodeDetailResolver"];var o=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtDevices={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_device_list=this.nodename+"_device_list",this.setupDeviceTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addDevice=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/dagpusher.add.modal.html",controller:s,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.device_list.push(t),e.saveDeviceList()["catch"](function(t){e.toastr.error("ERROR ADDING DEVICE: "+t.statusText),e.dtDevices.reloadData()})})},t.prototype.removeDevice=function(t){var e,n,i=this;n=this.device_list[t].name||this.device_list[t].hostname,e=this.ConfirmService.show("DELETE DEVICE","Are you sure you want to delete node "+n+" ?"),e.then(function(e){i.device_list.splice(t,1),i.saveDeviceList()["catch"](function(t){i.toastr.error("ERROR REMOVING DEVICE: "+t.statusText),i.dtDevices.reloadData()})})},t.prototype.saveDeviceList=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_device_list,this.device_list,this.nodename).then(function(e){t.dtDevices.reloadData()})},t.prototype.setupDeviceTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_device_list).then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING DEVICE LIST: "+e.statusText),e}).then(function(e){return t.device_list=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("lengthMenu",[[50,-1],[50,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[6],o.setAttribute("ng-click","vm.removeDevice("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete device"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("name").withTitle("NAME").renderWith(function(t,e,n){return he.encode(t,{strict:!0})}),this.DTColumnBuilder.newColumn("api_username").withTitle("USERNAME").renderWith(function(t,e,n){return he.encode(t,{strict:!0})}),this.DTColumnBuilder.newColumn("api_password").withTitle("PASSWORD").renderWith(function(t,e,n){return t?"<em>hidden</em>":""}),this.DTColumnBuilder.newColumn("hostname").withTitle("HOSTNAME").renderWith(function(t,e,n){return he.encode(t,{strict:!0})}),this.DTColumnBuilder.newColumn("vsys").withTitle("VSYS").withOption("defaultContent","").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("serial").withTitle("SERIAL #").withOption("defaultContent","").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t}(),s=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.api_password!==this.api_password2?(angular.element("#fgPassword1").addClass("has-error"),angular.element("#fgPassword2").addClass("has-error"),!1):(angular.element("#fgPassword1").removeClass("has-error"),angular.element("#fgPassword2").removeClass("has-error"),this.api_password&&this.hostname&&this.api_username?!0:!1)},t.prototype.save=function(){var t={};t.api_username=this.api_username,t.api_password=this.api_password,t.hostname=this.hostname,this.serial&&(t.serial=this.serial),this.name&&(t.name=this.name),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading DagPusher"),angular.module("minemeldWebui").config(n).run(i).controller("NodeDetailDagPusherDevicesController",o)},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(16),s=function(){function t(t,e,n){this.tags=[],this.changed=!1,this.$modalInstance=t,e&&(this.tags=e),this.availableTags=n,this.availableTags.push("any"),this.availableTags.push("anonymous")}return t.$inject=["$modalInstance","tags","availableTags"],t.prototype.save=function(){this.$modalInstance.close(this.tags)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.ConfigureTagsController=s;var a=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){t.call(this,e,n,i,o,s,a,r,l,u,p),this.auth_enabled=!1,this.tags_tooltip="authentication disabled",this.$modal=d,this.MinemeldAAAService=f,this.loadTags()}return i(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","MinemeldAAAService"],e.prototype.configureTags=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/feed.tags.modal.html",controller:s,controllerAs:"vm",bindToController:!0,resolve:{tags:function(){return e.tags},availableTags:this.MinemeldAAAService.getTags()},backdrop:"static",animation:!1}),t.result.then(function(t){t&&0!==t.length?e.tags=t:e.tags=[],e.MinemeldAAAService.setFeedAttributes(e.nodename,{tags:e.tags}).then(function(t){e.loadTags()},function(t){e.toastr.error("ERROR SAVING TAGS: "+t.statusText),e.loadTags()})})},e.prototype.loadTags=function(){var t=this;this.MinemeldAAAService.getFeeds().then(function(e){console.log(e),t.auth_enabled=e.enabled,t.auth_enabled&&(t.tags_tooltip="configure tags"),e.feeds.hasOwnProperty(t.nodename)&&(t.tags=e.feeds[t.nodename].tags)},function(e){throw e.cancelled||t.toastr.error("ERROR LOADING FEEDS ATTRIBUTES: "+e.statusText),e})},e}(o.NodeDetailInfoController);e.NodeDetailFeedInfoController=a,console.log("Loading Feed"),angular.module("minemeldWebui").controller("NodeDetailFeedInfoController",a)},function(t,e){function n(t){t.state("nodedetail.localdbindicators",{templateUrl:"app/nodedetail/localdb.indicators.html",controller:o,controllerAs:"vm"})}function i(t){t.registerClass("minemeld.ft.localdb.Miner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-list-alt",tooltip:"INDICATORS",state:"nodedetail.localdbindicators",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}n.$inject=["$stateProvider"],i.$inject=["NodeDetailResolver"];var o=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtIndicators={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_indicators=this.nodename+"_indicators",this.setupIndicatorsTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addIndicator=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/localdb.indicator.modal.html",controller:a,controllerAs:"vm",bindToController:!0,backdrop:"static",size:"lg",animation:!1,resolve:{indicator:function(){return void 0}}}),t.result.then(function(t){e.iorIndicator(t).then(function(){e.toastr.success("INDICATOR "+t.indicator+" ADDED"),e.dtIndicators.reloadData()},function(t){e.toastr.error("ERROR ADDING INDICATOR: "+t.statusText),e.dtIndicators.reloadData()})})},t.prototype.showIndicator=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/localdb.indicator.modal.html",controller:a,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg",resolve:{indicator:function(){return n.indicators[t]}}}),e.result.then(function(t){n.iorIndicator(t).then(function(){n.toastr.success("INDICATOR "+t.indicator+" UPDATED"),n.dtIndicators.reloadData()},function(t){n.toastr.error("ERROR UPDATING INDICATOR: "+t.statusText),n.dtIndicators.reloadData()})})},t.prototype.removeIndicator=function(t){var e,n,i=this;n=this.indicators[t],e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n.indicator+" ?"),e.then(function(e){i.indicators.splice(t,1),i.iorIndicator(n.indicator,n.type,-1,{removed:!0}).then(function(){i.toastr.success("INDICATOR "+n.indicator+" REMOVED"),i.dtIndicators.reloadData()},function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtIndicators.reloadData()})})},t.prototype.reload=function(){this.dtIndicators.reloadData()},t.prototype.setupIndicatorsTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_indicators,"localdb").then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING INDICATORS LIST: "+e.statusText),e}).then(function(e){return t.indicators=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row";for(var s=0;s<e.childNodes.length-1;s++)o=e.childNodes[s],o.setAttribute("ng-click","vm.showIndicator("+i+")");o=e.childNodes[5],o.setAttribute("ng-click","vm.removeIndicator("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete indicator"),o.setAttribute("tooltip-popup-delay","500"),o.setAttribute("tooltip-append-to-body","true"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("indicator").withTitle("INDICATOR").withOption("width","20%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("type").withTitle("TYPE").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("_update_ts").withTitle("LAST UPDATE").withOption("defaultContent"," ").withOption("width","20%").renderWith(function(t,e,n){return t?moment(t).format("DD/MM/YYYY HH:mm:ss Z"):"N/A"}),this.DTColumnBuilder.newColumn("_expiration_ts").withTitle("EXPIRATION").withOption("defaultContent"," ").withOption("width","20%").renderWith(function(t,e,n){return"disabled"===t?"<i>Disabled</i>":t?moment(t).format("DD/MM/YYYY HH:mm:ss Z"):"<i>Default</i>"}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.iorIndicator=function(t,e,n,i){var o;return o=t,"undefined"!=typeof e&&(o=angular.copy(i),o.indicator=t,o.type=e,o.ttl=n),Object.keys(o).forEach(function(t){"_"===t[0]&&delete o[t]}),this.MinemeldConfigService.appendDataFile(this.cfd_indicators,o,this.nodename,"localdb")},t}(),s=function(){function t(){this._annotations={}}return t.prototype.addAnnotation=function(t,e){t in this._annotations||(this._annotations[t]=[]),this._annotations[t].push(e)},t.prototype.getAnnotations=function(){var t=this,e=[];return Object.keys(this._annotations).forEach(function(n){e.push({row:+n,column:0,type:"error",text:t._annotations[n].join("\n")})}),e},t.prototype.length=function(){return Object.keys(this._annotations).length},t.prototype.firstRowNumber=function(){var t;return t=Object.keys(this._annotations).map(function(t){return+t}),0!==t.length?Math.min.apply(null,t)+1:0},t}(),a=function(){function t(t,e){var n=this;this.editableIndicatorAndType=!0,this.editableAttributes=!0,this.numAnnotations=0,this.firstAnnotation=0,this.attributesValid=!1,this.availableTypes=["IPv4","IPv6","URL","domain","user-id","md5","sha256","sha1","ssdeep","email-addr"],this.expirationDisabled=!1,this.$modalInstance=t,"undefined"!=typeof e&&(this.editableAttributes=!1,this.editableIndicatorAndType=!1,this.attributes=angular.copy(e),this.update_ts=this.attributes._update_ts,this.expiration_ts=this.attributes._expiration_ts,"disabled"===this.expiration_ts&&(this.expirationDisabled=!0),Object.keys(this.attributes).forEach(function(t){"_"===t[0]&&delete n.attributes[t]}),this.indicator=this.attributes.indicator,delete this.attributes.indicator,this.type=this.attributes.type,delete this.attributes.type,this.attributes.comment&&(this.comment=this.attributes.comment,delete this.attributes.comment)),this.attributesJSON=JSON.stringify(this.attributes,null,4);var i=this;i.editorLoaded=function(t){i.editor=t,t.setShowInvisibles(!1),angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")}),t.getSession().setOption("useWorker",!1),i.validAttributes()},i.aceChanged=i.validAttributes.bind(this)}return t.$inject=["$modalInstance","indicator"],t.prototype.save=function(){var t={};this.attributesJSON&&0!==this.attributesJSON.trim().length&&(t=JSON.parse(this.attributesJSON)),t.indicator=this.indicator,t.type=this.type,t.ttl=this.ttl,this.expirationDisabled&&(t.ttl="disabled"),this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.errorClick=function(){this.editor.gotoLine(this.firstAnnotation,0,!0)},t.prototype.validate=function(){return this.attributesValid&&this.indicator&&this.type},t.prototype.validAttributes=function(){var t=this,e=new s;if(this.editor&&(this.attributesValid=!0,this.editor.getSession().clearAnnotations(),this.numAnnotations=0,this.attributesJSON&&0!==this.attributesJSON.trim().length)){try{this.attributes=JSON.parse(this.attributesJSON)}catch(n){return this.attributesValid=!1,this.editor.getSession().setAnnotations([{row:0,column:0,text:"Invalid JSON syntax",type:"error"}]),this.numAnnotations=1,void(this.firstAnnotation=0)}Object.keys(this.attributes).forEach(function(n){"_"===n[0]&&e.addAnnotation(t.findAttribute(n),"Invalid attribute name "+n)}),this.numAnnotations=e.length(),this.firstAnnotation=e.firstRowNumber(),0!==e.length()&&(this.editor.getSession().setAnnotations(e.getAnnotations()),this.attributesValid=!1)}},t.prototype.findAttribute=function(t){var e,n,i=new RegExp('^\\s*"'+t+'"');e=this.attributesJSON.split("\n");for(var o in e)if(n=e[o],i.test(n))return o;return 0},t}();console.log("Loading localdb"),angular.module("minemeldWebui").config(n).run(i)},function(t,e,n){function i(t){t.state("nodedetail.o365apiinfo",{templateUrl:"app/nodedetail/o365api.info.html",controller:r,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.o365.O365API",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.o365apiinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){this.MinemeldConfigService=c,this.$modal=p,this.ConfirmService=f,t.call(this,e,n,i,o,s,a,r,l,d,u),this.loadSideConfig()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$rootScope","ThrottleService","$modal","ConfirmService"],e.prototype.loadSideConfig=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){"undefined"!=typeof e.disable_integrations?e.disable_integrations?t.disable_integrations=!0:t.disable_integrations=!1:t.disable_integrations=void 0},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.disable_integrations=void 0})},e.prototype.saveSideConfig=function(){var t={};return"undefined"!=typeof this.disable_integrations&&(t.disable_integrations=this.disable_integrations),this.MinemeldConfigService.saveDataFile(this.nodename+"_side_config",t,this.nodename)},e.prototype.toggleDisableIntegrations=function(){var t,e,n=this;this.disable_integrations?(e=!1,t=this.ConfirmService.show("O365 API INTEGRATIONS","Are you sure you want to enable integrations ?")):(e=!0,t=this.ConfirmService.show("O365 API INTEGRATIONS","Are you sure you want to disable integrations ?")),t.then(function(t){return n.disable_integrations=e,n.saveSideConfig()}).then(function(t){n.toastr.success("O365 INTEGRATIONS TOGGLED")},function(t){n.toastr.error("ERROR TOGGLING O365 INTEGRATIONS: "+t.status)})},e}(a.NodeDetailInfoController);console.log("Loading O365 API"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.proofpointinfo",{templateUrl:"app/nodedetail/proofpoint.info.html",controller:l,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.proofpoint.EmergingThreatsIP",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.proofpointinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.proofpoint.EmergingThreatsDomain",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.proofpointinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(){function t(){}return t.numberToName=function(e){return 0>=e||e>t.CATNAMES.length?""+e:t.CATNAMES[e-1]},t.nameToNumber=function(e){return t.CATNAMES.indexOf(e)+1},t.CATNAMES=["CnC","Bot","Spam","Drop","SpywareCnC","OnlineGaming","DriveBySrc","ChatServer","TorNode","Compromised","P2P","Proxy","IPCheck","Utility","DDoSTarget","Scanner","Brute_Forcer","FakeAV","DynDNS","Undesirable","AbusedTLD","SelfSignedSSL","Blackhole","RemoteAccessService","P2PCnC","Parking","VPN","EXE_Source","Mobile_CnC","Mobile_Spyware_CnC","Skype_SuperNode","Bitcoin_Related","DDoSAttacker"],t}(),l=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p){t.call(this,e,n,i,o,s,a,r,l,u,p),this.MinemeldConfigService=c,this.$modal=d,this.loadSideConfig()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService"],e.prototype.loadSideConfig=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){return e?(e.auth_code?t.authCode=e.auth_code:t.authCode=void 0,void(e.monitored_categories?(t.monitoredCategories=e.monitored_categories,t.updateMonitoredCategoriesRepr()):(t.monitoredCategories=void 0,t.monitoredCategoriesRepr=void 0))):(t.authCode=void 0,t.monitoredCategories=void 0,void(t.monitoredCategoriesRepr=void 0))},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.authCode=void 0,t.monitoredCategories=void 0,t.monitoredCategoriesRepr=void 0})},e.prototype.updateMonitoredCategoriesRepr=function(){this.monitoredCategoriesRepr=this.monitoredCategories.map(r.numberToName).join(", ")},e.prototype.setAuthCode=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/proofpoint.sac.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){var n={};return e.authCode=t.authCode,n.auth_code=e.authCode,e.monitoredCategories&&(n.monitored_categories=e.monitoredCategories),e.MinemeldConfigService.saveDataFile(e.nodename+"_side_config",n)}).then(function(t){e.toastr.success("AUTH CODE SET")},function(t){t&&e.toastr.error("ERROR SETTING AUTH CODE: "+t.statusText)})},e.prototype.setMonitoredCategories=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/proofpoint.smc.modal.html",controller:d,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{categories:function(){return e.monitoredCategories}}}),t.result.then(function(t){var n={};return e.monitoredCategories=t.monitoredCategories,
e.updateMonitoredCategoriesRepr(),n.monitored_categories=e.monitoredCategories,e.authCode&&(n.auth_code=e.authCode),e.MinemeldConfigService.saveDataFile(e.nodename+"_side_config",n)}).then(function(t){e.toastr.success("CATEGORIES SET")},function(t){t&&e.toastr.error("ERROR SETTING CATEGORIES: "+t.statusText)})},e}(a.NodeDetailInfoController),c=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.token!=this.token2?(angular.element("#fgToken1").addClass("has-error"),angular.element("#fgToken2").addClass("has-error"),!1):(angular.element("#fgToken1").removeClass("has-error"),angular.element("#fgToken2").removeClass("has-error"),this.token?!0:!1)},t.prototype.save=function(){var t={};t.authCode=this.token,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),d=function(){function t(t,e){this.availableCategories=r.CATNAMES,this.changed=!1,this.$modalInstance=t,e&&(this.categories=e.map(r.numberToName))}return t.$inject=["$modalInstance","categories"],t.prototype.hasChanged=function(){this.changed=!0},t.prototype.save=function(){var t={};t.monitoredCategories=this.categories.map(r.nameToNumber),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading Proofpoint ET"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.recordedfutureinfo",{templateUrl:"app/nodedetail/recordedfuture.info.html",controller:r,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.recordedfuture.IPRiskList",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.recordedfutureinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]}),t.registerClass("minemeld.ft.recordedfuture.DomainRiskList",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.recordedfutureinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p){this.MinemeldConfigService=c,this.$modal=d,t.call(this,e,n,i,o,s,a,r,l,u,p),this.loadToken()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService"],e.prototype.loadToken=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){e.token?t.token=e.token:t.token=void 0},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.token=void 0})},e.prototype.setToken=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/recordedfuture.st.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){return e.token=t.token,e.MinemeldConfigService.saveDataFile(e.nodename+"_side_config",{token:e.token},e.nodename)}).then(function(t){e.toastr.success("API TOKEN SET")},function(t){e.toastr.error("ERROR SETTING TOKEN: "+t.status)})},e}(a.NodeDetailInfoController),l=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.token!=this.token2?(angular.element("#fgToken1").addClass("has-error"),angular.element("#fgToken2").addClass("has-error"),!1):(angular.element("#fgToken1").removeClass("has-error"),angular.element("#fgToken2").removeClass("has-error"),this.token?!0:!1)},t.prototype.save=function(){var t={};t.token=this.token,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading RecordedFuture"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.recordedfutureinfo3",{templateUrl:"app/nodedetail/recordedfuture.info3.html",controller:r,controllerAs:"nodedetailinfo3"})}function o(t){t.registerClass("minemeld.ft.recordedfuture.MasterRiskList",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.recordedfutureinfo3",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p){this.MinemeldConfigService=c,this.$modal=d,t.call(this,e,n,i,o,s,a,r,l,u,p),this.loadToken()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService"],e.prototype.loadToken=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){e.token?t.token=e.token:t.token=void 0,e.path?t.path=e.path:t.path=void 0,e.entity?t.entity=e.entity:t.entity=void 0,e.api?t.api=e.api:t.api=void 0},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.token=void 0,t.path=void 0,t.entity=void 0,t.api=void 0})},e.prototype.setToken=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/recordedfuture.st.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){return e.token=t.token,e.MinemeldConfigService.saveDataFile(e.nodename+"_side_config",{path:e.path,token:e.token,entity:e.entity,api:e.api},e.nodename)}).then(function(t){e.toastr.success("API TOKEN SET")},function(t){e.toastr.error("ERROR SETTING TOKEN: "+t.status)})},e.prototype.setDetails=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/recordedfuture.st.details1.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){return e.entity=t.entity,e.path=t.path,e.api=t.api,console.log(e.entity),console.log(e.path),console.log(e.api),e.MinemeldConfigService.saveDataFile(e.nodename+"_side_config",{path:e.path,token:e.token,entity:e.entity,api:e.api},e.nodename)}).then(function(t){e.toastr.success("DETAILS SET")},function(t){e.toastr.error("ERROR SETTING DETAILS: "+t.status)})},e}(a.NodeDetailInfoController),l=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return this.token!=this.token2?(angular.element("#fgToken1").addClass("has-error"),angular.element("#fgToken2").addClass("has-error"),!1):(angular.element("#fgToken1").removeClass("has-error"),angular.element("#fgToken2").removeClass("has-error"),this.token?!0:!1)},t.prototype.save=function(){var t={};t.token=this.token,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),c=function(){function t(t){this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.valid=function(){return!0},t.prototype.save=function(){var t={};void 0==this.path1&&(t.path=this.path2),void 0==this.path2&&(t.path=this.path1),t.entity=this.entity,t.api=this.api,console.log(t.entity),console.log(t.path),console.log(t.api),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading RecordedFuture"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.redissetinfo",{templateUrl:"app/nodedetail/redisset.info.html",controller:"NodeDetailRedisSetInfoController",controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.redis.RedisSet",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.redissetinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(64),r=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.renderState=function(t,e){var n;t.nodeState=e,t.nodeState.indicators=e.length,t.nodeState.stateAsString=t.mmstatus.NODE_STATES[e.state],n=location.protocol+"//"+location.hostname,location.port&&(n+=":"+location.port),t.nodeState.feedURL=n+"/feeds/"+t.nodename},e}(a.NodeDetailFeedInfoController);console.log("Loading RedisSet"),angular.module("minemeldWebui").config(i).run(o).controller("NodeDetailRedisSetInfoController",r)},function(t,e,n){function i(t){t.state("nodedetail.syslogmatcherstats",{templateUrl:"app/nodedetail/syslogmatcher.stats.html",controller:"NodeDetailStatsController",controllerAs:"nodedetailstats"}).state("nodedetail.syslogmatchersources",{templateUrl:"app/nodedetail/syslogmatcher.sources.html",controller:r,controllerAs:"nodedetailstats"})}function o(t){t.registerClass("minemeld.ft.syslog.SyslogMatcher",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.syslogmatcherstats",active:!1},{icon:"fa fa-cube",tooltip:"SOURCES",state:"nodedetail.syslogmatchersources",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(15),r=function(t){function e(){t.apply(this,arguments),this.sources=!1}return s(e,t),e.prototype.renderMetrics=function(e,n){var i,o=0;for(t.prototype.renderMetrics.call(this,e,n),i=0;i<e.metrics_names.length;i++)0===e.metrics_names[i].indexOf("source.")&&o++;e.sources=0!==o},e}(a.NodeDetailStatsController);console.log("Loading syslog matcher"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.syslogminerrules",{templateUrl:"app/nodedetail/syslogminer.rules.html",controller:l,controllerAs:"vm"}).state("nodedetail.syslogminerstats",{templateUrl:"app/nodedetail/view.stats.html",controller:r,controllerAs:"nodedetailstats"})}function o(t){t.registerClass("minemeld.ft.syslog.SyslogMiner",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.syslogminerstats",active:!1},{icon:"fa fa-bars",tooltip:"RULES",state:"nodedetail.syslogminerrules",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(15),r=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.updateMetricsNames=function(){var t=this;this.metrics_names=Object.keys(this.metrics),angular.forEach(Object.keys(this.nodeState.statistics),function(e){-1===t.metrics_names.indexOf(e)&&t.metrics_names.push(e)}),this.metrics_names=this.metrics_names.filter(function(t){return 0===t.indexOf("rule.")?!1:!0})},e}(a.NodeDetailStatsController),l=function(){function t(t,e,n,i,o,s,a,r,l,c,d,u){var p=this;this.dtRules={},this.changed=!1,this.MinemeldConfigService=e,this.toastr=t,this.DTColumnBuilder=i,this.DTOptionsBuilder=n,this.$compile=o,this.$scope=s,this.$modal=a,this.ConfirmService=c,this.MinemeldStatusService=r,this.$interval=l,this.nodename=s.$parent.nodedetail.nodename,this.cfd_rules_list=this.nodename+"_rules",this.setupRulesTable(),this.mmThrottledUpdate=u.throttle(this.updateMinemeldStatus.bind(this),500),this.mmStatusListener=d.$on("mm-status-changed",this.mmThrottledUpdate),this.$scope.$on("$destroy",function(){p.destroy()})}return t.$inject=["toastr","MinemeldConfigService","DTOptionsBuilder","DTColumnBuilder","$compile","$scope","$modal","MinemeldStatusService","$interval","ConfirmService","$rootScope","ThrottleService"],t.prototype.reload=function(){this.dtRules.reloadData()},t.prototype.addRule=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/syslogminer.edit.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg",resolve:{title:function(){return"ADD RULE"},rule:function(){return void 0},rule_names:function(){return e.rules_list.map(function(t){return t.name.toUpperCase()})}}}),t.result.then(function(t){e.rules_list.push(t),e.saveRulesList()["catch"](function(t){e.toastr.error("ERROR ADDING RULE: "+t.statusText),e.dtRules.reloadData()})})},t.prototype.editRule=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/syslogminer.edit.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,size:"lg",resolve:{title:function(){return"EDIT RULE"},rule:function(){return n.rules_list[t]},rule_names:function(){return n.rules_list.map(function(t){return t.name.toUpperCase()}).filter(function(e){return e!==n.rules_list[t].name.toUpperCase()})}}}),e.result.then(function(e){var i,o=n.rules_list[t].name;n.rules_list[t]=e,n.saveRulesList()["catch"](function(t){n.toastr.error("ERROR ADDING RULE: "+t.statusText),n.dtRules.reloadData()}),o!==e.name&&(i=name.replace(/[^a-zA-Z0-9_-]/g,"_"),angular.element("#"+i).attr("id",i),n.updateMinemeldStatus())})},t.prototype.removeRule=function(t){var e,n,i=this;n=this.rules_list[t].name,e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n+" ?"),e.then(function(e){i.rules_list.splice(t,1),i.saveRulesList()["catch"](function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtRules.reloadData()})})},t.prototype.updateMinemeldStatus=function(){var t,e=this;this.MinemeldStatusService.getStatus().then(function(n){t=n[e.nodename],angular.forEach(t.statistics,function(t,e){var n;e.startsWith("rule.")&&(n=e.split(".",2)[1],angular.element("#"+n).text(t))})})},t.prototype.destroy=function(){this.mmThrottledUpdate&&this.mmThrottledUpdate.cancel(),this.mmStatusListener&&this.mmStatusListener()},t.prototype.saveRulesList=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_rules_list,this.rules_list,this.nodename).then(function(e){t.toastr.success("CHANGES SAVED"),t.dtRules.reloadData()})},t.prototype.setupRulesTable=function(){var t=this,e=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return e.MinemeldConfigService.getDataFile(e.cfd_rules_list).then(function(t){return e.changed=!1,null===t?[]:t},function(t){throw e.toastr.error("ERROR LOADING RULES LIST: "+t.statusText),t}).then(function(t){return e.rules_list=t,t})}).withBootstrap().withPaginationType("simple_numbers").withOption("fnInitComplete",function(){t.updateMinemeldStatus()}).withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("lengthMenu",[[50,-1],[50,"All"]]).withOption("createdRow",function(t,n,i){var o,s;for(t.className+=" config-table-row",o=t.childNodes[4],o.setAttribute("ng-click","vm.removeRule("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete rule"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",s=0;s<t.childNodes.length-2;s++)o=t.childNodes[s],o.setAttribute("ng-click","vm.editRule("+i+")"),o.className+=" config-table-clickable";o=t.childNodes[t.childNodes.length-2],o.setAttribute("id",n.name.replace(/[^a-zA-Z0-9_]/g,"_")),e.$compile(angular.element(t).contents())(e.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("name").withTitle("NAME").renderWith(function(t,e,n){return he.encode(t,{strict:!0})}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("DETAILS").renderWith(function(t,e,n){var i=[];return t.conditions?i.push(""+t.conditions.length+" conditions"):i.push("0 conditions"),t.indicators?i.push(""+t.indicators.length+" indicators"):i.push("0 indicators"),t.fields?i.push(" "+t.fields.length+" fields"):i.push("0 fields"),"<i>"+i.join(", ")+"</i>"}),this.DTColumnBuilder.newColumn(null).withTitle("HITS").renderWith(function(t,e,n){return 0}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t}(),c=function(){function t(t,e,n,i,o,s){var a=this;this.nameReadOnly=!1,this.validated=!1;var r;this.title=e,this.rule_names=i,n&&(r={},this.name=n.name,this.nameReadOnly=!0,angular.forEach(n,function(t,e){"name"!==e&&"comment"!==e&&(r[e]=t)}),this.definition=jsyaml.safeDump(r),this.comment=n.comment),this.definition||(this.definition="conditions:\n\nindicators:\n\nfields:\n\n"),this.$modalInstance=t,this.MinemeldValidateService=o,this.toastr=s,this.editorChanged=function(){a.validated=!1}}return t.$inject=["$modalInstance","title","rule","rule_names","MinemeldValidateService","toastr"],t.prototype.editorLoaded=function(t){t.setShowInvisibles(!1),angular.element(".ace_text-input").on("focus",function(t){angular.element(t.currentTarget.parentNode).addClass("ace-focus")}),angular.element(".ace_text-input").on("blur",function(t){angular.element(t.currentTarget.parentNode).removeClass("ace-focus")})},t.prototype.valid=function(){var t,e=!0;this.name||(e=!1),this.name&&-1!==this.rule_names.indexOf(this.name.toUpperCase())?(angular.element("#fgRuleName").addClass("has-error"),e=!1):angular.element("#fgRuleName").removeClass("has-error"),this.definition&&0!==this.definition.length||(e=!1);try{if(this.definition){if(t=jsyaml.safeLoad(this.definition),"object"!=typeof t)throw"definition is not a valid object";angular.element("#ruleDefinition").removeClass("has-error")}}catch(n){angular.element("#ruleDefinition").addClass("has-error"),e=!1}return e},t.prototype.validate=function(){var t,e=this;t=jsyaml.safeLoad(this.definition),t.name=this.name,this.comment&&(t.comment=this.comment),this.MinemeldValidateService.syslogMinerRule(t).then(function(t){e.validated=!0},function(t){400===t.status?e.toastr.error("ERROR VALIDATING RULE: "+t.data.error.message):(e.toastr.error("ERROR VALIDATING RULE: "+t.statusText),angular.element("#ruleDefinition").addClass("has-error"))})},t.prototype.save=function(){var t;t=jsyaml.safeLoad(this.definition),t.name=this.name,this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading syslog miner"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.taxii2clientinfo",{templateUrl:"app/nodedetail/taxii2client.info.html",controller:u,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.taxii2.Taxii2Client",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.taxii2clientinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}function s(t){return t}function a(t){return t?"yes":"no"}function r(t){return"yes"===t}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(60),d={authType:{key:"auth_type",from_side_config:s,to_side_config:s},apiKey:{key:"api_key",from_side_config:s,to_side_config:s},taxii2DiscoveryService:{key:"discovery_service",from_side_config:s,to_side_config:s},taxii2ApiRoot:{key:"api_root",from_side_config:s,to_side_config:s},taxii2Collection:{key:"collection",from_side_config:s,to_side_config:s},taxii2VerifyCert:{key:"verify_cert",from_side_config:a,to_side_config:r},taxii2Enabled:{key:"enabled",from_side_config:a,to_side_config:r}},u=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f,h){this.MineMeldRunningConfigStatusService=f,this.authTypeEnabled=!0,this.apiKeyEnabled=!0,this.taxii2DiscoveryServiceEnabled=!0,this.taxii2ApiRootEnabled=!0,this.taxii2CollectionEnabled=!0,this.taxii2VerifyCertEnabled=!0,this.taxii2EnabledEnabled=!0,this.pconfig={},this.side_config={},t.call(this,e,n,i,o,s,a,r,l,c,d,u,p),this.ConfirmService=h}return l(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","MineMeldRunningConfigStatusService","ConfirmService"],e.prototype.mergeMinemeldConfigs=function(){var t=this;try{Object.keys(d).forEach(function(e){var n=d[e],i=t.side_config[n.key]||t.pconfig[n.key];t[e]=n.from_side_config(i)})}catch(e){console.log(e)}},e.prototype.updateMinemeldConfig=function(){var t=this;t.MineMeldRunningConfigStatusService.getStatus().then(function(e){var n;n=e.nodes[t.nodename],t.pconfig=n.resolvedPrototype?n.resolvedPrototype.config:{},t.mergeMinemeldConfigs()},function(e){e.cancelled||t.toastr.error("ERROR RETRIEVING MINEMELD CONFIG: "+e.status)})["finally"](function(){t.updateMinemeldConfigPromise=t.$interval(t.updateMinemeldConfig.bind(t),t.updateMinemeldConfigInterval,1)})},e.prototype.setAuthType=function(){var t,e=this;this.authTypeEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.authtype.modal.html",controller:p,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{authType:function(){return e.authType}}}),t.result.then(function(t){return e.authType=t.authType,e.saveSideConfig().then(function(t){e.toastr.success("AUTH TYPE SET")},function(t){e.toastr.error("ERROR SETTING AUTH TYPE: "+t.statusText)})}))},e.prototype.setApiKey=function(){var t,e=this;this.apiKeyEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.apikey.modal.html",controller:f,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{apiKey:function(){return e.apiKey}}}),t.result.then(function(t){return e.apiKey=t.apiKey,e.saveSideConfig().then(function(t){e.toastr.success("API KEY SET")},function(t){e.toastr.error("ERROR SETTING API KEY: "+t.statusText)})}))},e.prototype.setTaxii2DiscoveryService=function(){var t,e=this;this.taxii2DiscoveryServiceEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.discovery.modal.html",controller:h,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{taxii2DiscoveryService:function(){return e.taxii2DiscoveryService}}}),t.result.then(function(t){return e.taxii2DiscoveryService=t.taxii2DiscoveryService,e.saveSideConfig().then(function(t){e.toastr.success("TAXII 2 DISCOVERY SERVICE URL SET")},function(t){e.toastr.error("ERROR SETTING TAXII 2 DISCOVERY SERVICE URL: "+t.statusText)})}))},e.prototype.setTaxii2ApiRoot=function(){var t,e=this;this.taxii2DiscoveryServiceEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.apiroot.modal.html",controller:m,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{taxii2ApiRoot:function(){return e.taxii2ApiRoot}}}),t.result.then(function(t){return e.taxii2ApiRoot=t.taxii2ApiRoot,e.saveSideConfig().then(function(t){e.toastr.success("TAXII 2 API ROOT SET")},function(t){e.toastr.error("ERROR SETTING TAXII 2 API ROOT: "+t.statusText)})}))},e.prototype.setTaxii2Collection=function(){var t,e=this;this.taxii2CollectionEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.collection.modal.html",controller:v,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{taxii2Collection:function(){return e.taxii2Collection}}}),t.result.then(function(t){return e.taxii2Collection=t.taxii2Collection,e.saveSideConfig().then(function(t){e.toastr.success("TAXII 2 COLLECTION URL SET")},function(t){e.toastr.error("ERROR SETTING TAXII 2 COLLECTION URL: "+t.statusText)})}))},e.prototype.setTaxii2Enabled=function(){var t,e=this;this.taxii2EnabledEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.enabled.modal.html",controller:g,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{taxii2Enabled:function(){return e.taxii2Enabled}}}),t.result.then(function(t){return e.taxii2Enabled=t.taxii2Enabled,e.saveSideConfig().then(function(t){e.toastr.success("NODE STATE SET")},function(t){e.toastr.error("ERROR SETTING TAXII 2 ENABLE NODE: "+t.statusText)})}))},e.prototype.setTaxii2VerifyCert=function(){var t,e=this;this.taxii2VerifyCertEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxii2client.verifycert.modal.html",controller:b,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{taxii2VerifyCert:function(){return e.taxii2VerifyCert}}}),t.result.then(function(t){return e.taxii2VerifyCert=t.taxii2VerifyCert,e.saveSideConfig().then(function(t){e.toastr.success("TAXII 2 VERIFY CERT SET")},function(t){e.toastr.error("ERROR SETTING TAXII 2 VERIFY CERT: "+t.statusText)})}))},e.prototype.restoreSideConfig=function(e){t.prototype.restoreSideConfig.call(this,e),e&&(this.side_config=e),this.mergeMinemeldConfigs()},e.prototype.prepareSideConfig=function(){var e=this,n=t.prototype.prepareSideConfig.call(this);try{Object.keys(d).forEach(function(t){if(e[t]){var i=d[t];n[i.key]=i.to_side_config(e[t])}})}catch(i){console.log(i)}return this.side_config=n,n},e}(c.NodeDetailCredentialsInfoController),p=function(){function t(t,e){this.$modalInstance=t,this.authType=e||"none"}return t.$inject=["$modalInstance","authType"],t.prototype.valid=function(){return this.authType?!0:!1},t.prototype.save=function(){var t={};t.authType=this.authType,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),f=function(){function t(t,e){this.$modalInstance=t,this.apiKey=e}return t.$inject=["$modalInstance","apiKey"],t.prototype.valid=function(){return this.apiKey?!0:!1},t.prototype.save=function(){var t={};t.apiKey=this.apiKey,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),h=function(){function t(t,e){this.$modalInstance=t,this.taxii2DiscoveryService=e}return t.$inject=["$modalInstance","taxii2DiscoveryService"],t.prototype.valid=function(){return this.taxii2DiscoveryService?!0:!1},t.prototype.save=function(){var t={};t.taxii2DiscoveryService=this.taxii2DiscoveryService,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),m=function(){function t(t,e){this.$modalInstance=t,this.taxii2ApiRoot=e}return t.$inject=["$modalInstance","taxii2ApiRoot"],t.prototype.valid=function(){return this.taxii2ApiRoot?!0:!1},t.prototype.save=function(){var t={};t.taxii2ApiRoot=this.taxii2ApiRoot,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),v=function(){function t(t,e){this.$modalInstance=t,this.taxii2Collection=e}return t.$inject=["$modalInstance","taxii2Collection"],t.prototype.valid=function(){return this.taxii2Collection?!0:!1},t.prototype.save=function(){var t={};t.taxii2Collection=this.taxii2Collection,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),g=function(){function t(t,e){this.$modalInstance=t,this.taxii2Enabled=e||"no"}return t.$inject=["$modalInstance","taxii2Enabled"],t.prototype.valid=function(){return this.taxii2Enabled?!0:!1},t.prototype.save=function(){var t={};t.taxii2Enabled=this.taxii2Enabled,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),b=function(){function t(t,e){this.$modalInstance=t,this.taxii2VerifyCert=e||"yes"}return t.$inject=["$modalInstance","taxii2VerifyCert"],t.prototype.valid=function(){return this.taxii2VerifyCert?!0:!1},t.prototype.save=function(){var t={};t.taxii2VerifyCert=this.taxii2VerifyCert,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading TAXII 2 Client"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.taxiiclientinfo",{templateUrl:"app/nodedetail/taxiiclient.info.html",controller:r,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.taxii.TaxiiClient",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.taxiiclientinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(60),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f,h){this.MineMeldRunningConfigStatusService=f,this.clientCertEnabled=!1,this.clientCertSet=!1,this.serverCAEnabled=!1,this.serverCASet=!1,this.subscriptionIdEnabled=!1,t.call(this,e,n,i,o,s,a,r,l,c,d,u,p),this.ConfirmService=h}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$modal","$rootScope","ThrottleService","MineMeldRunningConfigStatusService","ConfirmService"],e.prototype.updateMinemeldConfig=function(){var t=this;t.MineMeldRunningConfigStatusService.getStatus().then(function(e){var n;if(n=e.nodes[t.nodename],t.nodeConfig=n,t.nodeConfig.config&&0===Object.keys(t.nodeConfig.config).length&&(t.nodeConfig.config=null),n.resolvedPrototype){var i=n.resolvedPrototype.config;"boolean"!=typeof i.client_credentials_required||i.client_credentials_required?"undefined"==typeof i.username&&"undefined"==typeof i.password&&(t.usernameField="username"):t.usernameField=null,i.client_cert_required&&(t.clientCertEnabled=!0,t.MinemeldConfigService.getDataFile(t.nodename,"cert").then(function(e){return null==e?void(t.clientCertSet=!1):void t.MinemeldConfigService.getDataFile(t.nodename,"pkey").then(function(e){return null==e?void(t.clientCertSet=!1):void(t.clientCertSet=!0)},function(e){t.clientCertSet=!1})},function(e){t.clientCertSet=!1})),i.subscription_id_required&&(t.subscriptionIdEnabled=!0),i.discovery_service.startsWith("https://")&&(t.serverCAEnabled=!0,t.MinemeldConfigService.getDataFile(t.nodename+"-ca","cert").then(function(e){return null==e?void(t.serverCASet=!1):void(t.serverCASet=!0)},function(e){t.serverCASet=!1}))}},function(e){e.cancelled||t.toastr.error("ERROR RETRIEVING MINEMELD CONFIG: "+e.status)})["finally"](function(){t.updateMinemeldConfigPromise=t.$interval(t.updateMinemeldConfig.bind(t),t.updateMinemeldConfigInterval,1)})},e.prototype.uploadClientCertificate=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/taxiiclient.uploadcert.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{nodeName:function(){return e.nodename}}}),t.result.then(function(t){e.$interval.cancel(e.updateMinemeldConfigPromise),e.updateMinemeldConfig()})},e.prototype.uploadServerCA=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/taxiiclient.uploadserverca.modal.html",controller:c,controllerAs:"vm",bindToController:!0,backdrop:"static",
animation:!1,resolve:{nodeName:function(){return e.nodename}}}),t.result.then(function(t){e.$interval.cancel(e.updateMinemeldConfigPromise),e.updateMinemeldConfig()})},e.prototype.setSubscriptionId=function(){var t,e=this;this.subscriptionIdEnabled&&(t=this.$modal.open({templateUrl:"app/nodedetail/taxiiclient.sid.modal.html",controller:d,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{subscriptionId:function(){return e.subscriptionId}}}),t.result.then(function(t){return e.subscriptionId=t.subscriptionId,e.saveSideConfig().then(function(t){e.toastr.success("SUBSCRIPTION ID SET")},function(t){e.toastr.error("ERROR SETTING SUBSCRIPTION ID: "+t.statusText)})}))},e.prototype.restoreSideConfig=function(e){t.prototype.restoreSideConfig.call(this,e),e?e.subscription_id&&(this.subscriptionId=e.subscription_id):this.subscriptionId=void 0},e.prototype.prepareSideConfig=function(){var e=t.prototype.prepareSideConfig.call(this);return this.subscriptionId&&(e.subscription_id=this.subscriptionId),e},e}(a.NodeDetailCredentialsInfoController),l=function(){function t(t,e,n,i){var o=this;this.uploading=!1,this.$modalInstance=t,this.toastr=n,this.certUploader=new e({url:"/config/data/"+i+"?t=cert",method:"PUT",queueLimit:1,removeAfterUpload:!0}),this.keyUploader=new e({url:"/config/data/"+i+"?t=pkey",method:"PUT",queueLimit:1,removeAfterUpload:!0}),this.certUploader.onErrorItem=this.onErrorItem,this.keyUploader.onErrorItem=this.onErrorItem,this.certUploader.onSuccessItem=function(t){o.keyUploader.uploadAll()},this.keyUploader.onSuccessItem=function(t){o.uploading=!1,o.toastr.success("CLIENT CERT SET"),o.$modalInstance.close("ok")}}return t.$inject=["$modalInstance","FileUploader","toastr","nodeName"],t.prototype.uploadAll=function(){this.uploading=!0,this.certUploader.uploadAll()},t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t.prototype.onErrorItem=function(t,e,n){return this.uploading=!1,400===n?void this.toastr.error("ERROR UPLOADING: "+e.error.message):void this.toastr.error("ERROR UPLOADING: "+n)},t}(),c=function(){function t(t,e,n,i){var o=this;this.uploading=!1,this.$modalInstance=t,this.toastr=n,this.certUploader=new e({url:"/config/data/"+i+"-ca?t=cert",method:"PUT",queueLimit:1,removeAfterUpload:!0}),this.certUploader.onErrorItem=this.onErrorItem,this.certUploader.onSuccessItem=function(t){o.uploading=!1,o.toastr.success("SERVER CA SET"),o.$modalInstance.close("ok")}}return t.$inject=["$modalInstance","FileUploader","toastr","nodeName"],t.prototype.uploadAll=function(){this.uploading=!0,this.certUploader.uploadAll()},t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t.prototype.onErrorItem=function(t,e,n){return this.uploading=!1,400===n?void this.toastr.error("ERROR UPLOADING: "+e.error.message):void this.toastr.error("ERROR UPLOADING: "+n)},t}(),d=function(){function t(t,e){this.$modalInstance=t,this.subscriptionId=e}return t.$inject=["$modalInstance","subscriptionId"],t.prototype.valid=function(){return this.subscriptionId?!0:!1},t.prototype.save=function(){var t={};t.subscriptionId=this.subscriptionId,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading TAXII Client"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.taxiidatafeedinfo",{templateUrl:"app/nodedetail/taxiidatafeed.info.html",controller:r,controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.taxii.DataFeed",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.taxiidatafeedinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(64),r=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.renderState=function(e,n){var i;t.prototype.renderState.call(this,e,n),i=location.protocol+"//"+location.hostname,location.port&&(i+=":"+location.port),e.nodeState.discoveryServiceURL=i+"/taxii-discovery-service"},e}(a.NodeDetailFeedInfoController);console.log("Loading TAXII DataFeed"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.threatqexportinfo",{templateUrl:"app/nodedetail/threatqexport.info.html",controller:r,controllerAs:"nodedetailinfo"})}function o(t){t.registerClass("minemeld.ft.threatq.Export",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.threatqexportinfo",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(16),r=function(t){function e(e,n,i,o,s,a,r,l,c,d,u,p,f){this.MinemeldConfigService=c,this.$modal=p,this.ConfirmService=f,t.call(this,e,n,i,o,s,a,r,l,d,u),this.loadSideConfig()}return s(e,t),e.$inject=["toastr","$interval","MinemeldStatusService","moment","$scope","$compile","$state","$stateParams","MinemeldConfigService","$rootScope","ThrottleService","$modal","ConfirmService"],e.prototype.loadSideConfig=function(){var t=this;this.MinemeldConfigService.getDataFile(this.nodename+"_side_config").then(function(e){"undefined"!=typeof e.url?t.url=e.url:t.url=void 0,"undefined"!=typeof e.verify_cert?e.verify_cert?t.verify_cert=!0:t.verify_cert=!1:t.verify_cert=void 0},function(e){t.toastr.error("ERROR RETRIEVING NODE SIDE CONFIG: "+e.status),t.url=void 0,t.verify_cert=void 0})},e.prototype.saveSideConfig=function(){var t={};return"undefined"!=typeof this.url&&(t.url=this.url),"undefined"!=typeof this.verify_cert&&(t.verify_cert=this.verify_cert),this.MinemeldConfigService.saveDataFile(this.nodename+"_side_config",t,this.nodename)},e.prototype.setUrl=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/threatqexport.url.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1,resolve:{url:function(){return e.url}}}),t.result.then(function(t){return e.url=t.url,e.saveSideConfig()}).then(function(t){e.toastr.success("URL SET")},function(t){e.toastr.error("ERROR SETTING URL: "+t.status)})},e.prototype.toggleCertificateVerification=function(){var t,e,n=this;"undefined"==typeof this.verify_cert||this.verify_cert?(e=!1,t=this.ConfirmService.show("THREATQ EXPORT CERT VERIFICATION","Are you sure you want to disable certificate verification ?")):(e=!0,t=this.ConfirmService.show("THREATQ EXPORT CERT VERIFICATION","Are you sure you want to enable certificate verification ?")),t.then(function(t){return n.verify_cert=e,n.saveSideConfig()}).then(function(t){n.toastr.success("CERT VERIFICATION TOGGLED")},function(t){n.toastr.error("ERROR TOGGLING CERT VERIFICATION: "+t.status)})},e}(a.NodeDetailInfoController),l=function(){function t(t,e){this.$modalInstance=t,this.url=e}return t.$inject=["$modalInstance","url"],t.prototype.valid=function(){return this.url?!0:!1},t.prototype.save=function(){var t={};t.url=this.url,this.$modalInstance.close(t)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();console.log("Loading ThreatQ Export"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.yamldomainindicators",{templateUrl:"app/nodedetail/yamldomain.indicators.html",controller:a,controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.local.YamlDomainFT",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-list-alt",tooltip:"INDICATORS",state:"nodedetail.yamldomainindicators",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=n(78),a=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtIndicators={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_indicators=this.nodename+"_indicators",this.setupIndicatorsTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addIndicator=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/yamldomain.add.modal.html",controller:r,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.indicators.push(t),e.saveIndicators()["catch"](function(t){e.toastr.error("ERROR ADDING INDICATOR: "+t.statusText),e.dtIndicators.reloadData()})})},t.prototype.removeIndicator=function(t){var e,n,i=this;n=this.indicators[t].indicator,e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n+" ?"),e.then(function(e){i.indicators.splice(t,1),i.saveIndicators()["catch"](function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtIndicators.reloadData()})})},t.prototype.reload=function(){this.dtIndicators.reloadData()},t.prototype.configureShareLevel=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.sharelevel.modal.html",controller:s.YamlConfigureShareLevelController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},share_level:function(){var e;return e=null,n.indicators[t].share_level&&(e=n.indicators[t].share_level),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].share_level=e:n.indicators[t].share_level&&delete n.indicators[t].share_level,n.saveIndicators()})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.comment.modal.html",controller:s.YamlConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},comment:function(){var e;return e=null,n.indicators[t].comment&&(e=n.indicators[t].comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.indicators[t].comment=e:n.indicators[t].comment&&delete n.indicators[t].comment,n.saveIndicators()})},t.prototype.setupIndicatorsTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_indicators).then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING INDICATORS LIST: "+e.statusText),e}).then(function(e){return t.indicators=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("stateSave",!0).withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.configureShareLevel("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.removeIndicator("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete indicator"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("indicator").withTitle("INDICATOR").withOption("width","25%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("share_level").withTitle("SHARE LEVEL").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("yellow"===t)i="label-warning",o="YELLOW";else if("red"===t)i="label-danger",o="RED";else{if("green"!==t)return"";i="label-success",o="GREEN"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.saveIndicators=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_indicators,this.indicators,this.nodename).then(function(e){t.toastr.success("CHANGES SAVED"),t.dtIndicators.reloadData()})},t}(),r=function(){function t(t){this.share_level="red",this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.save=function(){var t={};t.indicator=this.indicator,this.share_level&&(t.share_level=this.share_level),this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.valid=function(){return this.indicator?this.validateIndicator()?(angular.element("#fgIndicator").removeClass("has-error"),!0):(angular.element("#fgIndicator").addClass("has-error"),!1):!1},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.validateIndicator=function(){return!0},t}();console.log("Loading yamldomain"),angular.module("minemeldWebui").config(i).run(o)},function(t,e){var n=function(){function t(t,e,n){this.$modalInstance=t,this.origShareLevel=n,this.share_level=this.origShareLevel,this.indicator=e}return t.$inject=["$modalInstance","indicator","share_level"],t.prototype.save=function(){this.$modalInstance.close(this.share_level)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.YamlConfigureShareLevelController=n;var i=function(){function t(t,e,n){this.$modalInstance=t,this.origComment=n,this.comment=this.origComment,this.indicator=e}return t.$inject=["$modalInstance","indicator","comment"],t.prototype.save=function(){this.$modalInstance.close(this.comment)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}();e.YamlConfigureCommentController=i},function(t,e,n){function i(t){t.state("nodedetail.yamlipv4indicators",{templateUrl:"app/nodedetail/yamlipv4.indicators.html",controller:r,controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.local.YamlIPv4FT",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-list-alt",tooltip:"INDICATORS",state:"nodedetail.yamlipv4indicators",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=n(78),a=function(){function t(t,e,n){this.availableDirections=[{value:"inbound"},{value:"outbound"}],this.$modalInstance=t,this.origDirection=n,this.direction=this.origDirection,this.indicator=e}return t.$inject=["$modalInstance","indicator","direction"],t.prototype.save=function(){this.$modalInstance.close(this.direction)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),r=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtIndicators={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_indicators=this.nodename+"_indicators",this.setupIndicatorsTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addIndicator=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/yamlipv4.add.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.indicators.push(t),e.saveIndicators()["catch"](function(t){e.toastr.error("ERROR ADDING INDICATOR: "+t.statusText),e.dtIndicators.reloadData()})})},t.prototype.removeIndicator=function(t){var e,n,i=this;n=this.indicators[t].indicator,e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n+" ?"),e.then(function(e){i.indicators.splice(t,1),i.saveIndicators()["catch"](function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtIndicators.reloadData()})})},t.prototype.reload=function(){this.dtIndicators.reloadData()},t.prototype.configureDirection=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yamlipv4.direction.modal.html",controller:a,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},direction:function(){var e;return e=null,n.indicators[t].direction&&(e=n.indicators[t].direction),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].direction=e:n.indicators[t].direction&&delete n.indicators[t].direction,n.saveIndicators()})},t.prototype.configureShareLevel=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.sharelevel.modal.html",controller:s.YamlConfigureShareLevelController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},share_level:function(){var e;return e=null,n.indicators[t].share_level&&(e=n.indicators[t].share_level),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].share_level=e:n.indicators[t].share_level&&delete n.indicators[t].share_level,n.saveIndicators()})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.comment.modal.html",controller:s.YamlConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},comment:function(){var e;return e=null,n.indicators[t].comment&&(e=n.indicators[t].comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.indicators[t].comment=e:n.indicators[t].comment&&delete n.indicators[t].comment,n.saveIndicators()})},t.prototype.setupIndicatorsTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_indicators).then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING INDICATORS LIST: "+e.statusText),e}).then(function(e){return t.indicators=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.configureDirection("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureShareLevel("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[4],o.setAttribute("ng-click","vm.removeIndicator("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete indicator"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("indicator").withTitle("INDICATOR").withOption("width","25%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("direction").withTitle("DIRECTION").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("inbound"===t)i="label-info",o="INBOUND";else{if("outbound"!==t)return"";i="label-primary",o="OUTBOUND"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("share_level").withTitle("SHARE LEVEL").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("yellow"===t)i="label-warning",o="YELLOW";else if("red"===t)i="label-danger",o="RED";else{if("green"!==t)return"";i="label-success",o="GREEN"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.saveIndicators=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_indicators,this.indicators,this.nodename).then(function(e){t.toastr.success("CHANGES SAVED"),t.dtIndicators.reloadData()})},t}(),l=function(){function t(t){this.share_level="red",this.availableDirections=[{value:"inbound"},{value:"outbound"}],this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.save=function(){var t={};t.indicator=this.indicator,this.share_level&&(t.share_level=this.share_level),("inbound"===this.direction||"outbound"===this.direction)&&(t.direction=this.direction),this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.valid=function(){return this.indicator?this.validateIndicator()?(angular.element("#fgIndicator").removeClass("has-error"),!0):(angular.element("#fgIndicator").addClass("has-error"),!1):!1},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.validateIPv4=function(t){var e,n,i,o;if(e=t.split("."),4!==e.length)return-1;for(o=0,n=e.length-1;n>=0;n--){if(i=parseInt(e[n],10),isNaN(i))return-1;if(0>i||i>255)return-1;o+=i*(1<<8*n)}return o},t.prototype.validateIndicator=function(){var t,e,n,i,o;if(t=this.indicator.split("-"),t.length>2)return!1;if(2===t.length)return i=this.validateIPv4(t[0]),0>i?!1:(o=this.validateIPv4(t[1]),0>o?!1:o>=i);if(e=t[0].split("/"),e.length>2)return!1;if(2===e.length){if(n=parseInt(e[1],10),isNaN(n))return!1;if(0>n||n>32)return!1}return this.validateIPv4(e[0])>0},t}();console.log("Loading yamlipv4"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.yamlipv6indicators",{templateUrl:"app/nodedetail/yamlipv6.indicators.html",controller:r,controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.local.YamlIPv6FT",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-list-alt",tooltip:"INDICATORS",state:"nodedetail.yamlipv6indicators",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=n(78),a=function(){function t(t,e,n){this.availableDirections=[{value:"inbound"},{value:"outbound"}],this.$modalInstance=t,this.origDirection=n,this.direction=this.origDirection,this.indicator=e}return t.$inject=["$modalInstance","indicator","direction"],t.prototype.save=function(){this.$modalInstance.close(this.direction)},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t}(),r=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtIndicators={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_indicators=this.nodename+"_indicators",this.setupIndicatorsTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addIndicator=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/yamlipv6.add.modal.html",controller:l,controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.indicators.push(t),e.saveIndicators()["catch"](function(t){e.toastr.error("ERROR ADDING INDICATOR: "+t.statusText),e.dtIndicators.reloadData()})})},t.prototype.removeIndicator=function(t){var e,n,i=this;n=this.indicators[t].indicator,e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n+" ?"),e.then(function(e){i.indicators.splice(t,1),i.saveIndicators()["catch"](function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtIndicators.reloadData()})})},t.prototype.reload=function(){this.dtIndicators.reloadData()},t.prototype.configureDirection=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yamlipv6.direction.modal.html",controller:a,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},direction:function(){var e;return e=null,n.indicators[t].direction&&(e=n.indicators[t].direction),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].direction=e:n.indicators[t].direction&&delete n.indicators[t].direction,n.saveIndicators()})},t.prototype.configureShareLevel=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.sharelevel.modal.html",controller:s.YamlConfigureShareLevelController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},share_level:function(){var e;return e=null,n.indicators[t].share_level&&(e=n.indicators[t].share_level),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].share_level=e:n.indicators[t].share_level&&delete n.indicators[t].share_level,n.saveIndicators()})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.comment.modal.html",controller:s.YamlConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},comment:function(){var e;return e=null,n.indicators[t].comment&&(e=n.indicators[t].comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.indicators[t].comment=e:n.indicators[t].comment&&delete n.indicators[t].comment,n.saveIndicators()})},t.prototype.setupIndicatorsTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_indicators).then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING INDICATORS LIST: "+e.statusText),e}).then(function(e){return t.indicators=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.configureDirection("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureShareLevel("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[4],o.setAttribute("ng-click","vm.removeIndicator("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete indicator"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("indicator").withTitle("INDICATOR").withOption("width","25%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("direction").withTitle("DIRECTION").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("inbound"===t)i="label-info",o="INBOUND";else{if("outbound"!==t)return"";i="label-primary",o="OUTBOUND"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("share_level").withTitle("SHARE LEVEL").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("yellow"===t)i="label-warning",o="YELLOW";else if("red"===t)i="label-danger",o="RED";else{if("green"!==t)return"";i="label-success",o="GREEN"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.saveIndicators=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_indicators,this.indicators,this.nodename).then(function(e){t.toastr.success("CHANGES SAVED"),t.dtIndicators.reloadData()})},t}(),l=function(){function t(t){this.share_level="red",this.availableDirections=[{value:"inbound"},{value:"outbound"}],this.ipv6re=new RegExp("^[0-9A-Za-z]{1,4}$"),this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.save=function(){var t={};t.indicator=this.indicator,this.share_level&&(t.share_level=this.share_level),("inbound"===this.direction||"outbound"===this.direction)&&(t.direction=this.direction),this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.valid=function(){return this.indicator?this.validateIndicator()?(angular.element("#fgIndicator").removeClass("has-error"),!0):(angular.element("#fgIndicator").addClass("has-error"),!1):!1},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.validateIPv6=function(t){var e,n,i=!1;if(e=t.split(":"),e.length>8)return!1;for(n=0;n<e.length;n++)if(0!==e[n].length){if(!this.ipv6re.test(e[n]))return!1}else{if(i)return!1;i=!0}return e.length<8&&!i?!1:!0},t.prototype.validateIndicator=function(){var t,e,n;if(t=this.indicator.split("-"),t.length>2)return!1;if(2===t.length)return this.validateIPv6(t[0])&&this.validateIPv6(t[1])?!0:!1;if(e=t[0].split("/"),e.length>2)return!1;if(2===e.length){if(n=parseInt(e[1],10),isNaN(n))return!1;if(0>n||n>128)return!1}return this.validateIPv6(e[0])},t}();console.log("Loading yamlipv6"),angular.module("minemeldWebui").config(i).run(o)},function(t,e,n){function i(t){t.state("nodedetail.yamlurlindicators",{templateUrl:"app/nodedetail/yamlurl.indicators.html",controller:a,controllerAs:"vm"})}function o(t){t.registerClass("minemeld.ft.local.YamlURLFT",{tabs:[{icon:"fa fa-circle-o",tooltip:"INFO",state:"nodedetail.info",active:!1},{icon:"fa fa-area-chart",tooltip:"STATS",state:"nodedetail.stats",active:!1},{icon:"fa fa-list-alt",tooltip:"INDICATORS",state:"nodedetail.yamlurlindicators",active:!1},{icon:"fa fa-asterisk",tooltip:"GRAPH",state:"nodedetail.graph",active:!1}]})}i.$inject=["$stateProvider"],o.$inject=["NodeDetailResolver"];var s=n(78),a=function(){function t(t,e,n,i,o,s,a,r){this.changed=!1,this.dtIndicators={},this.MinemeldConfigService=e,this.$scope=n,this.toastr=t,this.DTColumnBuilder=o,this.DTOptionsBuilder=i,this.$compile=s,this.$modal=a,this.ConfirmService=r,this.nodename=n.$parent.nodedetail.nodename,this.cfd_indicators=this.nodename+"_indicators",this.setupIndicatorsTable()}return t.$inject=["toastr","MinemeldConfigService","$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$modal","ConfirmService"],t.prototype.addIndicator=function(){var t,e=this;t=this.$modal.open({templateUrl:"app/nodedetail/yamlurl.add.modal.html",controller:r,
controllerAs:"vm",bindToController:!0,backdrop:"static",animation:!1}),t.result.then(function(t){e.indicators.push(t),e.saveIndicators()["catch"](function(t){e.toastr.error("ERROR ADDING INDICATOR: "+t.statusText),e.dtIndicators.reloadData()})})},t.prototype.removeIndicator=function(t){var e,n,i=this;n=this.indicators[t].indicator,e=this.ConfirmService.show("DELETE INDICATOR","Are you sure you want to delete indicator "+n+" ?"),e.then(function(e){i.indicators.splice(t,1),i.saveIndicators()["catch"](function(t){i.toastr.error("ERROR REMOVING INDICATOR: "+t.statusText),i.dtIndicators.reloadData()})})},t.prototype.reload=function(){this.dtIndicators.reloadData()},t.prototype.configureShareLevel=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.sharelevel.modal.html",controller:s.YamlConfigureShareLevelController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},share_level:function(){var e;return e=null,n.indicators[t].share_level&&(e=n.indicators[t].share_level),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e?n.indicators[t].share_level=e:n.indicators[t].share_level&&delete n.indicators[t].share_level,n.saveIndicators()})},t.prototype.configureComment=function(t){var e,n=this;e=this.$modal.open({templateUrl:"app/nodedetail/yaml.comment.modal.html",controller:s.YamlConfigureCommentController,controllerAs:"vm",bindToController:!0,resolve:{indicator:function(){return n.indicators[t].indicator},comment:function(){var e;return e=null,n.indicators[t].comment&&(e=n.indicators[t].comment),e}},backdrop:"static",animation:!1}),e.result.then(function(e){e&&0!==e.length?n.indicators[t].comment=e:n.indicators[t].comment&&delete n.indicators[t].comment,n.saveIndicators()})},t.prototype.setupIndicatorsTable=function(){var t=this;this.dtOptions=this.DTOptionsBuilder.fromFnPromise(function(){return t.MinemeldConfigService.getDataFile(t.cfd_indicators).then(function(e){return t.changed=!1,null===e?[]:e},function(e){throw t.toastr.error("ERROR LOADING INDICATORS LIST: "+e.statusText),e}).then(function(e){return t.indicators=e,e})}).withBootstrap().withPaginationType("simple_numbers").withOption("aaSorting",[]).withOption("aaSortingFixed",[]).withOption("stateSave",!0).withOption("deferRender",!0).withOption("lengthMenu",[[50,200,-1],[50,200,"All"]]).withOption("createdRow",function(e,n,i){var o;e.className+=" config-table-row",o=e.childNodes[1],o.setAttribute("ng-click","vm.configureShareLevel("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[2],o.setAttribute("ng-click","vm.configureComment("+i+")"),o.className+=" config-table-clickable",o=e.childNodes[3],o.setAttribute("ng-click","vm.removeIndicator("+i+")"),o.style.textAlign="center",o.style.verticalAlign="middle",o.setAttribute("tooltip","delete indicator"),o.setAttribute("tooltip-popup-delay","500"),o.className+=" config-table-clickable",t.$compile(angular.element(e).contents())(t.$scope)}).withLanguage({oPaginate:{sNext:">",sPrevious:"<"}}),this.dtColumns=[this.DTColumnBuilder.newColumn("indicator").withTitle("INDICATOR").withOption("width","50%").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn("share_level").withTitle("SHARE LEVEL").withOption("defaultContent"," ").withOption("width","130px").renderWith(function(t,e,n){var i,o;if("yellow"===t)i="label-warning",o="YELLOW";else if("red"===t)i="label-danger",o="RED";else{if("green"!==t)return"";i="label-success",o="GREEN"}return'<span class="label '+i+'">'+o+"</span>"}),this.DTColumnBuilder.newColumn("comment").withTitle("COMMENT").withOption("defaultContent"," ").renderWith(function(t,e,n){return t?he.encode(t,{strict:!0}):""}),this.DTColumnBuilder.newColumn(null).withTitle("").notSortable().renderWith(function(t,e,n){return'<span class="config-table-icon glyphicon glyphicon-remove"></span>'}).withOption("width","30px")]},t.prototype.saveIndicators=function(){var t=this;return this.MinemeldConfigService.saveDataFile(this.cfd_indicators,this.indicators,this.nodename).then(function(e){t.toastr.success("CHANGES SAVED"),t.dtIndicators.reloadData()})},t}(),r=function(){function t(t){this.share_level="red",this.availableDirections=[{value:"inbound"},{value:"outbound"}],this.$modalInstance=t}return t.$inject=["$modalInstance"],t.prototype.save=function(){var t={};t.indicator=this.indicator,this.share_level&&(t.share_level=this.share_level),this.comment&&(t.comment=this.comment),this.$modalInstance.close(t)},t.prototype.valid=function(){return this.indicator?this.validateIndicator()?(angular.element("#fgIndicator").removeClass("has-error"),!0):(angular.element("#fgIndicator").addClass("has-error"),!1):!1},t.prototype.cancel=function(){this.$modalInstance.dismiss()},t.prototype.validateIndicator=function(){return!0},t}();console.log("Loading yamlurl"),angular.module("minemeldWebui").config(i).run(o)}]),angular.module("minemeldWebui").run(["$templateCache",function(t){t.put("app/about/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs" style="display: flex; align-items: center;"><img style="width:auto; height:24px;" src="assets/images/logo.png"> <span style="margin-left: 5px;">MINEMELD WEBUI</span></h3><div>VERSION: 0.9.70</div></div></div><div class="row" style="margin-top: 20px;"><div class="col-sm-12 col-md-12"><div><a href="https://github.com/PaloAltoNetworks" class="btn btn-primary">FILE AN ISSUE ON GITHUB</a> <a href="https://live.paloaltonetworks.com/t5/MineMeld/ct-p/MineMeld" class="btn btn-primary">LOOK FOR SUPPORT ON LIVE</a></div></div></div><div class="row" style="margin-top: 50px;"><div class="col-sm-12 col-md-12"><h5>Copyright 2015-2018 Palo Alto Networks, Inc.</h5><div>Source code for this project has been made available under Open Source <a href="http://github.com">here</a></div></div></div><div class="row" style="margin-top: 50px;"><div class="col-sm-12 col-md-12"><h5>Current user: {{ vm.MineMeldCurrentUserService.currentUser.id }} <span ng-if="!vm.MineMeldCurrentUserService.currentUser.read_write">(read-only)</span></h5></div></div>'),t.put("app/admin/admin.add.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.title|uppercase }}</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">USERNAME</label><div class="col-xs-6"><input type="text" ng-disabled="vm.set_password" ng-model="vm.username" class="form-control" placeholder="Username (required)"></div></div><div class="form-group" id="fgPassword1"><label class="col-xs-4 control-label">PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.password" class="form-control" placeholder="Password"></div></div><div class="form-group" id="fgPassword2"><label class="col-xs-4 control-label">REPEAT PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.password2" class="form-control" placeholder="Repeat Password"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/admin/admin.comment.modal.html",'<div class="modal-header"><h1 class="modal-title">USERNAME {{ vm.username }} <span ng-if="vm.origComment != vm.comment">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-3 m-t-xs">COMMENT</div><div class="col-xs-9"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></div><div class="modal-footer"><button ng-disabled="vm.origComment == vm.comment" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/admin/admin.tags.modal.html",'<div class="modal-header"><h1 class="modal-title">SET ACCESS <span ng-if="vm.changed">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">TAGS</div><div class="col-xs-10"><ui-select multiple="" ng-model="vm.tags" theme="bootstrap" on-select="vm.changed = true" on-remove="vm.changed = true" tagging="" tagging-label=""><ui-select-match placeholder="Add tags...">{{ $item }}</ui-select-match><ui-select-choices ui-disable-choice="tag == \'any\' || tag == \'anonymous\'" repeat="tag as tag in vm.availableTags | filter: $select.search"><div><span ng-bind-html="tag | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>Type to add a new tag</i></ui-select-no-choice></ui-select></div></div></div><div class="modal-footer"><button ng-disabled="!vm.changed" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/admin/view.fusers.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">FEEDS USERS <button tooltip-popup-delay="500" tooltip="reload users list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5><div ng-if="!vm.enabled" class="alert alert-danger m-b-xs" role="alert"><strong>Warning!</strong> authentication for output feeds is disabled</div></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtUsers" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="5" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add user" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addUser()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/admin/view.html",'<div class="row"><div class="col-xs-1 nodedetail-tabs-col"><tabset vertical="true"><tab ng-repeat="tab in vm.tabs" active="tab.active" select="vm.select(tab.state)"><tab-heading tooltip="{{ tab.tooltip }}" tooltip-placement="right" tooltip-popup-delay="500"><span class="{{ tab.icon }}"></span></tab-heading></tab></tabset></div><div class="col-xs-11 nodedetails-content-col"><div ui-view=""></div></div></div>'),t.put("app/admin/view.users.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">ADMIN USERS <button tooltip-popup-delay="500" tooltip="reload users list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtUsers" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="4" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add user" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addUser()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/config/configadd.view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs">ADD NODE</h3></div></div><div class="row"><form class="config-add-form form-horizontal"><div class="form-group" id="nodename"><label class="col-sm-2 col-md-2 control-label">NAME</label><div class="col-sm-6 col-md-6"><input type="text" ng-model="vm.name" class="form-control" placeholder="Node name"></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">PROTOTYPE</label><div class="col-sm-6 col-md-6"><ui-select ng-model="vm.prototype" theme="bootstrap" reset-search-input="false" style="width: 100%;" on-select="vm.prototypeSelected($item, $model)" on-remove="vm.prototypeRemoved($item, $model)"><ui-select-match placeholder="Select prototype...">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'nodeType\'" repeat="prototype.name as prototype in vm.availablePrototypes | filter: {\'name\':$select.search}"><div><span tooltip-template="\'prototype-tooltip.html\'" tooltip-append-to-body="true" tooltip-placement="right" tooltip-popup-delay="1000" ng-bind-html="prototype.name | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group" ng-if="vm.selectedPrototype && vm.selectedPrototype.developmentStatus != \'STABLE\'"><div class="col-sm-6 col-md-6 col-md-offset-2 col-sm-offset-2"><div class="alert alert-danger m-b-xs" role="alert"><strong>WARNING !</strong> Selected prototype is marked as <strong>{{ vm.selectedPrototype.developmentStatus }}</strong></div></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">INPUTS</label><div class="col-sm-6 col-md-6"><ui-select multiple="" ng-model="vm.inputs" theme="bootstrap" ng-disabled="vm.inputsDisabled" on-select="vm.inputsChanged()" on-remove="vm.inputsChanged()"><ui-select-match placeholder="Select input nodes...">{{$item.name}}</ui-select-match><ui-select-choices group-by="\'nodeType\'" repeat="input.name as input in vm.availableInputs | filter: {\'name\':$select.search}"><div><span ng-bind-html="input.name | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>{{ vm.noInputsChoiceMessage }}</i></ui-select-no-choice></ui-select></div></div><div ng-if="false" class="form-group"><label class="col-sm-2 col-md-2 control-label">OUTPUT</label><div class="col-sm-6 col-md-6"><span ng-if="!vm.output" class="btn config-btn-disabled btn-sm" type="button" ng-click="vm.output = true">DISABLED</span> <span ng-if="vm.output" class="btn config-btn-enabled active btn-sm" type="button" ng-click="vm.output = false">ENABLED</span></div></div></form></div><div class="row"><div class="col-sm-8 col-md-8 text-right"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.back()">CANCEL</button></div></div><script type="text/ng-template" id="prototype-tooltip.html"><prototype-tooltip name="prototype.name"></prototype-tooltip></script>'),t.put("app/config/configureexport.modal.html",'<div class="modal-header"><h1 class="modal-title">EXPORT CANDIDATE CONFIGURATION</h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">CONFIG</div><div class="col-xs-10"><div class="prototypeadd-ace-editor form-control" ng-readonly="true" ng-model="vm.config" ui-ace="{ useWrapMode : false, showGutter: true, theme:\'github\', mode: \'yaml\', firstLineNumber: 1, onLoad: vm.editorLoaded }"></div></div></div></div><div class="modal-footer"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.copyToClipboard()">COPY TO CLIPBOARD</button> <button class="btn btn-primary btn-sm" type="button" ng-click="vm.ok()">OK</button></div>'),t.put("app/config/configureimport.modal.html",'<div class="modal-header"><h1 class="modal-title">IMPORT CANDIDATE CONFIGURATION</h1></div><div class="modal-body"><div ng-class="[\'row\', {\'has-error\': !vm.syntaxValid }]"><div class="col-xs-2">CONFIG</div><div class="col-xs-10"><div class="prototypeadd-ace-editor form-control" ng-readonly="vm.processing" ng-model="vm.config" ui-ace="{ useWrapMode : false, showGutter: true, theme:\'github\', mode: \'yaml\', firstLineNumber: 1, onLoad: vm.editorLoaded, onChange: vm.aceChanged }"></div></div></div></div><div class="modal-footer"><button ng-if="vm.numAnnotations !== 0" class="btn btn-modal-action btn-sm" style="float: left;" ng-click="vm.errorClick()"><span class="glyphicon glyphicon glyphicon-remove-sign text-danger"></span> <span ng-bind="vm.numAnnotations"></span></button><div ng-if="vm.processing" style="float: left; width: 70%;"><progressbar style="margin-top: 5px; margin-bottom: 0px;" max="vm.progressMax" value="vm.progressValue" type="success"></progressbar></div><button ng-disabled="!vm.valid || vm.processing" class="btn btn-primary btn-sm" type="button" ng-click="vm.append()">APPEND</button> <button ng-disabled="!vm.valid || vm.processing" class="btn btn-primary btn-sm" type="button" ng-click="vm.replace()">REPLACE</button> <button ng-disabled="vm.processing" class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/config/configureinputs.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.nodeConfig.name }} <span ng-if="vm.changed">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">INPUTS</div><div class="col-xs-10"><ui-select multiple="" ng-model="vm.inputs" theme="bootstrap" on-select="vm.hasChanged()" on-remove="vm.hasChanged()"><ui-select-match placeholder="Select input nodes...">{{$item.name}}</ui-select-match><ui-select-choices group-by="\'nodeType\'" repeat="input.name as input in vm.availableInputs | filter: {\'name\':$select.search}"><div><span ng-bind-html="input.name | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>{{ vm.noChoiceMessage }}</i></ui-select-no-choice></ui-select></div></div></div><div class="modal-footer"><button ng-if="!vm.expertMode" tooltip-popup-delay="500" tooltip="enable expert mode" type="button" style="float: left;" class="btn btn-modal-action btn-sm" ng-click="vm.toggleExpert()"><span class="glyphicon glyphicon-eye-open"></span></button> <button ng-if="vm.expertMode" tooltip-popup-delay="500" tooltip="disable expert mode" type="button" style="float: left;" class="btn btn-modal-action btn-sm" ng-click="vm.toggleExpert()"><span class="glyphicon glyphicon-eye-close"></span></button> <button ng-disabled="!vm.changed" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/config/configureoutput.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.nodeConfig.name }} <span ng-if="vm.originalOutput != vm.output">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">OUTPUT</div><div class="col-xs-10"><span ng-if="!vm.output" class="btn config-btn-disabled btn-xs" style="margin-left: 10px;" type="button" ng-click="vm.enableOutput()">DISABLED</span> <span ng-if="vm.output" class="btn config-btn-enabled btn-xs active" style="margin-left: 10px;" type="button" ng-click="vm.disableOutput()">ENABLED</span></div></div></div><div class="modal-footer"><button ng-disabled="vm.originalOutput == vm.output" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/config/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><button ng-if="vm.MineMeldCurrentUserService.currentUser.read_write" tooltip-popup-delay="500" tooltip="commit config" type="button" class="btn btn-primary btn-sm" ng-disabled="(vm.changed === false) || vm.inCommit" ng-click="vm.commit()"><span class="glyphicon glyphicon-save"></span> COMMIT</button> <button tooltip-popup-delay="500" tooltip="export config" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.export()"><span class="glyphicon glyphicon-export"></span> EXPORT</button> <button tooltip-popup-delay="500" tooltip="import config" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.import()"><span class="glyphicon glyphicon-import"></span> IMPORT</button> <button tooltip-popup-delay="500" tooltip="load committed config" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.load()"><span class="glyphicon glyphicon-refresh"></span> LOAD</button> <button tooltip-popup-delay="500" tooltip="revert to running config" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.revert()"><span class="glyphicon glyphicon-refresh"></span> REVERT</button></div></div><div class="row"><div class="col-sm-12 col-md-12"><table datatable="" id="configTable" dt-instance="vm.dtNodes" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="3" style="padding-left: 0;"><div class="btn-toolbar" style="float: left;"><button ng-if="!vm.expertMode" tooltip-popup-delay="500" tooltip="enable expert mode" type="button" class="btn btn-config-action btn-sm" ng-click="vm.toggleExpert()"><span class="glyphicon glyphicon-eye-open"></span></button> <button ng-if="vm.expertMode" tooltip-popup-delay="500" tooltip="disable expert mode" type="button" class="btn btn-config-action btn-sm" ng-click="vm.toggleExpert()"><span class="glyphicon glyphicon-eye-close"></span></button></div></td><td colspan="4" style="padding-right: 0;"><div class="btn-toolbar" style="float: right;"><button tooltip-popup-delay="500" tooltip="browse prototypes" class="btn btn-primary btn-sm" type="button" ng-click="vm.$state.go(\'prototypes\')"><span class="glyphicon glyphicon-menu-hamburger"></span></button> <button ng-if="vm.expertMode" tooltip-popup-delay="500" tooltip="add node" class="btn btn-primary btn-sm" type="button" ng-click="vm.$state.go(\'configadd\')"><span class="glyphicon glyphicon-plus"></span></button></div></td></tr></tfoot></table></div></div>'),t.put("app/dashboard/view.html",'<svg height="6" width="6" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><pattern id="pattern-added" patternunits="userSpaceOnUse" width="3" height="3"><path d="M0 3L3 0M-1 1L1 -1M2 4L4 2" stroke="#586994" stroke-width="1"></path></pattern><pattern id="pattern-removed" patternunits="userSpaceOnUse" width="3" height="3"><path d="M0 3L3 0M-1 1L1 -1M2 4L4 2" stroke="#977390" stroke-width="1"></path></pattern><pattern id="pattern-indicators" patternunits="userSpaceOnUse" width="3" height="3"><path d="M0 3L3 0M-1 1L1 -1M2 4L4 2" stroke="#91B7C7" stroke-width="1"></path></pattern></defs></svg><div class="row dashboard-row"><div class="col-sm-3 col-md-3"><div class="row dashboard-row-processor"><div class="dashboard-label dashboard-label-processor"><div class="dashboard-label-text">NODES</div></div><div class="col-xs-10"><div class="row"><div class="col-xs-4 dashboard-3-statistic text-center"><h3 class="m-b-xs dashboard-miner" ng-bind="(dashboard.numMiners|megaNumber)||0"></h3><small>MINERS</small></div><div class="col-xs-4 dashboard-3-statistic text-center"><h3 class="m-b-xs dashboard-processor" ng-bind="(dashboard.numProcessors|megaNumber)||0"></h3><small>PROCS</small></div><div class="col-xs-4 dashboard-3-statistic text-center"><h3 class="m-b-xs dashboard-output" ng-bind="(dashboard.numOutputs|megaNumber)||0"></h3><small>OUTPUTS</small></div></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-processor"><div class="col-xs-12 dashboard-main-statistic text-center"><h2 class="m-b-xs" ng-bind="(dashboard.numIndicators|megaNumber)||0"></h2><small># OF INDICATORS</small></div></div></div><div class="col-sm-6 col-md-6"><div class="row dashboard-row-processor"><div class="col-xs-12 dashboard-chart-column"><div class="dashboard-chart-title small m-t-xs"># OF INDICATORS (LAST {{dashboard.chartRange}})</div><nvd3 class="dashboard-indicators-chart" ng-if="dashboard.minemeldMetrics.length" api="dashboard.minemeldMetricsLengthAPI" options="dashboard.indicatorsOptions" data="dashboard.minemeldMetrics.length"></nvd3><div ng-if="!dashboard.minemeldMetrics.length" class="dashboard-chart-placeholder">NO STATS YET</div></div></div></div></div><div class="row dashboard-row"><div class="col-sm-4 col-md-3"><div class="row dashboard-row-miner"><div class="dashboard-label dashboard-label-miner"><div class="dashboard-label-text">MINERS</div></div><div class="col-xs-6 dashboard-main-statistic text-center"><h2 class="m-b-xs" ng-bind="(dashboard.minersStats.length|megaNumber)||0"></h2><small># OF INDICATORS</small></div><div class="col-xs-2"><div class="dashboard-added"><h4 class="m-b-xs" ng-bind="(dashboard.minersStats.added|megaNumber)||0"></h4><small>ADDED</small></div><div class="dashboard-removed"><h4 class="m-b-xs" ng-bind="(dashboard.minersStats.aged_out|megaNumber)||0"></h4><small>AGED OUT</small></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-miner"><div class="col-xs-12 dashboard-chart-column"><div class="dashboard-chart-title small m-t-xs"># OF INDICATORS (LAST {{dashboard.chartRange}})</div><nvd3 class="dashboard-indicators-chart" ng-if="dashboard.minersMetrics.length" options="dashboard.indicatorsOptions" api="dashboard.minersMetricsLengthAPI" data="dashboard.minersMetrics.length"></nvd3><div ng-if="!dashboard.minersMetrics.length" class="dashboard-chart-placeholder">NO STATS YET</div></div></div></div><div class="col-sm-5 col-md-6"><div class="row dashboard-row-miner"><div class="col-xs-12 dashboard-chart-column"><div class="dashboard-chart-title small m-t-xs">ADDED/AGED OUT (LAST {{dashboard.chartRange}})</div><nvd3 class="dashboard-ar-chart" ng-if="dashboard.minersMetrics.ar" options="dashboard.arOptions" api="dashboard.minersMetricsArAPI" data="dashboard.minersMetrics.ar"></nvd3><div ng-if="!dashboard.minersMetrics.ar" class="dashboard-chart-placeholder">NO STATS YET</div></div></div></div></div><div class="row dashboard-row"><div class="col-sm-4 col-md-3"><div class="row dashboard-row-output"><div class="dashboard-label dashboard-label-output"><div class="dashboard-label-text">OUTPUTS</div></div><div class="col-xs-6 dashboard-main-statistic text-center"><h2 class="m-b-xs" ng-bind="(dashboard.outputsStats.length|megaNumber)||0"></h2><small># OF INDICATORS</small></div><div class="col-xs-4"><div class="dashboard-added"><h4 class="m-b-xs" ng-bind="(dashboard.outputsStats.added|megaNumber)||0"></h4><small>ADDED</small></div><div class="dashboard-removed"><h4 class="m-b-xs" ng-bind="(dashboard.outputsStats.removed|megaNumber)||0"></h4><small>REMOVED</small></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-output"><div class="col-xs-12 dashboard-chart-column"><div class="dashboard-chart-title small m-t-xs"># OF INDICATORS (LAST {{dashboard.chartRange}})</div><nvd3 class="dashboard-indicators-chart" ng-if="dashboard.outputsMetrics.length" options="dashboard.indicatorsOptions" api="dashboard.outputsMetricsLengthAPI" data="dashboard.outputsMetrics.length"></nvd3><div ng-if="!dashboard.outputsMetrics.length" class="dashboard-chart-placeholder">NO STATS YET</div></div></div></div><div class="col-sm-5 col-md-6"><div class="row dashboard-row-output"><div class="col-xs-12 dashboard-chart-column"><div class="dashboard-chart-title small m-t-xs">ADDED/REMOVED (LAST {{dashboard.chartRange}})</div><nvd3 class="dashboard-ar-chart" ng-if="dashboard.outputsMetrics.ar" options="dashboard.arOptions" api="dashboard.outputsMetricsArAPI" data="dashboard.outputsMetrics.ar"></nvd3><div ng-if="!dashboard.outputsMetrics.ar" class="dashboard-chart-placeholder">NO STATS YET</div></div></div></div></div><minemeld-options><h5 class="m-t-xs m-b-xs">OPTIONS</h5><div class="minemeld-options-form"><h6>Range</h6><select class="form-control" ng-model="dashboard.chartRange" ng-change="dashboard.chartRangeChanged()"><option value="1h">1 hour</option><option value="24h">24 hours</option><option value="7d">7 days</option><option value="30d">30 days</option></select></div></minemeld-options>'),t.put("app/indicatoradd/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs">ADD INDICATOR</h3></div></div><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgIndicator" class="form-group"><label class="col-sm-2 col-md-2 control-label">INDICATOR</label><div class="col-sm-6 col-md-6"><input type="text" ng-model="vm.indicator" class="form-control" placeholder="Indicator (required)" required=""></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">TYPE</label><div class="col-sm-6 col-md-6"><ui-select ng-model="vm.$type" theme="bootstrap" reset-search-input="false" style="width: 100%;" on-select="vm.typeSelected($item, $model)" on-remove="vm.typeRemoved($item, $model)"><ui-select-match placeholder="Indicator type...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="$type in vm.availableTypes | filter: $select.search"><div><span ng-bind-html="$type | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">SHARE LEVEL</label><div class="col-sm-6 col-md-6"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">COMMENT</label><div class="col-sm-6 col-md-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div><div class="form-group"><div class="col-sm-8 col-md-8"><hr></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">MINERS</label><div class="col-sm-6 col-md-6"><ui-select multiple="" ng-model="vm.nodes" theme="bootstrap"><ui-select-match placeholder="Miners to add the indicator to...">{{$item}}</ui-select-match><ui-select-choices repeat="node in vm.currAvailableNodes | filter: $select.search">{{ node }}</ui-select-choices></ui-select></div></div></form></div><div class="row"><div class="col-sm-8 col-md-8 text-right"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.back()">CANCEL</button></div></div>'),t.put("app/login/view.html",'<div id="login-background"><img src="assets/images/logo.png" class="m-b-xs"><h2 class="m-t-xs">MINEMELD</h2><form ng-submit="login.submit()" id="login-form"><input id="username" ng-disabled="login.checking" ng-model="login.username" placeholder="USERNAME" class="form-control" type="text"> <input id="password" ng-disabled="login.checking" ng-model="login.password" placeholder="PASSWORD" class="form-control" type="password"> <button ng-disabled="login.checking" class="btn btn-lg btn-primary btn-block" type="submit">LOGIN</button></form></div>'),t.put("app/logs/logentry.view.modal.html",'<div class="modal-header"><h1 class="modal-title">LOG DETAIL</h1></div><div class="modal-body"><div class="row"><div class="col-xs-2 text-right">TIMESTAMP</div><div class="col-xs-8">{{ vm.curEntry.timestamp | date:\'d/M/yyyy HH:mm:ss Z\' }} <span class="logs-entry-view-counter">#{{ vm.curEntry.counter }}</span></div></div><div ng-if="vm.curEntry.parsed.source" class="row m-t-xs"><div class="col-xs-2 text-right">SOURCE</div><div class="col-xs-8">{{ vm.curEntry.parsed.source }}</div></div><div ng-if="vm.curEntry.parsed.log_type" class="row m-t-xs"><div class="col-xs-2 text-right">TYPE</div><div class="col-xs-8">{{ vm.curEntry.parsed.log_type }} <span ng-if="vm.curEntry.parsed.log.op">/ {{ vm.curEntry.parsed.log.op }}</span></div></div><div ng-if="vm.curEntry.parsed.log.source_node" class="row m-t-xs"><div class="col-xs-2 text-right">SENDER</div><div class="col-xs-8">{{ vm.curEntry.parsed.log.source_node }}</div></div><div ng-if="vm.curEntry.parsed.log.indicator" class="row m-t-xs"><div class="col-xs-2 text-right">INDICATOR</div><div class="col-xs-8 force-wrap">{{ vm.curEntry.parsed.log.indicator }}</div></div><div class="row m-t-xs"><div class="col-xs-2 text-right">VALUE</div><div class="col-xs-8"><div class="modal-ace-editor logs-entry-view-log" ng-model="vm.curLogJSON" ng-readonly="true" ui-ace="{ useWrapMode : true, showGutter: true, theme:\'github\', mode: \'json\', firstLineNumber: 1, onLoad: vm.editorLoaded }"></div></div></div></div><div class="modal-footer"><button ng-disabled="vm.index === 0" class="pull-left btn btn-primary btn-sm" type="button" ng-click="vm.setPrev()">&lt;</button> <button ng-disabled="vm.index === (vm.entries.length - 1)" class="pull-left btn btn-primary btn-sm" type="button" ng-click="vm.setNext()">&gt;</button> <button class="btn btn-primary btn-sm" type="button" ng-click="vm.dismiss()">DISMISS</button></div>'),
t.put("app/logs/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><form ng-keyup="$event.keyCode == 13 && vm.submitQuery()" class="form-horizontal has-feedback m-b-xs"><div class="input-group"><input ng-disabled="vm.runningQuery" type="text" ng-model="vm.query" class="form-control" placeholder="Search"><div ng-if="!vm.runningQuery" class="input-group-addon logs-search-icon" ng-click="vm.submitQuery()"><i class="glyphicon glyphicon-search"></i></div><div ng-if="vm.runningQuery" class="input-group-addon logs-search-icon" ng-click="vm.cancelQuery()"><i class="glyphicon glyphicon-remove"></i></div></div></form></div></div><div class="row"><div class="col-sm-12 col-md-12"><div id="logs-table-header">LOGS</div><div id="logs-table"><div ng-if="!vm.runningQuery" class="logs-entry-msg text-center">Scroll up for latest entries. Or click <a ng-click="vm.doQuery(\'top\')"><b>here</b></a></div><div ng-if="vm.msgTop" class="logs-entry-msg"><img ng-if="vm.showLoader" src="assets/images/loader-white-mini.gif"> {{ vm.msgTop }}</div><div class="logs-entry" ng-repeat="log in vm.logs track by $index" ng-click="vm.viewEntry($index)"><span class="logs-entry-timestamp">{{ log.timestamp | date:\'d/M/yyyy HH:mm:ss Z\' }}</span> <span data-qclass="source" class="logs-entry-field logs-entry-source" ng-click="vm.addToQuery($event)">{{ log.parsed.source }}</span> <span data-qclass="op" class="logs-entry-field logs-entry-op" ng-click="vm.addToQuery($event)">{{ log.parsed.log.op }}</span> <span data-qclass="indicator" class="logs-entry-field logs-entry-indicator" ng-click="vm.addToQuery($event)">{{ log.parsed.log.indicator }}</span> <span class="logs-entry-kv" ng-repeat="(k, v) in log.parsed.log.value"><b>{{ k }}:</b> {{ v }}</span> <span ng-if="log.parsed.log.source_node" class="logs-entry-kv"><b>source_node:</b> {{ log.parsed.log.source_node }}</span></div><div ng-if="vm.msgBottom" class="logs-entry-msg"><img ng-if="vm.showLoader" src="assets/images/loader-white-mini.gif"> {{ vm.msgBottom }}</div><div ng-if="!vm.runningQuery && vm.showMore" class="logs-entry-msg text-center">Scroll down for more. Or click <a ng-click="vm.doQuery(\'bottom\')"><b>here</b></a></div><div ng-if="!vm.runningQuery && !vm.showMore" class="logs-entry-msg text-center">No more lines available</div></div></div></div>'),t.put("app/nodes/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><button ng-if="nodes.MineMeldCurrentUserService.currentUser.read_write" tooltip-popup-delay="500" tooltip="add static indicator" type="button" class="config-action btn btn-config-action btn-sm" ui-sref="indicatoradd"><span class="glyphicon glyphicon-plus-sign"></span> ADD INDICATOR</button></div></div><div class="row dashboard-row"><div class="col-sm-12 col-md-12"><table datatable="" id="nodesTable" dt-instance="nodes.dtNodes" dt-options="nodes.dtOptions" dt-columns="nodes.dtColumns" class="table table-condensed"></table></div></div>'),t.put("app/prototypeadd/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs">NEW LOCAL PROTOTYPE</h3></div></div><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgName" class="form-group"><label class="col-sm-2 col-md-2 control-label">NAME</label><div class="col-sm-6 col-md-6"><input type="text" ng-model="vm.name" class="form-control" placeholder="Prototype name (required)" required=""></div></div><div id="fgNodeType" class="form-group"><label class="col-sm-2 col-md-2 control-label">NODE TYPE</label><div class="col-sm-3 col-md-3"><ui-select ng-model="vm.nodeType" theme="bootstrap" reset-search-input="true" style="width: 100%;" ng-disabled="true"><ui-select-match allow-clear="false" placeholder="Indicator type... (required)">{{$select.selected}}</ui-select-match><ui-select-choices repeat="nodeType in vm.availableTypes | filter: $select.search"><div><span ng-bind-html="nodeType | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">DEVEL STATUS</label><div class="col-sm-3 col-md-3"><ui-select ng-model="vm.developmentStatus" theme="bootstrap" reset-search-input="true" style="width: 100%;"><ui-select-match allow-clear="true" placeholder="Development status...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="nodeType in vm.availableDevelopmentStatuses | filter: $select.search"><div><span ng-bind-html="nodeType | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">DESCRIPTION</label><div class="col-sm-6 col-md-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.description" placeholder="Description (optional)" rows="3"></textarea></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">CLASS</label><div class="col-sm-6 col-md-6"><input ng-disabled="true" type="text" ng-model="vm.class" class="form-control" placeholder="Class (required)" required=""></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">INDICATOR TYPES</label><div class="col-sm-6 col-md-6"><ui-select multiple="" ng-model="vm.indicatorTypes" theme="bootstrap" on-select="vm.itypesSelected()"><ui-select-match placeholder="Add indicator type...">{{ $item }}</ui-select-match><ui-select-choices repeat="itype as itype in vm.availableITypes | filter: $select.search"><div><span ng-bind-html="itype | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-sm-2 col-md-2 control-label">TAGS</label><div class="col-sm-6 col-md-6"><ui-select multiple="" ng-model="vm.tags" theme="bootstrap" tagging="" tagging-label=""><ui-select-match placeholder="Add tags...">{{ $item }}</ui-select-match><ui-select-choices repeat="tag as tag in vm.availableTags | filter: $select.search"><div><span ng-bind-html="tag | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>Type to add a new tag</i></ui-select-no-choice></ui-select></div></div><div id="#fgConfig" class="form-group"><label class="col-sm-2 col-md-2 control-label">CONFIG</label><div class="col-sm-6 col-md-6"><div class="prototypeadd-ace-editor form-control" ng-model="vm.config" ui-ace="{ useWrapMode : false, showGutter: true, theme:\'github\', mode: \'yaml\', firstLineNumber: 1, onLoad: vm.editorLoaded }"></div></div></div></form></div><div class="row"><div class="col-sm-8 col-md-8 text-right"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.back()">CANCEL</button></div></div>'),t.put("app/nodedetail/autofocus.sak.modal.html",'<div class="modal-header"><h1 class="modal-title">AUTOFOCUS API KEY</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgAPIKey1"><label class="col-xs-4 control-label">API KEY</label><div class="col-xs-6"><input type="password" ng-model="vm.api_key" class="form-control" placeholder="API Key"></div></div><div class="form-group" id="fgAPIKey2"><label class="col-xs-4 control-label">REPEAT API KEY</label><div class="col-xs-6"><input type="password" ng-model="vm.api_key2" class="form-control" placeholder="Repeat API Key"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/autofocus.sl.modal.html",'<div class="modal-header"><h1 class="modal-title">AUTOFOCUS EXPORTLIST LABEL</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">LABEL</label><div class="col-xs-6"><input type="text" ng-model="vm.label" class="form-control" placeholder="label"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/autofocusel.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>API KEY</td><td tooltip="set API key" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setAPIKey()"><span ng-if="!nodedetailinfo.api_key"><em>Not set</em></span> <span ng-if="nodedetailinfo.api_key" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr><td>LABEL</td><td tooltip="set label" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setLabel()"><span ng-if="!nodedetailinfo.label"><em>Not set</em></span> <span ng-if="nodedetailinfo.label">{{ nodedetailinfo.label }}</span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td><span>{{ nodedetailinfo.nodeState.indicators }}</span> <span tooltip="flush indicators" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.flush()" class="nodedetail-info-icon fa fa-undo"></span></td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/cif.filters.modal.html",'<div class="modal-header"><h1 class="modal-title">CIF FILTERS <span ng-if="vm.changed">*</span></h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgOtype"><label class="col-xs-4 control-label">OTYPE</label><div class="col-xs-6"><ui-select ng-model="vm.otype" theme="bootstrap" reset-search-input="false" style="width: 100%;" on-select="vm.changed = true" on-remove="vm.changed = true"><ui-select-match placeholder="Not set">{{$select.selected}}</ui-select-match><ui-select-choices repeat="otype in vm.otypes | filter: $select.search"><span ng-bind-html="otype | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><div class="form-group" id="fgConfidence"><label class="col-xs-4 control-label">CONFIDENCE</label><div class="col-xs-6"><div class="input-group"><div class="input-group-addon">&gt;=</div><input type="text" class="form-control" ng-change="vm.changed = true" placeholder="Not set" ng-model="vm.confidence"></div></div></div><div class="form-group" id="fgTags"><label class="col-xs-4 control-label">TAGS</label><div class="col-xs-6"><ui-select multiple="" ng-model="vm.tags" theme="bootstrap" tagging="" tagging-label="" on-select="vm.changed = true" on-remove="vm.changed = true"><ui-select-match placeholder="Not set">{{$item}}</ui-select-match><ui-select-choices repeat="tag as tag in vm.defaultTags | filter: $select.search"><div><span ng-bind-html="tag | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/cif.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>REMOTE</td><td tooltip="set remote" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setRemote()"><span ng-if="!nodedetailinfo.remote"><em>Not set</em></span> <span ng-if="nodedetailinfo.remote">{{ nodedetailinfo.remote }}</span></td></tr><tr><td>VERIFY CERT</td><td tooltip="toggle Cert Verification" class="nodedetail-info-clickable" ng-click="nodedetailinfo.toggleCertificateVerification()"><span ng-if="nodedetailinfo.verify_cert === undefined"><em>Not set (default enabled)</em></span> <span ng-if="nodedetailinfo.verify_cert !== undefined && !nodedetailinfo.verify_cert" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.verify_cert" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr><td>TOKEN</td><td tooltip="set {{ vm.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr><td>FILTERS</td><td tooltip="set filter" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setFilters()"><span ng-if="!nodedetailinfo.flattenedFilters"><em>Not set</em></span> <span ng-if="nodedetailinfo.flattenedFilters">{{ nodedetailinfo.flattenedFilters }}</span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/cif.remote.modal.html",'<div class="modal-header"><h1 class="modal-title">CIF REMOTE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">REMOTE</label><div class="col-xs-6"><textarea ng-model="vm.remote" rows="3" class="form-control" placeholder="CIF Remote URL"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/ciscoise.hostname.modal.html",'<div class="modal-header"><h1 class="modal-title">CISCO ISE HOSTNAME</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">HOSTNAME</label><div class="col-xs-6"><textarea ng-model="vm.hostname" rows="3" class="form-control" placeholder="Cisco ISE Hostname"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/ciscoise.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>HOSTNAME</td><td tooltip="set hostname" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setHostname()"><span ng-if="!nodedetailinfo.hostname"><em>Not set</em></span> <span ng-if="nodedetailinfo.hostname">{{ nodedetailinfo.hostname }}</span></td></tr><tr><td>VERIFY CERT</td><td tooltip="toggle Cert Verification" class="nodedetail-info-clickable" ng-click="nodedetailinfo.toggleCertificateVerification()"><span ng-if="nodedetailinfo.verify_cert === undefined"><em>Not set (default enabled)</em></span> <span ng-if="nodedetailinfo.verify_cert !== undefined && !nodedetailinfo.verify_cert" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.verify_cert" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.usernameEnabled"><td>USERNAME</td><td tooltip="set username" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUsername()"><span ng-if="!nodedetailinfo.username"><em>Not set</em></span> <span ng-if="nodedetailinfo.username">{{ nodedetailinfo.username }}</span></td></tr><tr><td>{{ nodedetailinfo.secretName }}</td><td tooltip="set {{ vm.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/cofense.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>ENDPOINT</td><td tooltip="set api endpoint" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setDomain()"><span ng-if="!nodedetailinfo.api_domain"><em>Not set</em></span> <span ng-if="nodedetailinfo.api_domain">{{ nodedetailinfo.api_domain }}</span></td></tr><tr><td>VERIFY CERT</td><td tooltip="toggle Cert Verification" class="nodedetail-info-clickable" ng-click="nodedetailinfo.toggleCertificateVerification()"><span ng-if="nodedetailinfo.verify_cert === undefined"><em>Not set (default enabled)</em></span> <span ng-if="nodedetailinfo.verify_cert !== undefined && !nodedetailinfo.verify_cert" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.verify_cert" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.usernameField"><td>{{ nodedetailinfo.usernameName }}</td><td tooltip="set {{ nodedetailinfo.usernameName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUsername()"><span ng-if="!nodedetailinfo.username"><em>Not set</em></span> <span ng-if="nodedetailinfo.username">{{ nodedetailinfo.username }}</span></td></tr><tr><td>{{ nodedetailinfo.secretName }}</td><td tooltip="set {{ nodedetailinfo.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/cofense.sd.modal.html",'<div class="modal-header"><h1 class="modal-title">COFENSE ENDPOINT</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">ENDPOINT</label><div class="col-xs-6"><textarea ng-model="vm.api_domain" rows="3" class="form-control" placeholder="Cofense API Endpoint"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/credentials.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr ng-if="nodedetailinfo.usernameField"><td>{{ nodedetailinfo.usernameName }}</td><td tooltip="set {{ nodedetailinfo.usernameName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUsername()"><span ng-if="!nodedetailinfo.username"><em>Not set</em></span> <span ng-if="nodedetailinfo.username">{{ nodedetailinfo.username }}</span></td></tr><tr><td>{{ nodedetailinfo.secretName }}</td><td tooltip="set {{ nodedetailinfo.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),
t.put("app/nodedetail/credentials.sp.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.secretName }}</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgPassword1"><label class="col-xs-4 control-label">{{ vm.secretName }}</label><div class="col-xs-6"><input type="password" ng-model="vm.password" class="form-control" placeholder="{{ vm.secretName|lowercase }}"></div></div><div class="form-group" id="fgPassword2"><label class="col-xs-4 control-label">REPEAT {{ vm.secretName }}</label><div class="col-xs-6"><input type="password" ng-model="vm.password2" class="form-control" placeholder="Repeat {{ vm.secretName|lowercase }}"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/credentials.su.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.usernameName }}</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">{{ vm.usernameName }}</label><div class="col-xs-6"><input type="text" ng-model="vm.username" class="form-control" placeholder="{{ vm.usernameName | lowercase }}"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/dagpusher.add.modal.html",'<div class="modal-header"><h1 class="modal-title">ADD DEVICE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">NAME</label><div class="col-xs-6"><input type="text" ng-model="vm.name" class="form-control" placeholder="Device name"></div></div><div class="form-group"><label class="col-xs-4 control-label">HOSTNAME</label><div class="col-xs-6"><input type="text" ng-model="vm.hostname" class="form-control" placeholder="Hostname"></div></div><div class="form-group"><label class="col-xs-4 control-label">USERNAME</label><div class="col-xs-6"><input type="text" ng-model="vm.api_username" class="form-control" placeholder="Username"></div></div><div class="form-group" id="fgPassword1"><label class="col-xs-4 control-label">PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.api_password" class="form-control" placeholder="Password"></div></div><div class="form-group" id="fgPassword2"><label class="col-xs-4 control-label">REPEAT PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.api_password2" class="form-control" placeholder="Repeat Password"></div></div><div class="form-group"><label class="col-xs-4 control-label">SERIAL #</label><div class="col-xs-6"><input type="password" ng-model="vm.serial" class="form-control" placeholder="Only if via Panorama"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/dagpusher.devices.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">HANDLED DEVICES <button tooltip-popup-delay="500" tooltip="reload device list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtDevices" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="7" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add device" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addDevice()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/dagpusher.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ vm.nodeState.class }}</td></tr><tr ng-if="vm.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: vm.nodeConfig.prototype.split(\'.\')[1], libraryName: vm.nodeConfig.prototype.split(\'.\')[0] })">{{ vm.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="vm.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="vm.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ vm.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ vm.nodeState.stateAsString }}</span></td></tr><tr><td># HANDLED DEVICES</td><td>{{ vm.nodeState.devices }}</td></tr><tr><td># INDICATORS</td><td>{{ vm.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="vm.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!vm.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="vm.nodeState.inputs.length > 0"><li ng-repeat="input in vm.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="vm.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="vm.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="vm.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/feed.tags.modal.html",'<div class="modal-header"><h1 class="modal-title">SET TAGS <span ng-if="vm.changed">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">TAGS</div><div class="col-xs-10"><ui-select multiple="" ng-model="vm.tags" theme="bootstrap" on-select="vm.changed = true" on-remove="vm.changed = true" tagging="" tagging-label=""><ui-select-match placeholder="Type to add new tags...">{{ $item }}</ui-select-match><ui-select-choices repeat="tag as tag in vm.availableTags | filter: $select.search"><div><span ng-bind-html="tag | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>Type to add a new tag</i></ui-select-no-choice></ui-select></div></div></div><div class="modal-footer"><button ng-disabled="!vm.changed" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/localdb.indicator.modal.html",'<div class="modal-header"><h1 class="modal-title">INDICATOR</h1></div><div class="modal-body" ng-form="indicatorForm"><div class="row m-t-xs"><div class="col-xs-2 text-right">INDICATOR</div><div ng-if="!vm.editableIndicatorAndType" class="col-xs-8 force-wrap">{{ vm.indicator }}</div><div ng-if="vm.editableIndicatorAndType" class="col-xs-8"><input type="text" class="form-control" ng-model="vm.indicator" placeholder="Indicator (required)" required=""></div></div><div class="row m-t-xs"><div class="col-xs-2 text-right">TYPE</div><div ng-if="!vm.editableIndicatorAndType" class="col-xs-8 force-wrap">{{ vm.type }}</div><div ng-if="vm.editableIndicatorAndType" class="col-xs-8"><ui-select ng-model="vm.type" theme="bootstrap" reset-search-input="false"><ui-select-match placeholder="Select type (required)...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="item in (vm.availableTypes | filter: $select.search)"><span ng-bind-html="item | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><div ng-if="vm.update_ts" class="row m-t-xs"><div class="col-xs-2 text-right">LAST UPDATE</div><div class="col-xs-8 force-wrap">{{ vm.update_ts | date:\'d/M/yyyy HH:mm:ss Z\' }}</div></div><div ng-if="vm.editableAttributes" ng-class="[\'row\', \'m-t-xs\', {\'has-error\': indicatorForm.ttl.$invalid }]"><div class="col-xs-2 text-right">TIME TO LIVE</div><div class="col-xs-8 form-inline"><input ng-disabled="vm.expirationDisabled" type="number" min="1" class="form-control" name="ttl" ng-model="vm.ttl" placeholder="Default"><div class="checkbox"><label><input name="expDisabled" ng-model="vm.expirationDisabled" type="checkbox"> Disable expiration</label></div></div></div><div ng-if="!vm.editableAttributes" class="row m-t-xs"><div class="col-xs-2 text-right">EXPIRATION</div><div ng-if="vm.expiration_ts == \'disabled\'" class="col-xs-8 force-wrap"><i>Disabled</i></div><div ng-if="vm.expiration_ts != \'disabled\'" class="col-xs-8 force-wrap">{{ vm.expiration_ts | date:\'d/M/yyyy HH:mm:ss Z\' }}</div><div ng-if="!vm.expiration_ts" class="col-xs-8 force-wrap"><i>Default</i></div></div><div ng-class="[\'row\', \'m-t-xs\', {\'has-error\': indicatorForm.comment.$invalid }]"><div class="col-xs-2 text-right">COMMENT</div><div ng-if="!vm.editableAttributes" class="col-xs-8 force-wrap">{{ vm.comment }}</div><div ng-if="vm.editableAttributes" class="col-xs-8"><input type="text" class="form-control" name="comment" ng-model="vm.comment" placeholder="Comment (optional)"></div></div><div ng-class="[\'row\', \'m-t-xs\', {\'has-error\': !vm.attributesValid }]"><div class="col-xs-2 text-right">ATTRIBUTES</div><div class="col-xs-8"><div class="prototypeadd-ace-editor form-control" ng-readonly="!vm.editableAttributes" ng-model="vm.attributesJSON" ui-ace="{ useWrapMode : false, showGutter: true, theme:\'github\', mode: \'json\', firstLineNumber: 1, onLoad: vm.editorLoaded, onChange: vm.aceChanged }"></div></div></div></div><div class="modal-footer"><button ng-if="vm.numAnnotations !== 0" class="btn btn-modal-action btn-sm" style="float: left;" ng-click="vm.errorClick()"><span class="glyphicon glyphicon glyphicon-remove-sign text-danger"></span> <span ng-bind="vm.numAnnotations"></span></button> <button ng-if="vm.editableAttributes || vm.editableIndicatorAndType" ng-disabled="!vm.validate() || indicatorForm.$invalid" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button ng-if="vm.editableAttributes || vm.editableIndicatorAndType" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button> <button ng-if="!vm.editableAttributes" class="btn btn-primary btn-sm" type="button" ng-click="vm.editableAttributes = true">EDIT</button> <button ng-if="!vm.editableAttributes && !vm.editableIndicatorAndType" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">DISMISS</button></div>'),t.put("app/nodedetail/localdb.indicators.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">INDICATORS <button tooltip-popup-delay="500" tooltip="reload indicator list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtIndicators" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="6" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add indicator" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addIndicator()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/o365api.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>INTEGRATIONS</td><td tooltip="toggle integrations" class="nodedetail-info-clickable" ng-click="nodedetailinfo.toggleDisableIntegrations()"><span ng-if="nodedetailinfo.disable_integrations === undefined" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.disable_integrations !== undefined && !nodedetailinfo.disable_integrations" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.disable_integrations" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/proofpoint.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>AUTH CODE</td><td tooltip="set authorization code" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setAuthCode()"><span ng-if="!nodedetailinfo.authCode"><em>Not set</em></span> <span ng-if="nodedetailinfo.authCode" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr><td>CATEGORIES</td><td tooltip="set monitored categories" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setMonitoredCategories()"><span ng-if="!nodedetailinfo.monitoredCategoriesRepr"><em>Not set</em></span> <span ng-if="nodedetailinfo.monitoredCategoriesRepr">{{ nodedetailinfo.monitoredCategoriesRepr }}</span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/proofpoint.sac.modal.html",'<div class="modal-header"><h1 class="modal-title">PROOFPOINT ET INTELLIGENCE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgAPIKey1"><label class="col-xs-4 control-label">AUTH CODE</label><div class="col-xs-6"><input type="password" ng-model="vm.token" class="form-control" placeholder="Auth code"></div></div><div class="form-group" id="fgAPIKey2"><label class="col-xs-4 control-label">REPEAT AUTH CODE</label><div class="col-xs-6"><input type="password" ng-model="vm.token2" class="form-control" placeholder="Repeat Auth code"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/proofpoint.smc.modal.html",'<div class="modal-header"><h1 class="modal-title">PROOFPOINT ET CATEGORIES</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">CATEGORIES</label><div class="col-xs-6"><ui-select multiple="" ng-model="vm.categories" theme="bootstrap" on-select="vm.hasChanged()" on-remove="vm.hasChanged()"><ui-select-match placeholder="Select categories...">{{$item}}</ui-select-match><ui-select-choices repeat="category in vm.availableCategories | filter:$select.search">{{category}}</ui-select-choices></ui-select></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.changed" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/recordedfuture.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>API TOKEN</td><td tooltip="set API token" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setToken()"><span ng-if="!nodedetailinfo.token"><em>Not set</em></span> <span ng-if="nodedetailinfo.token" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/recordedfuture.info3.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo3.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo3.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo3.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo3.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo3.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo3.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo3.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo3.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo3.nodeState.stateAsString }}</span></td></tr><tr><td>RECORDED FUTURE API</td><td tooltip="set entity type" class="nodedetail-info-clickable" ng-click="nodedetailinfo3.setDetails()"><span ng-if="!nodedetailinfo3.entity"><em><u>Set Details for API to be used</u></em></span> <span ng-if="nodedetailinfo3.entity" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr><td>API TOKEN</td><td tooltip="set API token" class="nodedetail-info-clickable" ng-click="nodedetailinfo3.setToken()"><span ng-if="!nodedetailinfo3.token"><em><u>Not set</u></em></span> <span ng-if="nodedetailinfo3.token" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo3.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo3.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo3.nodeState.sub_state && nodedetailinfo3.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo3.nodeState.sub_state]]" ng-bind="nodedetailinfo3.nodeState.sub_state"></span> <span ng-if="nodedetailinfo3.nodeState.sub_state && nodedetailinfo3.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo3.nodeState.sub_state_message }}" ng-bind="nodedetailinfo3.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo3.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo3.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo3.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo3.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo3.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo3.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo3.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo3.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo3.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo3.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo3.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/recordedfuture.st.details1.html",'<script type="text/javascript">\nfunction showfield(name){\n  if(name==\'connectApi\')document.getElementById(\'text1\').disabled= false;\n  else document.getElementById(\'text1\').disabled= true;\n  if(name==\'fusion\')document.getElementById(\'text2\').disabled= false;\n  else document.getElementById(\'text2\').disabled= true;\n}\n\n</script><body><div class="modal-header"><h1 class="modal-title">RECORDEDFUTURE API DETAILS</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgApi"><label class="col-xs-4 control-label">API Type</label><div class="col-xs-6"><select name="api" ng-model="vm.api" class="form-control" onchange="showfield(this.options[this.selectedIndex].value)"><option selected="" value="">Select an API</option><option value="connectApi">Connect API</option><option value="fusion">Fusion</option></select></div></div><div class="form-group" id="fgEntity"><label class="col-xs-4 control-label">Entity Type</label><div class="col-xs-6"><select name="entity" ng-model="vm.entity" class="form-control"><option selected="" value="">Select an Entity</option><option value="ip">IP</option><option value="url">URL</option><option value="domain">Domain</option><option value="hash">File Hash</option></select></div></div><div class="form-group" id="fgPath1"><label class="col-xs-4 control-label">Risklist</label><div class="col-xs-6"><input id="text1" type="text" ng-model="vm.path1" class="form-control" placeholder="Leave blank for default risklist" size="65"></div></div><div class="form-group" id="fgPath2"><label class="col-xs-4 control-label">File Path</label><div class="col-xs-6"><input id="text2" type="text" ng-model="vm.path2" class="form-control" placeholder="Eg: /public/risklists/<File Name>" size="65"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div></body>'),t.put("app/nodedetail/recordedfuture.st.modal.html",'<div class="modal-header"><h1 class="modal-title">RECORDEDFUTURE API TOKEN</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgToken1"><label class="col-xs-4 control-label">API TOKEN</label><div class="col-xs-6"><input type="password" ng-model="vm.token" class="form-control" placeholder="API Token"></div></div><div class="form-group" id="fgToken2"><label class="col-xs-4 control-label">REPEAT API TOKEN</label><div class="col-xs-6"><input type="password" ng-model="vm.token2" class="form-control" placeholder="Repeat API Token"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),
t.put("app/nodedetail/redisset.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ vm.nodeState.class }}</td></tr><tr ng-if="vm.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: vm.nodeConfig.prototype.split(\'.\')[1], libraryName: vm.nodeConfig.prototype.split(\'.\')[0] })">{{ vm.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="vm.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="vm.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ vm.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ vm.nodeState.stateAsString }}</span></td></tr><tr><td>FEED BASE URL</td><td><a href="{{ vm.nodeState.feedURL }}">{{ vm.nodeState.feedURL }}</a></td></tr><tr><td ng-class="{ \'config-table-disabled\': !vm.auth_enabled }">TAGS</td><td tooltip="{{ vm.tags_tooltip }}" ng-click="vm.configureTags()" ng-class="[\'cursor-pointer\', { \'nodedetail-info-clickable\': vm.auth_enabled, \'config-table-disabled\': !vm.auth_enabled }]"><span ng-repeat="tag in vm.tags" class="label tag-minemeld" style="margin-right: 5px">{{ tag }}</span></td></tr><tr><td># INDICATORS</td><td>{{ vm.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="vm.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!vm.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="vm.nodeState.inputs.length > 0"><li ng-repeat="input in vm.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="vm.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="vm.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="vm.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/redisset.tags.modal.html",'<div class="modal-header"><h1 class="modal-title">SET TAGS <span ng-if="vm.changed">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2">TAGS</div><div class="col-xs-10"><ui-select multiple="" ng-model="vm.tags" theme="bootstrap" on-select="vm.changed = true" on-remove="vm.changed = true" tagging="" tagging-label=""><ui-select-match placeholder="Add tags...">{{ $item }}</ui-select-match><ui-select-choices repeat="tag as tag in vm.availableTags | filter: $select.search"><div><span ng-bind-html="tag | highlight: $select.search"></span></div></ui-select-choices><ui-select-no-choice><i>Type to add a new tag</i></ui-select-no-choice></ui-select></div></div></div><div class="modal-footer"><button ng-disabled="!vm.changed" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/syslogmatcher.sources.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">SOURCES</h5></div></div><div class="row"><div class="col-sm-12 col-md-12"><table class="table table-condensed nodedetails-stats-table"><colgroup><col style="width: 15%"><col style="width: 10%"><col style="width: 75%"></colgroup><thead><th>METRIC</th><th>SINCE<br>ENGINE START</th><th>HISTORY (LAST {{ nodedetailstats.chartRange | uppercase }})</th></thead><tbody><tr ng-repeat="name in nodedetailstats.metrics_names | orderBy" ng-if="name.indexOf(\'source.\') == 0"><td>{{ name.slice(7) | uppercase }}</td><td>{{ nodedetailstats.nodeState.statistics[name] || 0 }}</td><td><div class="nodedetail-nvd3-container"><nvd3 api="nodedetailstats.chartApi[name]" options="nodedetailstats.chartOptions" data="nodedetailstats.metrics[name]"></nvd3></div></td></tr><tr ng-if="!nodedetailstats.sources"><td colspan="3" class="text-center"><em>No matches so far</em></td></tr></tbody></table></div></div><minemeld-options><h5 class="m-t-xs m-b-xs">OPTIONS</h5><div class="minemeld-options-form"><h6>Range</h6><select class="form-control" ng-model="nodedetailstats.chartRange" ng-change="nodedetailstats.chartRangeChanged()"><option value="1h">1 hour</option><option value="24h">24 hours</option><option value="7d">7 days</option><option value="30d">30 days</option></select></div></minemeld-options>'),t.put("app/nodedetail/syslogmatcher.stats.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATISTICS</h5></div></div><div class="row"><div class="col-sm-12 col-md-12"><table class="table table-condensed nodedetails-stats-table"><colgroup><col style="width: 15%"><col style="width: 10%"><col style="width: 75%"></colgroup><thead><th>METRIC</th><th>CURRENT</th><th>HISTORY (LAST {{ nodedetailstats.chartRange | uppercase }})</th></thead><tbody><tr><td>INDICATORS</td><td>{{ nodedetailstats.nodeState.length }}</td><td><div class="nodedetail-nvd3-container"><nvd3 api="nodedetailstats.chartApi.indicators" options="nodedetailstats.chartOptions" data="nodedetailstats.metrics.indicators"></nvd3></div></td></tr></tbody></table></div></div><div class="row"><div class="col-sm-12 col-md-12"><table class="table table-condensed nodedetails-stats-table"><colgroup><col style="width: 15%"><col style="width: 10%"><col style="width: 75%"></colgroup><thead><th>METRIC</th><th>SINCE<br>ENGINE START</th><th>HISTORY (LAST {{ nodedetailstats.chartRange | uppercase }})</th></thead><tbody><tr ng-repeat="name in nodedetailstats.metrics_names | orderBy" ng-if="(name != \'indicators\') && (name.indexOf(\'source.\') < 0)"><td>{{ name | uppercase }}</td><td>{{ nodedetailstats.nodeState.statistics[name] || 0 }}</td><td><div class="nodedetail-nvd3-container"><nvd3 api="nodedetailstats.chartApi[name]" options="nodedetailstats.chartOptions" data="nodedetailstats.metrics[name]"></nvd3></div></td></tr></tbody></table></div></div><minemeld-options><h5 class="m-t-xs m-b-xs">OPTIONS</h5><div class="minemeld-options-form"><h6>Range</h6><select class="form-control" ng-model="nodedetailstats.chartRange" ng-change="nodedetailstats.chartRangeChanged()"><option value="1h">1 hour</option><option value="24h">24 hours</option><option value="7d">7 days</option><option value="30d">30 days</option></select></div></minemeld-options>'),t.put("app/nodedetail/syslogminer.edit.modal.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.title }}</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgRuleName" class="form-group"><label class="col-xs-3 control-label">NAME</label><div class="col-xs-7"><input g-readonly="vm.nameReadOnly" type="text" ng-model="vm.name" class="form-control" placeholder="Name of the rule (required)" required=""></div></div><div class="form-group"><label class="col-xs-3 control-label">COMMENT</label><div class="col-xs-7"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div><div id="ruleDefinition" class="form-group"><label class="col-xs-3 control-label">DEFINITION</label><div class="col-xs-7"><div class="modal-ace-editor form-control" ng-model="vm.definition" ui-ace="{ useWrapMode : true, showGutter: true, theme:\'github\', mode: \'yaml\', firstLineNumber: 1, onLoad: vm.editorLoaded, onChange: vm.editorChanged }"></div></div></div></form></div></div><div class="modal-footer"><button ng-if="!vm.validated" ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.validate()">VALIDATE</button> <button ng-if="vm.validated" ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/syslogminer.rules.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">RULES <button tooltip-popup-delay="500" tooltip="reload rules list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtRules" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="5" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add rule" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addRule()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/taxii2client.apikey.modal.html",'<div class="modal-header"><h1 class="modal-title">API KEY</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">API KEY</label><div class="col-xs-6"><input type="text" ng-model="vm.apiKey" class="form-control" placeholder="API KEY"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.apiKey" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.apiroot.modal.html",'<div class="modal-header"><h1 class="modal-title">API ROOT</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">API ROOT</label><div class="col-xs-6"><input type="text" ng-model="vm.taxii2ApiRoot" class="form-control" placeholder="API ROOT"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.taxii2ApiRoot" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.authtype.modal.html",'<div class="modal-header"><h1 class="modal-title">AUTH TYPE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">AUTH TYPE</label><div class="col-xs-6"><label><input type="radio" ng-model="vm.authType" value="none"> No Authentication</label><br><label><input type="radio" ng-model="vm.authType" value="basic"> Basic Authentication</label><br><label><input type="radio" ng-model="vm.authType" value="apikey"> API Key Authentication</label><br></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.authType" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.collection.modal.html",'<div class="modal-header"><h1 class="modal-title">COLLECTION ID</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">COLLECTION ID</label><div class="col-xs-6"><input type="text" ng-model="vm.taxii2Collection" class="form-control" placeholder="COLLECTION ID"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.taxii2Collection" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.discovery.modal.html",'<div class="modal-header"><h1 class="modal-title">DISCOVERY SERVICE URL</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">DISCOVERY SERVICE URL</label><div class="col-xs-6"><input type="text" ng-model="vm.taxii2DiscoveryService" class="form-control" placeholder="DISCOVERY SERVICE URL"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.taxii2DiscoveryService" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.enabled.modal.html",'<div class="modal-header"><h1 class="modal-title">ENABLED</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">ENABLED</label><div class="col-xs-6"><label><input type="radio" ng-model="vm.taxii2Enabled" value="yes"> Yes</label><br><label><input type="radio" ng-model="vm.taxii2Enabled" value="no"> No</label><br></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.taxii2Enabled" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxii2client.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.node.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.node.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.node.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.node.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.node.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr ng-if="nodedetailinfo.authTypeEnabled"><td>AUTH TYPE</td><td tooltip="Set Authentication Type" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setAuthType()"><span ng-if="!nodedetailinfo.authType"><em>Not set</em></span> <span ng-if="nodedetailinfo.authType">{{ nodedetailinfo.authType }}</span></td></tr><tr ng-if="nodedetailinfo.authType == \'basic\'"><td>USERNAME</td><td tooltip="Set Username" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUsername()"><span ng-if="!nodedetailinfo.username"><em>Not set</em></span> <span ng-if="nodedetailinfo.username">{{ nodedetailinfo.username }}</span></td></tr><tr ng-if="nodedetailinfo.authType == \'basic\'"><td>{{ nodedetailinfo.secretName }}</td><td tooltip="Set {{ nodedetailinfo.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.apiKeyEnabled && nodedetailinfo.authType == \'apikey\'"><td>API KEY</td><td tooltip="Set API Key" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setApiKey()"><span ng-if="!nodedetailinfo.apiKey"><em>Not set</em></span> <span ng-if="nodedetailinfo.apiKey">{{ nodedetailinfo.apiKey }}</span></td></tr><tr ng-if="nodedetailinfo.taxii2DiscoveryServiceEnabled"><td>DISCOVERY SERVICE URL</td><td tooltip="Set Discovery Service" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setTaxii2DiscoveryService()"><span ng-if="!nodedetailinfo.taxii2DiscoveryService"><em>Not set</em></span> <span ng-if="nodedetailinfo.taxii2DiscoveryService">{{ nodedetailinfo.taxii2DiscoveryService }}</span></td></tr><tr ng-if="nodedetailinfo.taxii2ApiRootEnabled"><td>API ROOT</td><td tooltip="Set API Root" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setTaxii2ApiRoot()"><span ng-if="!nodedetailinfo.taxii2ApiRoot"><em>Not set</em></span> <span ng-if="nodedetailinfo.taxii2ApiRoot">{{ nodedetailinfo.taxii2ApiRoot }}</span></td></tr><tr ng-if="nodedetailinfo.taxii2CollectionEnabled"><td>COLLECTION ID</td><td tooltip="Set Collection" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setTaxii2Collection()"><span ng-if="!nodedetailinfo.taxii2Collection"><em>Not set</em></span> <span ng-if="nodedetailinfo.taxii2Collection">{{ nodedetailinfo.taxii2Collection }}</span></td></tr><tr ng-if="nodedetailinfo.taxii2VerifyCertEnabled"><td>VERIFY SERVER CERT</td><td tooltip="Verify the Taxii 2 Server Cert" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setTaxii2VerifyCert()"><span ng-if="!nodedetailinfo.taxii2VerifyCert"><em>Not set</em></span> <span ng-if="nodedetailinfo.taxii2VerifyCert">{{ nodedetailinfo.taxii2VerifyCert }}</span></td></tr><tr ng-if="nodedetailinfo.taxii2EnabledEnabled"><td>ENABLED</td><td tooltip="Enable this miner (yes/no)" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setTaxii2Enabled()"><span ng-if="!nodedetailinfo.taxii2Enabled"><em>Not set</em></span> <span ng-if="nodedetailinfo.taxii2Enabled">{{ nodedetailinfo.taxii2Enabled }}</span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/taxii2client.verifycert.modal.html",'<div class="modal-header"><h1 class="modal-title">VERIFY SERVER CERT</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">VERIFY SERVER CERT</label><div class="col-xs-6"><label><input type="radio" ng-model="vm.taxii2VerifyCert" value="yes"> Yes</label><br><label><input type="radio" ng-model="vm.taxii2VerifyCert" value="no"> No</label><br></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.taxii2VerifyCert" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxiiclient.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.node.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.node.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.node.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.node.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.node.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr ng-if="nodedetailinfo.usernameField"><td>USERNAME</td><td tooltip="set username" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUsername()"><span ng-if="!nodedetailinfo.username"><em>Not set</em></span> <span ng-if="nodedetailinfo.username">{{ nodedetailinfo.username }}</span></td></tr><tr ng-if="nodedetailinfo.usernameField"><td>{{ nodedetailinfo.secretName }}</td><td tooltip="set {{ nodedetailinfo.secretName|lowercase }}" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setPassword()"><span ng-if="!nodedetailinfo.secret"><em>Not set</em></span> <span ng-if="nodedetailinfo.secret" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.clientCertEnabled"><td>CLIENT CERTIFICATE</td><td tooltip="set client certificate" class="nodedetail-info-clickable" ng-click="nodedetailinfo.uploadClientCertificate()"><span ng-if="!nodedetailinfo.clientCertSet"><em>Not set</em></span> <span ng-if="nodedetailinfo.clientCertSet" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.subscriptionIdEnabled"><td>SUBSCRIPTION ID</td><td tooltip="set subscription ID" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setSubscriptionId()"><span ng-if="!nodedetailinfo.subscriptionId"><em>Not set</em></span> <span ng-if="nodedetailinfo.subscriptionId">{{ nodedetailinfo.subscriptionId }}</span></td></tr><tr ng-if="nodedetailinfo.serverCAEnabled"><td>SERVER CA</td><td tooltip="set server CA certificate" class="nodedetail-info-clickable" ng-click="nodedetailinfo.uploadServerCA()"><span ng-if="!nodedetailinfo.serverCASet"><em>Not set</em></span> <span ng-if="nodedetailinfo.serverCASet" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/taxiiclient.sid.modal.html",'<div class="modal-header"><h1 class="modal-title">TAXII SUBSCRIPTION ID</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">SUBSCRIPTION ID</label><div class="col-xs-6"><input type="text" ng-model="vm.subscriptionId" class="form-control" placeholder="Subscription Id"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.subscriptionId" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxiiclient.uploadcert.modal.html",'<div class="modal-header"><h1 class="modal-title">UPLOAD CLIENT CERTIFICATE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">CERTIFICATE</label><div class="col-xs-6" style="padding-top: 7px"><input ng-disabled="vm.uploading" type="file" nv-file-select="" uploader="vm.certUploader"></div></div><div class="form-group"><label class="col-xs-4 control-label">PRIVATE KEY</label><div class="col-xs-6" style="padding-top: 7px"><input ng-disabled="vm.uploading" type="file" nv-file-select="" uploader="vm.keyUploader"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="vm.keyUploader.queue.length == 0 || vm.certUploader.queue.length == 0 || vm.uploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.uploadAll()">{{vm.uploading ? \'UPLOADING\' : \'UPLOAD\'}}</button> <button ng-disabled="vm.uploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxiiclient.uploadserverca.modal.html",'<div class="modal-header"><h1 class="modal-title">UPLOAD SERVER CA CERTIFICATE</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">CERTIFICATE</label><div class="col-xs-6" style="padding-top: 7px"><input ng-disabled="vm.uploading" type="file" nv-file-select="" uploader="vm.certUploader"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="vm.certUploader.queue.length == 0 || vm.uploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.uploadAll()">{{vm.uploading ? \'UPLOADING\' : \'UPLOAD\'}}</button> <button ng-disabled="vm.uploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/taxiidatafeed.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ vm.nodeState.class }}</td></tr><tr ng-if="vm.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: vm.nodeConfig.prototype.split(\'.\')[1], libraryName: vm.nodeConfig.prototype.split(\'.\')[0] })">{{ vm.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="vm.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="vm.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ vm.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ vm.nodeState.stateAsString }}</span></td></tr><tr><td>DISCOVERY SERVICE</td><td>{{ vm.nodeState.discoveryServiceURL }}</td></tr><tr><td ng-class="{ \'config-table-disabled\': !vm.auth_enabled }">TAGS</td><td tooltip="{{ vm.tags_tooltip }}" ng-click="vm.configureTags()" ng-class="[\'cursor-pointer\', { \'nodedetail-info-clickable\': vm.auth_enabled, \'config-table-disabled\': !vm.auth_enabled }]"><span ng-repeat="tag in vm.tags" class="label tag-minemeld" style="margin-right: 5px">{{ tag }}</span></td></tr><tr><td># INDICATORS</td><td>{{ vm.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="vm.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!vm.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="vm.nodeState.inputs.length > 0"><li ng-repeat="input in vm.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="vm.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="vm.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="vm.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/threatqexport.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr><td>URL</td><td tooltip="set URL" class="nodedetail-info-clickable" ng-click="nodedetailinfo.setUrl()"><span ng-if="!nodedetailinfo.url"><em>Not set</em></span> <span ng-if="nodedetailinfo.url">{{ nodedetailinfo.url }}</span></td></tr><tr><td>VERIFY CERT</td><td tooltip="toggle Cert Verification" class="nodedetail-info-clickable" ng-click="nodedetailinfo.toggleCertificateVerification()"><span ng-if="nodedetailinfo.verify_cert === undefined" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.verify_cert !== undefined && !nodedetailinfo.verify_cert" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="nodedetailinfo.verify_cert" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),
t.put("app/nodedetail/threatqexport.url.modal.html",'<div class="modal-header"><h1 class="modal-title">THREATQ EXPORT URL</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">URL</label><div class="col-xs-6"><textarea ng-model="vm.url" rows="3" class="form-control" placeholder="ThreatQ Export URL"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/view.graph.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONNECTION GRAPH</h5></div></div><div class="row"><div class="col-sm-12 col-md-12 d3-container"><mm-sankey fts="vm.nodes" current-ft="vm.nodename" ng-if="vm.nodes.length > 1"></mm-sankey><div ng-if="vm.nodes && !(vm.nodes.length > 1)"><em>No graph. Node is not connected</em></div></div></div>'),t.put("app/nodedetail/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs nodedetail-title">{{ nodedetail.nodename }} <span class="nodedetail-description">NODE</span> <button tooltip-popup-delay="500" tooltip="go to logs" type="button" class="config-action btn btn-config-action btn-sm" ng-click="nodedetail.$state.go(\'logs\', {q: \'source:\'+nodedetail.nodename})"><span class="glyphicon glyphicon-list"></span> LOGS</button></h3></div></div><div class="row"><div class="col-xs-1 nodedetail-tabs-col"><tabset vertical="true"><tab ng-repeat="tab in nodedetail.tabs" active="tab.active" select="nodedetail.select(tab.state)"><tab-heading tooltip="{{ tab.tooltip }}" tooltip-placement="right" tooltip-popup-delay="500"><span class="{{ tab.icon }}"></span></tab-heading></tab></tabset></div><div class="col-xs-11 nodedetails-content-col"><div ui-view=""></div></div></div>'),t.put("app/nodedetail/view.info.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATUS</h5></div></div><div class="row"><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 30%"><col></colgroup><tbody><tr><td>CLASS</td><td>{{ nodedetailinfo.nodeState.class }}</td></tr><tr ng-if="nodedetailinfo.nodeConfig.prototype"><td>PROTOTYPE</td><td><a tooltip-template="\'tooltip.prototype.html\'" ui-sref="prototypedetail({ prototypeName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[1], libraryName: nodedetailinfo.nodeConfig.prototype.split(\'.\')[0] })">{{ nodedetailinfo.nodeConfig.prototype }}</a></td><script type="text/ng-template" id="tooltip.prototype.html"><prototype-tooltip name="nodedetailinfo.nodeConfig.prototype"></prototype-tooltip></script></tr><tr><td>STATE</td><td ng-switch="" on="nodedetailinfo.nodeState.state"><span ng-switch-when="4" class="label label-warning">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-when="5" class="label label-success">{{ nodedetailinfo.nodeState.stateAsString }}</span> <span ng-switch-default="" class="label label-primary">{{ nodedetailinfo.nodeState.stateAsString }}</span></td></tr><tr ng-if="nodedetailinfo.nodeState.last_run || nodedetailinfo.nodeState.sub_state"><td>LAST RUN</td><td><span ng-bind="nodedetailinfo.nodeState.last_run | date:\'yyyy-MM-dd HH:mm:ss Z\'"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state !== \'ERROR\'" ng-class="[\'label\', {WAITING: \'label-default\', POLLING:\'label-primary\', SUCCESS:\'label-success\', REBUILDING:\'label-warning\'}[nodedetailinfo.nodeState.sub_state]]" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span ng-if="nodedetailinfo.nodeState.sub_state && nodedetailinfo.nodeState.sub_state === \'ERROR\'" ng-class="[\'label\', \'label-danger\']" tooltip="{{ nodedetailinfo.nodeState.sub_state_message }}" ng-bind="nodedetailinfo.nodeState.sub_state"></span> <span tooltip="run now" tooltip-popup-delay="200" ng-if="nodedetailinfo.nodeState.sub_state != \'REBUILDING\' && nodedetailinfo.nodeState.sub_state != \'POLLING\'" ng-click="nodedetailinfo.run()" class="nodedetail-info-icon fa fa-refresh"></span></td></tr><tr><td># INDICATORS</td><td>{{ nodedetailinfo.nodeState.indicators }}</td></tr></tbody></table></div><div class="col-sm-6 col-md-6"><table class="table table-condensed nodedetail-info-table"><colgroup><col style="width: 15%"><col style="width: 85%"></colgroup><tbody><tr><td>OUTPUT</td><td><span class="label label-success" ng-if="nodedetailinfo.nodeState.output">ENABLED</span> <span class="label label-default" ng-if="!nodedetailinfo.nodeState.output">DISABLED</span></td></tr><tr><td>INPUTS</td><td><ul class="nodetails-info-inputs" ng-if="nodedetailinfo.nodeState.inputs.length > 0"><li ng-repeat="input in nodedetailinfo.nodeState.inputs"><a ui-sref="nodedetail({ nodename: input })">{{ input }}</a></li></ul><em ng-if="nodedetailinfo.nodeState.inputs.length == 0">none</em></td></tr></tbody></table></div></div><div class="row" ng-if="nodedetailinfo.nodeConfig.config"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">CONFIG</h5><node-config class="nodedetail-info-config" config="nodedetailinfo.nodeConfig.config"></node-config></div></div>'),t.put("app/nodedetail/view.stats.html",'<svg height="6" width="6" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><pattern id="pattern-metric" patternunits="userSpaceOnUse" width="3" height="3"><path d="M0 3L3 0M-1 1L1 -1M2 4L4 2" stroke="#ff7f0e" stroke-width="1"></path></pattern></defs></svg><div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">STATISTICS</h5></div></div><div class="row"><div class="col-sm-12 col-md-12"><table class="table table-condensed nodedetails-stats-table"><colgroup><col style="width: 15%"><col style="width: 10%"><col style="width: 75%"></colgroup><thead><th>METRIC</th><th>CURRENT</th><th>HISTORY (LAST {{ nodedetailstats.chartRange | uppercase }})</th></thead><tbody><tr><td>INDICATORS</td><td>{{ nodedetailstats.nodeState.length }}</td><td><div class="nodedetail-nvd3-container"><nvd3 class="nodedetail-metric-chart" api="nodedetailstats.chartApi.indicators" options="nodedetailstats.chartOptions" data="nodedetailstats.metrics.indicators"></nvd3></div></td></tr></tbody></table></div></div><div class="row"><div class="col-sm-12 col-md-12"><table class="table table-condensed nodedetails-stats-table"><colgroup><col style="width: 15%"><col style="width: 10%"><col style="width: 75%"></colgroup><thead><th>METRIC</th><th>SINCE<br>ENGINE START</th><th>HISTORY (LAST {{ nodedetailstats.chartRange | uppercase }})</th></thead><tbody><tr ng-repeat="name in nodedetailstats.metrics_names | orderBy" ng-if="name != \'indicators\'"><td>{{ name | uppercase }}</td><td>{{ nodedetailstats.nodeState.statistics[name] || 0 }}</td><td><div class="nodedetail-nvd3-container"><nvd3 ng-if="nodedetailstats.metrics[name]" class="nodedetail-metric-chart" api="nodedetailstats.chartApi[name]" options="nodedetailstats.chartOptions" data="nodedetailstats.metrics[name]"></nvd3><div ng-if="!nodedetailstats.metrics[name]"><i>No history yet</i></div></div></td></tr><tr ng-if="nodedetailstats.metrics_names.length == 0 || ((nodedetailstats.metrics_names.length == 1) && (nodedetailstats.metrics_names[0] == \'indicators\'))"><td colspan="4"><i>No metrics yet</i></td></tr></tbody></table></div></div><minemeld-options><h5 class="m-t-xs m-b-xs">OPTIONS</h5><div class="minemeld-options-form"><h6>Range</h6><select class="form-control" ng-model="nodedetailstats.chartRange" ng-change="nodedetailstats.chartRangeChanged()"><option value="1h">1 hour</option><option value="24h">24 hours</option><option value="7d">7 days</option><option value="30d">30 days</option></select></div></minemeld-options>'),t.put("app/nodedetail/yaml.comment.modal.html",'<div class="modal-header"><h1 class="modal-title">INDICATOR {{ vm.indicator }} <span ng-if="vm.origComment != vm.comment">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-3 m-t-xs">COMMENT</div><div class="col-xs-9"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></div><div class="modal-footer"><button ng-disabled="vm.origComment == vm.comment" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yaml.sharelevel.modal.html",'<div class="modal-header"><h1 class="modal-title">INDICATOR {{ vm.indicator }} <span ng-if="vm.origShareLevel != vm.share_level">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-3 m-t-xs">SHARE LEVEL</div><div class="col-xs-9"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div></div><div class="modal-footer"><button ng-disabled="vm.origShareLevel == vm.share_level" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamldomain.add.modal.html",'<div class="modal-header"><h1 class="modal-title">ADD DOMAIN INDICATOR</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgIndicator" class="form-group"><label class="col-xs-4 control-label">INDICATOR</label><div class="col-xs-6"><input type="text" ng-model="vm.indicator" class="form-control" placeholder="Domain (required)" required=""></div></div><div class="form-group"><label class="col-xs-4 control-label">SHARE LEVEL</label><div class="col-xs-6"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div><div class="form-group"><label class="col-xs-4 control-label">COMMENT</label><div class="col-xs-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamldomain.indicators.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">INDICATORS <button tooltip-popup-delay="500" tooltip="reload indicator list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtIndicators" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="4" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add indicator" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addIndicator()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/yamlipv4.add.modal.html",'<div class="modal-header"><h1 class="modal-title">ADD IPv4 INDICATOR</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgIndicator" class="form-group"><label class="col-xs-4 control-label">INDICATOR</label><div class="col-xs-6"><input type="text" ng-model="vm.indicator" class="form-control" placeholder="CIDR or range (required)" required=""></div></div><div class="form-group"><label class="col-xs-4 control-label">DIRECTION</label><div class="col-xs-6"><ui-select ng-model="vm.direction" theme="bootstrap" reset-search-input="false" style="width: 100%;"><ui-select-match placeholder="Select direction (optional)" allow-clear="true">{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="direction.value as direction in vm.availableDirections | filter: $select.search"><div><span ng-bind-html="direction.value | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-xs-4 control-label">SHARE LEVEL</label><div class="col-xs-6"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div><div class="form-group"><label class="col-xs-4 control-label">COMMENT</label><div class="col-xs-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamlipv4.direction.modal.html",'<div class="modal-header"><h1 class="modal-title">INDICATOR {{ vm.indicator }} <span ng-if="vm.origDirection != vm.direction">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2 m-t-xs">DIRECTION</div><div class="col-xs-10"><ui-select ng-model="vm.direction" theme="bootstrap" reset-search-input="false" style="width: 100%;"><ui-select-match placeholder="Select direction (optional)" allow-clear="true">{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="direction.value as direction in vm.availableDirections | filter: $select.search"><div><span ng-bind-html="direction.value | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div></div><div class="modal-footer"><button ng-disabled="vm.origDirection == vm.direction" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamlipv4.indicators.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">INDICATORS <button tooltip-popup-delay="500" tooltip="reload indicator list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtIndicators" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="5" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add indicator" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addIndicator()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/yamlipv6.add.modal.html",'<div class="modal-header"><h1 class="modal-title">ADD IPv6 INDICATOR</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgIndicator" class="form-group"><label class="col-xs-4 control-label">INDICATOR</label><div class="col-xs-6"><input type="text" ng-model="vm.indicator" class="form-control" placeholder="CIDR or range (required)" required=""></div></div><div class="form-group"><label class="col-xs-4 control-label">DIRECTION</label><div class="col-xs-6"><ui-select ng-model="vm.direction" theme="bootstrap" reset-search-input="false" style="width: 100%;"><ui-select-match placeholder="Select direction (optional)" allow-clear="true">{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="direction.value as direction in vm.availableDirections | filter: $select.search"><div><span ng-bind-html="direction.value | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div><div class="form-group"><label class="col-xs-4 control-label">SHARE LEVEL</label><div class="col-xs-6"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div><div class="form-group"><label class="col-xs-4 control-label">COMMENT</label><div class="col-xs-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamlipv6.direction.modal.html",'<div class="modal-header"><h1 class="modal-title">INDICATOR {{ vm.indicator }} <span ng-if="vm.origDirection != vm.direction">*</span></h1></div><div class="modal-body"><div class="row"><div class="col-xs-2 m-t-xs">DIRECTION</div><div class="col-xs-10"><ui-select ng-model="vm.direction" theme="bootstrap" reset-search-input="false" style="width: 100%;"><ui-select-match placeholder="Select direction (optional)" allow-clear="true">{{$select.selected.value}}</ui-select-match><ui-select-choices repeat="direction.value as direction in vm.availableDirections | filter: $select.search"><div><span ng-bind-html="direction.value | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div></div><div class="modal-footer"><button ng-disabled="vm.origDirection == vm.direction" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamlipv6.indicators.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">INDICATORS <button tooltip-popup-delay="500" tooltip="reload indicator list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtIndicators" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="5" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add indicator" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addIndicator()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/nodedetail/yamlurl.add.modal.html",'<div class="modal-header"><h1 class="modal-title">ADD URL INDICATOR</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div id="fgIndicator" class="form-group"><label class="col-xs-4 control-label">INDICATOR</label><div class="col-xs-6"><input type="text" ng-model="vm.indicator" class="form-control" placeholder="URL (required)" required=""></div></div><div class="form-group"><label class="col-xs-4 control-label">SHARE LEVEL</label><div class="col-xs-6"><span ng-if="!vm.share_level" class="btn btn-sm btn-default" type="button" ng-click="vm.share_level = \'green\'">UNKNOWN</span> <span ng-if="vm.share_level == \'green\'" class="btn btn-sm btn-success" type="button" ng-click="vm.share_level = \'yellow\'">GREEN</span> <span ng-if="vm.share_level == \'yellow\'" class="btn btn-sm btn-warning" type="button" ng-click="vm.share_level = \'red\'">YELLOW</span> <span ng-if="vm.share_level == \'red\'" class="btn btn-sm btn-danger" type="button" ng-click="vm.share_level = null">RED</span></div></div><div class="form-group"><label class="col-xs-4 control-label">COMMENT</label><div class="col-xs-6"><textarea style="resize: vertical" class="form-control" ng-model="vm.comment" placeholder="Comment (optional)" rows="3"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/nodedetail/yamlurl.indicators.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">INDICATORS <button tooltip-popup-delay="500" tooltip="reload indicator list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtIndicators" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="4" style="padding-right: 0;"><a tooltip-popup-delay="500" tooltip="add indicator" style="float: right;"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.addIndicator()"><span class="glyphicon glyphicon-plus"></span></button></a></td></tr></tfoot></table></div></div>'),t.put("app/prototypes/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs">PROTOTYPES</h3></div></div><div class="row dashboard-row"><div class="col-sm-12 col-md-12"><table datatable="" id="prototypesTable" dt-instance="vm.dtPrototypes" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"></table></div></div>'),t.put("app/prototypedetail/view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h3 class="m-t-xs prototypedetail-title">{{ vm.libraryName }}.{{ vm.prototypeName }} <span class="prototypedetail-description">PROTOTYPE</span> <button ng-if="vm.libraryName == \'minemeldlocal\'" tooltip-popup-delay="500" tooltip="delete this prototype" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.delete()"><span class="glyphicon glyphicon-remove"></span> REMOVE</button> <button tooltip-popup-delay="500" tooltip="new prototype from this" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.$state.go(\'prototypeadd\', {prototype: vm.libraryName+\'.\'+vm.prototypeName})"><span class="glyphicon glyphicon-paste"></span> NEW</button> <button tooltip-popup-delay="500" tooltip="new node from this prototype" type="button" class="config-action btn btn-config-action btn-sm" ng-click="vm.$state.go(\'configadd\', {prototype: vm.libraryName+\'.\'+vm.prototypeName})"><span class="glyphicon glyphicon-duplicate"></span> CLONE</button></h3></div></div><div class="row" ng-if="vm.prototype.node_type||vm.prototype.development_status"><div class="col-sm-12 col-md-12"><h4 class="prototype-detail-top-label" ng-if="vm.prototype.node_type == \'miner\'"><span class="label nodes-label-miner">{{ vm.prototype.node_type|uppercase }}</span></h4><h4 class="prototype-detail-top-label" ng-if="vm.prototype.node_type == \'output\'"><span class="label nodes-label-output">{{ vm.prototype.node_type|uppercase }}</span></h4><h4 class="prototype-detail-top-label" ng-if="vm.prototype.node_type == \'processor\'"><span class="label nodes-label-processor">{{ vm.prototype.node_type|uppercase }}</span></h4><h4 ng-if="vm.prototype.development_status == \'STABLE\'" class="prototype-detail-top-label"><span class="label label-success">{{ vm.prototype.development_status }}</span></h4><h4 ng-if="vm.prototype.development_status != \'STABLE\'" class="prototype-detail-top-label"><span class="label label-danger">{{ vm.prototype.development_status }}</span></h4></div></div><div class="row" ng-if="vm.library.description||vm.library.url"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>ABOUT {{ vm.libraryName }}</h4><div>{{ vm.library.description }}</div><div ng-if="vm.library.url">For more details: <a target="_blank" href="{{ vm.library.url }}">{{ vm.library.url }}</a></div></div></div><div class="row" ng-if="vm.prototype.description"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>ABOUT {{ vm.libraryName }}.{{ vm.prototypeName }}</h4><div>{{ vm.prototype.description }}</div></div></div><div class="row" ng-if="vm.prototype.author"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>AUTHOR</h4><div>{{ vm.prototype.author }}</div></div></div><div class="row"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>CLASS</h4><div>{{ vm.prototype.class }}</div></div></div><div class="row"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>INDICATOR TYPES</h4><div><span ng-if="!vm.prototype.indicator_types"><i>None</i></span> <span ng-if="vm.prototype.indicator_types || vm.prototype.indicator_types.length == 0" ng-repeat="itype in vm.prototype.indicator_types" class="label label-indicator-type m-r-xs">{{ itype }}</span></div></div></div><div class="row"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4>TAGS</h4><div><span ng-if="vm.prototype.tags" ng-repeat="tag in vm.prototype.tags" class="label tag-prototype m-r-xs">{{ tag }}</span> <span ng-if="!vm.prototype.tags || vm.prototype.tags.length == 0"><i>None</i></span></div></div></div><div class="row" ng-if="vm.prototype.config"><div class="col-sm-12 col-md-12 prototypedetail-section"><h4 class="m-b-xs">CONFIG</h4><node-config class="prototypedetail-config" config="vm.prototype.config"></node-config></div></div>'),t.put("app/services/confirm.html",'<div class="modal-header"><h1 class="modal-title">{{ vm.title }}</h1></div><div class="modal-body"><div class="row"><div class="col-xs-12">{{ vm.msg }}</div></div></div><div class="modal-footer"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.ok()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/system/backup.download.modal.html",'<div class="modal-header"><h1 class="modal-title">DOWNLOAD BACKUP</h1></div><div class="modal-body"><div class="row"><div class="col-xs-12">Backup ready. Click <a target="_blank" href="/status/backup/{{ vm.backup_id }}">here</a> to download.</div></div></div><div class="modal-footer"><button class="btn btn-primary btn-sm" type="button" ng-click="vm.ok()">DONE</button></div>'),t.put("app/system/backup.sp.modal.html",'<div class="modal-header"><h1 class="modal-title">GENERATE BACKUP</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgPassword1"><label class="col-xs-4 control-label">BACKUP PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.password" class="form-control" placeholder="Password for backup"></div></div><div class="form-group" id="fgPassword2"><label class="col-xs-4 control-label">REPEAT PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.password2" class="form-control" placeholder="Repeat password for backup"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.save()">OK</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/system/dashboard.view.html",'<div class="row m-t-xs"><div class="col-sm-12 col-md-12"><button tooltip-popup-delay="500" tooltip="import local backup" type="button" class="config-action btn btn-config-action btn-sm" ng-disabled="vm.workingBackup" ng-click="vm.restoreLocalBackup()"><span class="glyphicon glyphicon-floppy-open"></span> RESTORE BACKUP</button> <button tooltip-popup-delay="500" tooltip="export local backup" type="button" class="config-action btn btn-config-action btn-sm" ng-disabled="vm.workingBackup" ng-click="vm.generateLocalBackup()"><span class="glyphicon glyphicon-floppy-save"></span> EXPORT BACKUP</button> <button tooltip-popup-delay="500" tooltip="purge logs" type="button" class="config-action btn btn-config-action btn-sm" ng-disabled="vm.purgingTraces" ng-click="vm.purgeTraces()"><span class="glyphicon glyphicon-erase"></span> PURGE LOGS</button></div></div><div ng-if="vm.system.disk >= 70" class="row m-t-xs"><div class="col-sm-12 col-md-12"><div class="alert alert-danger m-b-xs" role="alert"><strong>Warning!</strong> disk space available less than 30%. Logging has been disabled to prevent data corruption. <a style="cursor: pointer;" ng-click="vm.purgeTraces()">Purge logs</a> to free disk space and reactivate logging.</div></div></div><div ng-if="vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] == \'FATAL\'" class="row m-t-xs"><div class="col-sm-12 col-md-12"><div class="alert alert-danger m-b-xs" role="alert"><strong>Warning!</strong> MineMeld engine failed to start. Download engine <a href="/logs/minemeld-engine.log">logs</a> to check the error.</div></div></div><div class="row dashboard-row m-t-xs"><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">SUPERVISOR</div></div><div class="col-xs-10 text-center dashboard-main-statistic"><h3 class="m-b-xs" ng-switch="vm.supervisor.statename"><span class="label label-success" ng-switch-when="RUNNING">{{ vm.supervisor.statename }}</span> <span class="label label-danger" ng-switch-when="STOPPED">{{ vm.supervisor.statename }}</span> <span class="label label-default" ng-switch-default="">{{ vm.supervisor.statename }}</span></h3></div></div></div><div class="col-sm-6 col-md-6"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">ENGINE</div></div><div class="col-xs-5 text-center dashboard-main-statistic"><h3 ng-switch="vm.supervisor.processes[\'minemeld-engine\'][\'statename\']"><span class="label label-success" ng-switch-when="RUNNING">{{ vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] }}</span> <span class="label label-success" ng-switch-when="STARTING">{{ vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] }}</span> <span class="label label-danger" ng-switch-when="STOPPED">{{ vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] }}</span> <span class="label label-danger" ng-switch-when="STOPPING">{{ vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] }}</span> <span class="label label-default" ng-switch-default="">{{ vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] }}</span></h3><small ng-if="vm.supervisor.processes[\'minemeld-engine\'][\'statename\'] == \'RUNNING\'">STARTED {{ vm.supervisor.processes[\'minemeld-engine\'][\'start\'] }}</small></div><div class="col-xs-5 text-center dashboard-main-statistic"><h2 class="m-b-xs" ng-bind="(vm.supervisor.processes[\'minemeld-engine\'][\'children\'])||\'N/A\'"></h2><small># of chassis</small></div><div class="system-button-bar"><a tooltip-popup-delay="500" tooltip="download engine logs" type="button" class="btn btn-system-action btn-xs" href="/logs/minemeld-engine.log"><span class="glyphicon glyphicon-download-alt"></span> LOGS</a> <button tooltip-popup-delay="500" tooltip="restart the engine" type="button" class="btn btn-system-action btn-xs" ng-click="vm.engineRestart()"><span class="glyphicon glyphicon-refresh"></span> RESTART</button></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">API</div></div><div class="col-xs-10 text-center dashboard-main-statistic"><h2 class="m-b-xs" ng-bind="(vm.supervisor.processes[\'minemeld-web\'][\'children\'])||\'N/A\'"></h2><small># of API processes</small></div><div class="system-button-bar"><a tooltip-popup-delay="500" tooltip="download API logs" type="button" class="btn btn-system-action btn-xs" href="/logs/minemeld-web.log"><span class="glyphicon glyphicon-download-alt"></span> LOGS</a> <button tooltip-popup-delay="500" tooltip="restart the api" type="button" class="btn btn-system-action btn-xs" ng-click="vm.apiRestart()"><span class="glyphicon glyphicon-refresh"></span> RESTART</button></div></div></div></div><div class="row dashboard-row"><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">CPU</div></div><div class="dashboard-piechart" easypiechart="" options="vm.epOptions" percent="vm.system.cpu[0]"><div class="dashboard-piechart-value" ng-bind="vm.system.cpu[0]"></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">MEMORY</div></div><div class="dashboard-piechart" easypiechart="" options="vm.epOptions" percent="vm.system.memory"><div class="dashboard-piechart-value" ng-bind="vm.system.memory"></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">DISK</div></div><div class="dashboard-piechart" easypiechart="" options="vm.epOptions" percent="vm.system.disk"><div class="dashboard-piechart-value" ng-bind="vm.system.disk"></div></div></div></div><div class="col-sm-3 col-md-3"><div class="row dashboard-row-system"><div class="dashboard-label dashboard-label-system"><div class="dashboard-label-text">SWAP</div></div><div class="dashboard-piechart" easypiechart="" options="vm.epOptions" percent="vm.system.swap"><div class="dashboard-piechart-value" ng-bind="vm.system.swap"></div></div></div></div></div>'),
t.put("app/system/extensions.view.html",'<div class="row"><div class="col-sm-12 col-md-12"><h5 class="m-b-xs">EXTENSIONS <button tooltip-popup-delay="500" tooltip="reload extensions list" type="button" class="btn-config-action btn btn-sm" ng-click="vm.reload()"><span class="glyphicon glyphicon-refresh"></span></button></h5></div></div><div class="row m-t-xs"><div class="col-sm-12 col-md-12"><table datatable="" id="nodedetailTable" dt-instance="vm.dtExtensions" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" class="table table-condensed"><tfoot><tr><td colspan="5" style="padding-right: 0;"><div class="btn-toolbar" style="float: right;"><button tooltip-popup-delay="500" tooltip="upload extension" class="btn btn-primary btn-sm" type="button" ng-click="vm.installExtension()"><span class="glyphicon glyphicon-open"></span></button> <button tooltip-popup-delay="500" tooltip="install extension from git" class="btn btn-primary btn-sm" type="button" ng-click="vm.installExtensionFromGit()"><span class="fa fa-git"></span></button></div></td></tr></tfoot></table></div></div>'),t.put("app/system/installextensionfromgit.modal.html",'<div class="modal-header"><h1 class="modal-title">INSTALL EXTENSION FROM GIT</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group" id="fgEndpoint"><label class="col-xs-4 control-label">REPOSITORY URL</label><div class="col-xs-6"><input ng-disabled="vm.retrieving" type="text" class="form-control" placeholder="(Should end with .git)" ng-change="vm.urlChanged()" ng-model="vm.endpoint"></div></div></form></div><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">VERSION</label><div class="col-xs-6"><button ng-if="!vm.availableReferences" ng-disabled="!vm.endpoint || vm.retrieving || vm.invalidUrl" class="btn btn-primary btn-sm" type="button" ng-click="vm.retrieveRefs()">RETRIEVE</button><ui-select ng-if="vm.availableReferences" ng-disabled="vm.retrieving" ng-model="vm.ref" theme="bootstrap"><ui-select-match placeholder="Select reference...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="ref as ref in vm.availableReferences | filter: $select.search"><div><span ng-bind-html="ref | highlight: $select.search"></span></div></ui-select-choices></ui-select></div></div></form></div></div><div class="modal-footer"><div ng-if="vm.retrieving" style="float: left; width: 70%;"><progressbar style="margin-top: 5px; margin-bottom: 0px;" max="vm.progressMax" value="vm.progressValue" type="success"></progressbar></div><button ng-disabled="!vm.valid() || vm.retrieving" class="btn btn-primary btn-sm" type="button" ng-click="vm.install()">INSTALL</button> <button ng-disabled="vm.retrieving" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/system/restorebackup.modal.html",'<div class="modal-header"><h1 class="modal-title">RESTORE LOCAL BACKUP</h1></div><div class="modal-body"><div class="row" ng-if="vm.state == \'INIT\'"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">BACKUP FILE</label><div class="col-xs-6" style="padding-top: 7px"><input ng-disabled="vm.uploader.isUploading" type="file" nv-file-select="" uploader="vm.uploader"></div></div><div class="form-group" id="fgPassword1"><label class="col-xs-4 control-label">PASSWORD</label><div class="col-xs-6"><input type="password" ng-model="vm.password" class="form-control" placeholder="Password for backup file"></div></div></form></div><div class="row" ng-if="vm.state == \'UPLOADED\'"><div class="col-xs-12">Select backup content to restore</div></div><div class="row" ng-if="vm.state == \'UPLOADED\'"><form class="config-add-form form-horizontal m-t-xs"><div ng-if="vm.configurationAvailable" class="form-group"><label class="col-xs-4 control-label">CONFIGURATION</label><div class="col-xs-6" style="padding-top: 7px"><span ng-if="vm.configurationAvailable && vm.configuration" class="label label-success"><span ng-click="vm.toggleConfiguration()" tooltip="enabled" class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="vm.configurationAvailable && !vm.configuration" class="label label-default"><span ng-click="vm.toggleConfiguration()" tooltip="disabled" class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="!vm.configurationAvailable"><i>Not available</i><span></span></span></div></div><div ng-if="vm.feedsAAAAvailable" class="form-group"><label class="col-xs-4 control-label">FEEDS AAA</label><div class="col-xs-6" style="padding-top: 7px"><span ng-if="vm.feedsAAAAvailable && vm.feedsAAA" class="label label-success"><span ng-click="vm.toggleFeedsAAA()" tooltip="enabled" class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="vm.feedsAAAAvailable && !vm.feedsAAA" class="label label-default"><span ng-click="vm.toggleFeedsAAA()" tooltip="disabled" class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="!vm.feedsAAAAvailable"><i>Not available</i><span></span></span></div></div><div ng-if="vm.localPrototypesAvailable" class="form-group"><label class="col-xs-4 control-label">LOCAL PROTOTYPES</label><div class="col-xs-6" style="padding-top: 7px"><span ng-if="vm.localPrototypesAvailable && vm.localPrototypes" class="label label-success"><span ng-click="vm.toggleLocalPrototypes()" tooltip="enabled" class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="vm.localPrototypesAvailable && !vm.localPrototypes" class="label label-default"><span ng-click="vm.toggleLocalPrototypes()" tooltip="disabled" class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="!vm.localPrototypesAvailable"><i>Not available</i><span></span></span></div></div><div ng-if="vm.localCertificatesAvailable" class="form-group"><label class="col-xs-4 control-label">LOCAL CERTIFICATES</label><div class="col-xs-6" style="padding-top: 7px"><span ng-if="vm.localCertificatesAvailable && vm.localCertificates" class="label label-success"><span ng-click="vm.toggleLocalCertificates()" tooltip="enabled" class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-if="vm.localCertificatesAvailable && !vm.localCertificates" class="label label-default"><span ng-click="vm.toggleLocalCertificates()" tooltip="disabled" class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-if="!vm.localCertificatesAvailable"><i>Not available</i><span></span></span></div></div></form></div><div class="row" ng-if="vm.state == \'RESTORE\'"><div class="col-xs-12">RESTORING BACKUP. TO PROCEED PRESS CONTINUE.</div></div></div><div class="modal-footer"><button ng-if="vm.state == \'INIT\'" ng-disabled="vm.uploader.queue.length == 0 || vm.uploader.isUploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.uploader.uploadAll()">{{vm.uploader.isUploading ? \'UPLOADING\' : \'UPLOAD\'}}</button> <button ng-if="vm.state == \'UPLOADED\'" ng-disabled="!vm.contentSelected" class="btn btn-primary btn-sm" type="button" ng-click="vm.restore1st()">RESTORE</button> <button ng-if="vm.state == \'RESTORE\'" class="btn btn-primary btn-sm" type="button" ng-click="vm.restore2nd()">CONTINUE</button> <button ng-disabled="vm.uploader.isUploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/system/uploadextension.modal.html",'<div class="modal-header"><h1 class="modal-title">UPLOAD EXTENSION</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">EXTENSION FILE</label><div class="col-xs-6" style="padding-top: 7px"><input ng-disabled="vm.uploader.isUploading" type="file" nv-file-select="" uploader="vm.uploader"></div></div></form></div></div><div class="modal-footer"><button ng-disabled="vm.uploader.queue.length == 0 || vm.uploader.isUploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.uploader.uploadAll()">{{vm.uploader.isUploading ? \'UPLOADING\' : \'UPLOAD\'}}</button> <button ng-disabled="vm.uploader.isUploading" class="btn btn-primary btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>'),t.put("app/system/view.html",'<div class="row"><div class="col-xs-1 nodedetail-tabs-col"><tabset vertical="true"><tab select="vm.$state.go(\'system.dashboard\')" active="vm.tabs[0]"><tab-heading tooltip="DASHBOARD" tooltip-placement="right" tooltip-popup-delay="500"><span class="glyphicon glyphicon-dashboard"></span></tab-heading></tab><tab select="vm.$state.go(\'system.extensions\')" active="vm.tabs[1]"><tab-heading tooltip="EXTENSIONS" tooltip-placement="right" tooltip-popup-delay="500"><span class="glyphicon glyphicon-th"></span></tab-heading></tab></tabset></div><div class="col-xs-11 nodedetails-content-col"><div ui-view=""></div></div></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" ui-sref="about">MINEMELD</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a ui-sref="dashboard"><span class="glyphicon glyphicon-dashboard"></span> DASHBOARD</a></li><li><a ui-sref="nodes"><span class="glyphicon glyphicon-asterisk"></span> NODES</a></li><li><a ui-sref="config"><span class="glyphicon glyphicon-wrench"></span> CONFIG</a></li><li><a ui-sref="logs"><span class="glyphicon glyphicon-list"></span> LOGS</a></li><li ng-if="vm.read_write"><a ui-sref="admin.users"><span class="glyphicon glyphicon-user"></span> ADMIN</a></li><li><a ui-sref="system.dashboard"><span tooltip-popup-delay="100" tooltip="engine: {{ vm.engineStatename|lowercase }}" tooltip-placement="bottom"><span class="glyphicon navbar-system-icon-{{ vm.engineStateIcon }}"></span> SYSTEM<div ng-if="vm.engineStateIcon == \'stopped\'" class="pull-right navbar-system-badge-stopped"></div></span><div ng-if="vm.engineStateIcon == \'stopping\'" class="navbar-system-bar-stopping"></div><div ng-if="vm.engineStateIcon == \'starting\'" class="navbar-system-bar-starting"></div></a></li><li><a title="logout" href="#" ng-click="vm.logout()"><span class="glyphicon glyphicon-log-out"></span></a></li></ul></div></div><div class="container-fluid no-padding"><div class="albert_stripe albert_stripe_first"></div><div class="albert_stripe albert_stripe_second"></div><div class="albert_stripe albert_stripe_third"></div><div class="albert_stripe albert_stripe_fourth"></div></div></nav>'),t.put("app/components/nodeconfig/nodeconfig.html",'<div ng-if="vm.num_properties == 0"><i>Default</i></div><table ng-if="vm.num_properties != 0" class="table table-condensed"><colgroup><col style="width: 15%"><col></colgroup><tbody><tr ng-if="vm.config.infilters"><td>infilters</td><td><table class="table table-condensed"><thead><th>NAME</th><th>CONDITIONS</th><th>ACTIONS</th></thead><tbody><tr ng-repeat="filter in vm.config.infilters"><td>{{ filter.name }}</td><td><ul><li ng-repeat="condition in filter.conditions">{{ condition }}</li></ul></td><td><ul><li ng-repeat="action in filter.actions">{{ action }}</li></ul></td></tr></tbody></table></td></tr><tr ng-if="vm.config.outfilters"><td>outfilters</td><td><table class="table table-condensed"><thead><th>NAME</th><th>CONDITIONS</th><th>ACTIONS</th></thead><tbody><tr ng-repeat="filter in vm.config.outfilters"><td>{{ filter.name }}</td><td><ul><li ng-repeat="condition in filter.conditions">{{ condition }}</li></ul></td><td><ul><li ng-repeat="action in filter.actions">{{ action }}</li></ul></td></tr></tbody></table></td></tr><tr ng-repeat="(name, value) in vm.config" ng-if="name != \'infilters\' && name != \'outfilters\'"><td>{{ name }}</td><td ng-switch="vm.typeOf(value)"><ul ng-switch-when="object" ng-repeat="(a, v) in value"><li ng-if="v !== null">{{ a }}: {{ v }}</li><li ng-if="v === null">{{ a }}: <em>null</em></li></ul><ul ng-switch-when="list" ng-repeat="a in value track by $index"><li>{{ a }}</li></ul><span ng-switch-when="boolean" ng-if="!value" class="label label-default"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> <span ng-switch-when="boolean" ng-if="value" class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span> <span ng-switch-when="null"><em>Null</em></span> <span ng-switch-default="">{{ value }}</span></td></tr></tbody></table>'),t.put("app/components/options/options.html",'<div class="minemeld-options"><div><div class="minemeld-options-knob"><span class="glyphicon glyphicon-cog"></span></div><div class="minemeld-options-entries" ng-transclude=""></div></div></div>'),t.put("app/components/prototypetooltip/prototypetooltip.html",'<div class="prototypetooltip-maindiv"><div ng-if="vm.libraryDescription"><div><strong>{{ vm.libraryName }}</strong><div><div>{{ vm.libraryDescription}}</div></div><div style="margin-top: 3px;" ng-if="vm.prototypeDescription"><div><strong>{{ vm.name }}</strong></div><div>{{ vm.prototypeDescription }}</div></div></div></div></div>'),t.put("app/components/suggestion/suggestion.html",'<div ng-if="vm.snsAvailable && !vm.disabled" class="suggestion-container"><div ng-if="vm.minimized" class="suggestion-minimized"><div title="close" ng-click="vm.disabled = true"><i class="fa fa-times"></i></div><div ng-click="vm.showModal()"><small>Send a suggestion</small></div></div></div>'),t.put("app/components/suggestion/suggestion.modal.html",'<div class="modal-header"><h1 class="modal-title">SEND A SUGGESTION TO THE TEAM</h1></div><div class="modal-body"><div class="row"><form class="config-add-form form-horizontal m-t-xs"><div class="form-group"><label class="col-xs-4 control-label">EMAIL</label><div class="col-xs-6"><input type="text" ng-model="vm.email" class="form-control" placeholder="Your email"></div></div><div class="form-group"><label class="col-xs-4 control-label">SUGGESTION</label><div class="col-xs-6"><textarea rows="4" ng-model="vm.suggestion" class="form-control" placeholder="Your suggestion"></textarea></div></div></form></div></div><div class="modal-footer"><button ng-disabled="!vm.valid()" class="btn btn-primary btn-sm" type="button" ng-click="vm.submit()">SUBMIT</button> <button class="btn btn-warning btn-sm" type="button" ng-click="vm.cancel()">CANCEL</button></div>')}]);
//# sourceMappingURL=../maps/scripts/app-16b93a5eae.js.map
